plugins {
  id 'java-library'
  id 'maven-publish'
}

group 'hydra'
version '0.1'

sourceCompatibility = 8
targetCompatibility = 8

dependencies {
  implementation 'com.linkedin.pegasus:generator:29.22.13'
  testImplementation 'junit:junit:4.13.2'
}

sourceSets {
  main {
    java {
      srcDirs 'src/main/java'
      srcDirs 'src/gen-main/java'
    }
  }
}

repositories {
  mavenCentral()
  mavenLocal()
  maven {
    url "https://linkedin.jfrog.io/artifactory/open-source/" // For Pegasus dependencies
  }
}

publishing {
  publications {
    mavenJava(MavenPublication) {
      from components.java
    }
  }
  repositories {
    mavenLocal()
  }
}
