plugins {
  id 'java-library'
  id 'maven-publish'
}

group 'hydra'
version '0.1'

// Temporary; currently needed for LinkedIn applications of Hydra
sourceCompatibility = '1.8'
targetCompatibility = '1.8'

dependencies {
//  implementation 'com.linkedin.pegasus:generator:29.22.13'
  testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'
  testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'
}

sourceSets {
  main {
    java {
      srcDirs 'src/main/java'
      srcDirs 'src/gen-main/java'
    }
  }
}

test {
  useJUnitPlatform()
}

repositories {
  mavenCentral()
  mavenLocal()
  maven {
    url "https://linkedin.jfrog.io/artifactory/open-source/" // For Pegasus dependencies
  }
}

publishing {
  publications {
    mavenJava(MavenPublication) {
      from components.java
    }
  }
  repositories {
    mavenLocal()
  }
}
