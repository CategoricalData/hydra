// Note: this is an automatically generated file. Do not edit.

package hydra.adapt.terms;

/**
 * Adapter framework for types and terms
 */
public interface Terms {
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>> fieldAdapter(hydra.core.FieldType ftyp) {
    return hydra.lib.flows.Bind.apply(
      hydra.adapt.terms.Terms.termAdapter((ftyp).type),
      (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>>) (ad -> hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(ad), ftyp, new hydra.core.FieldType((ftyp).name, ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(ad)), hydra.adapt.utils.Utils.bidirectional((java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Field, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Field>>>) (v1 -> (java.util.function.Function<hydra.core.Field, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Field>>) (v2 -> hydra.adapt.terms.Terms.fieldAdapter_encdec(
        ad,
        v1,
        v2))))))))))))));
  }
  
  static <T0, T1, T2> hydra.compute.Flow<T0, hydra.core.Field> fieldAdapter_encdec(hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term> ad, hydra.coders.CoderDirection dir, hydra.core.Field field) {
    hydra.core.Name name = (field).name;
    hydra.core.Term term = (field).term;
    return hydra.lib.flows.Bind.apply(
      hydra.adapt.utils.Utils.encodeDecode(
        dir,
        ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(ad),
        term),
      (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T0, hydra.core.Field>>) (newTerm -> hydra.lib.flows.Pure.apply(new hydra.core.Field(name, newTerm))));
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> forTypeReference(hydra.core.Name name) {
    java.util.function.Function<hydra.core.Name, java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>> encdec = (java.util.function.Function<hydra.core.Name, java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>>) (name2 -> (java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (dir -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (term -> hydra.lib.flows.Bind.apply(
      hydra.monads.Monads.<hydra.coders.AdapterContext>getState(),
      (java.util.function.Function<hydra.coders.AdapterContext, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (cx -> {
        java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> adapters = (cx).adapters;
        return hydra.lib.maybes.Maybe.apply(
          hydra.lib.flows.Fail.apply(hydra.lib.strings.Cat2.apply(
            "no adapter for reference type ",
            (name2).value)),
          (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (ad -> hydra.adapt.utils.Utils.encodeDecode(
            dir,
            ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(ad),
            term)),
          hydra.lib.maps.Lookup.apply(
            name2,
            adapters));
      })))));
    java.util.function.Function<hydra.coders.AdapterContext, java.util.function.Function<java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>, java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>> forType = (java.util.function.Function<hydra.coders.AdapterContext, java.util.function.Function<java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>, java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>>) (cx -> (java.util.function.Function<java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>, java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>) (adapters -> (java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (t -> hydra.lib.flows.Bind.apply(
      hydra.adapt.terms.Terms.termAdapter(t),
      (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (actual -> {
        hydra.util.Lazy<java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>> finalAdapters = new hydra.util.Lazy<>(() -> hydra.lib.maps.Insert.apply(
          name,
          actual,
          adapters));
        hydra.coders.AdapterContext finalCx = new hydra.coders.AdapterContext((cx).graph, (cx).language, finalAdapters.get());
        return hydra.lib.flows.Bind.apply(
          hydra.monads.Monads.putState(finalCx),
          (java.util.function.Function<java.lang.Void, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (ignored2 -> hydra.lib.flows.Pure.apply(actual)));
      })))));
    java.util.function.Function<hydra.coders.AdapterContext, java.util.function.Function<Boolean, java.util.function.Function<java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>, java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>>> forMissingAdapter = (java.util.function.Function<hydra.coders.AdapterContext, java.util.function.Function<Boolean, java.util.function.Function<java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>, java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>>>) (cx -> (java.util.function.Function<Boolean, java.util.function.Function<java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>, java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>>) (lossy2 -> (java.util.function.Function<java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>, java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>) (adapters -> (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (placeholder2 -> {
      hydra.util.Lazy<java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>> newAdapters = new hydra.util.Lazy<>(() -> hydra.lib.maps.Insert.apply(
        name,
        placeholder2,
        adapters));
      hydra.coders.AdapterContext newCx = new hydra.coders.AdapterContext((cx).graph, (cx).language, newAdapters.get());
      return hydra.lib.flows.Bind.apply(
        hydra.monads.Monads.putState(newCx),
        (java.util.function.Function<java.lang.Void, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (ignored -> hydra.lib.flows.Bind.apply(
          hydra.adapt.terms.Terms.withGraphContext(hydra.schemas.Schemas.resolveType(new hydra.core.Type.Variable(name))),
          (java.util.function.Function<hydra.util.Maybe<hydra.core.Type>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (mt -> hydra.lib.maybes.Maybe.apply(
            hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(lossy2, new hydra.core.Type.Variable(name), new hydra.core.Type.Variable(name), hydra.adapt.utils.Utils.bidirectional((java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (dir -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (term -> hydra.lib.flows.Pure.apply(term)))))))))))),
            (java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (v1 -> (((forType).apply(cx)).apply(adapters)).apply(v1)),
            mt)))));
    }))));
    Boolean lossy = false;
    hydra.util.Lazy<hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>> flow = new hydra.util.Lazy<>(() -> ((java.util.function.Supplier<hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (() -> {
      hydra.util.Lazy<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> placeholder = new hydra.util.Lazy<>(() -> (hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(lossy, new hydra.core.Type.Variable(name), new hydra.core.Type.Variable(name), hydra.adapt.utils.Utils.bidirectional((java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (v1 -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v2 -> (((encdec).apply(name)).apply(v1)).apply(v2))))))))))));
      return hydra.lib.flows.Bind.apply(
        hydra.monads.Monads.<hydra.coders.AdapterContext>getState(),
        (java.util.function.Function<hydra.coders.AdapterContext, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (cx -> {
          java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> adapters = (cx).adapters;
          return hydra.lib.maybes.Maybe.apply(
            ((((forMissingAdapter).apply(cx)).apply(lossy)).apply(adapters)).apply(placeholder.get()),
            (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (hydra.lib.flows.Pure::apply)),
            hydra.lib.maps.Lookup.apply(
              name,
              adapters));
        }));
    })).get());
    return hydra.monads.Monads.withTrace(
      hydra.lib.strings.Cat2.apply(
        "adapt named type ",
        (name).value),
      flow.get());
  }
  
  static hydra.core.Name functionProxyName() {
    return new hydra.core.Name("hydra.core.FunctionProxy");
  }
  
  static <T0> hydra.core.Type functionProxyType(T0 ignored) {
    return new hydra.core.Type.Union(new hydra.core.RowType(hydra.adapt.terms.Terms.functionProxyName(), java.util.List.of(
      new hydra.core.FieldType(new hydra.core.Name("wrap"), new hydra.core.Type.Literal(new hydra.core.LiteralType.String_())),
      new hydra.core.FieldType(new hydra.core.Name("record"), new hydra.core.Type.Literal(new hydra.core.LiteralType.String_())),
      new hydra.core.FieldType(new hydra.core.Name("union"), new hydra.core.Type.Literal(new hydra.core.LiteralType.String_())),
      new hydra.core.FieldType(new hydra.core.Name("lambda"), new hydra.core.Type.Literal(new hydra.core.LiteralType.String_())),
      new hydra.core.FieldType(new hydra.core.Name("primitive"), new hydra.core.Type.Literal(new hydra.core.LiteralType.String_())),
      new hydra.core.FieldType(new hydra.core.Name("variable"), new hydra.core.Type.Literal(new hydra.core.LiteralType.String_())))));
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> functionToUnion(hydra.core.Type t) {
    java.util.function.Function<hydra.core.Term, java.util.function.Function<hydra.core.Term, hydra.core.Term>> encTerm = (java.util.function.Function<hydra.core.Term, java.util.function.Function<hydra.core.Term, hydra.core.Term>>) (term -> (java.util.function.Function<hydra.core.Term, hydra.core.Term>) (strippedTerm -> (strippedTerm).accept(new hydra.core.Term.PartialVisitor<>() {
      @Override
      public hydra.core.Term visit(hydra.core.Term.Function f) {
        return ((f).value).accept(new hydra.core.Function.PartialVisitor<>() {
          @Override
          public hydra.core.Term visit(hydra.core.Function.Elimination e) {
            return ((e).value).accept(new hydra.core.Elimination.PartialVisitor<>() {
              @Override
              public hydra.core.Term visit(hydra.core.Elimination.Wrap name) {
                return new hydra.core.Term.Union(new hydra.core.Injection(hydra.adapt.terms.Terms.functionProxyName(), new hydra.core.Field(new hydra.core.Name("wrap"), new hydra.core.Term.Literal(new hydra.core.Literal.String_(((name).value).value)))));
              }
              
              @Override
              public hydra.core.Term visit(hydra.core.Elimination.Record r) {
                return new hydra.core.Term.Union(new hydra.core.Injection(hydra.adapt.terms.Terms.functionProxyName(), new hydra.core.Field(new hydra.core.Name("record"), new hydra.core.Term.Literal(new hydra.core.Literal.String_(hydra.show.core.Core.term(term))))));
              }
              
              @Override
              public hydra.core.Term visit(hydra.core.Elimination.Union u) {
                return new hydra.core.Term.Union(new hydra.core.Injection(hydra.adapt.terms.Terms.functionProxyName(), new hydra.core.Field(new hydra.core.Name("union"), new hydra.core.Term.Literal(new hydra.core.Literal.String_(hydra.show.core.Core.term(term))))));
              }
            });
          }
          
          @Override
          public hydra.core.Term visit(hydra.core.Function.Lambda l) {
            return new hydra.core.Term.Union(new hydra.core.Injection(hydra.adapt.terms.Terms.functionProxyName(), new hydra.core.Field(new hydra.core.Name("lambda"), new hydra.core.Term.Literal(new hydra.core.Literal.String_(hydra.show.core.Core.term(term))))));
          }
          
          @Override
          public hydra.core.Term visit(hydra.core.Function.Primitive name) {
            return new hydra.core.Term.Union(new hydra.core.Injection(hydra.adapt.terms.Terms.functionProxyName(), new hydra.core.Field(new hydra.core.Name("primitive"), new hydra.core.Term.Literal(new hydra.core.Literal.String_(((name).value).value)))));
          }
        });
      }
      
      @Override
      public hydra.core.Term visit(hydra.core.Term.Variable name) {
        return new hydra.core.Term.Union(new hydra.core.Injection(hydra.adapt.terms.Terms.functionProxyName(), new hydra.core.Field(new hydra.core.Name("variable"), new hydra.core.Term.Literal(new hydra.core.Literal.String_(((name).value).value)))));
      }
    })));
    java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.graph.Graph, hydra.core.Term>> readFromString = (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.graph.Graph, hydra.core.Term>>) (term -> hydra.lib.flows.Bind.apply(
      hydra.extract.core.Core.string(term),
      (java.util.function.Function<String, hydra.compute.Flow<hydra.graph.Graph, hydra.core.Term>>) (s -> hydra.lib.maybes.Maybe.apply(
        hydra.lib.flows.Fail.apply(hydra.lib.strings.Cat2.apply(
          "failed to parse term: ",
          s)),
        (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.graph.Graph, hydra.core.Term>>) ((java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.graph.Graph, hydra.core.Term>>) (hydra.lib.flows.Pure::apply)),
        hydra.show.core.Core.readTerm(s)))));
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Function ft) {
        hydra.core.Type cod = ((ft).value).codomain;
        hydra.core.Type dom = ((ft).value).domain;
        hydra.util.Lazy<hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Type>> unionType = new hydra.util.Lazy<>(() -> hydra.lib.flows.Bind.apply(
          hydra.adapt.terms.Terms.termAdapter(dom),
          (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Type>>) (domAd -> hydra.lib.flows.Pure.apply(new hydra.core.Type.Union(new hydra.core.RowType(hydra.adapt.terms.Terms.functionProxyName(), java.util.List.of(
            new hydra.core.FieldType(new hydra.core.Name("wrap"), new hydra.core.Type.Literal(new hydra.core.LiteralType.String_())),
            new hydra.core.FieldType(new hydra.core.Name("record"), new hydra.core.Type.Literal(new hydra.core.LiteralType.String_())),
            new hydra.core.FieldType(new hydra.core.Name("union"), new hydra.core.Type.Literal(new hydra.core.LiteralType.String_())),
            new hydra.core.FieldType(new hydra.core.Name("lambda"), new hydra.core.Type.Literal(new hydra.core.LiteralType.String_())),
            new hydra.core.FieldType(new hydra.core.Name("primitive"), new hydra.core.Type.Literal(new hydra.core.LiteralType.String_())),
            new hydra.core.FieldType(new hydra.core.Name("variable"), new hydra.core.Type.Literal(new hydra.core.LiteralType.String_())))))))));
        return hydra.lib.flows.Bind.apply(
          unionType.get(),
          (java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (ut -> hydra.lib.flows.Bind.apply(
            hydra.adapt.terms.Terms.termAdapter(ut),
            (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (ad -> hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(ad), t, ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(ad), (hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (v1 -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v2 -> hydra.adapt.terms.Terms.functionToUnion_encode(
              encTerm,
              hydra.rewriting.Rewriting::deannotateTerm,
              v1,
              v2)))).apply(ad), ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (v1 -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v2 -> hydra.adapt.terms.Terms.functionToUnion_decode(
              hydra.adapt.terms.Terms.functionProxyName(),
              (java.util.function.Function<hydra.core.Name, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.graph.Graph, hydra.core.Field>>>) (p0 -> p1 -> hydra.extract.core.Core.injection(
                p0,
                p1)),
              hydra.extract.core.Core::string,
              readFromString,
              v1,
              v2)))).apply(ad))))))))))))))))));
      }
    });
  }
  
  static <T0, T1, T2, T3, T4, T5, T6, T7> hydra.compute.Flow<T3, T7> functionToUnion_encode(java.util.function.Function<T0, java.util.function.Function<T1, T2>> encTerm, java.util.function.Function<T0, T1> hydra_rewriting_deannotateTerm2, hydra.compute.Adapter<T3, T4, T5, T6, T2, T7> ad, T0 term) {
    T1 strippedTerm = (hydra_rewriting_deannotateTerm2).apply(term);
    return (((java.util.function.Function<hydra.compute.Coder<T3, T4, T2, T7>, java.util.function.Function<T2, hydra.compute.Flow<T3, T7>>>) ((java.util.function.Function<hydra.compute.Coder<T3, T4, T2, T7>, java.util.function.Function<T2, hydra.compute.Flow<T3, T7>>>) ((java.util.function.Function<hydra.compute.Coder<T3, T4, T2, T7>, java.util.function.Function<T2, hydra.compute.Flow<T3, T7>>>) ((java.util.function.Function<hydra.compute.Coder<T3, T4, T2, T7>, java.util.function.Function<T2, hydra.compute.Flow<T3, T7>>>) (projected -> projected.encode))))).apply(((java.util.function.Function<hydra.compute.Adapter<T3, T4, T5, T6, T2, T7>, hydra.compute.Coder<T3, T4, T2, T7>>) ((java.util.function.Function<hydra.compute.Adapter<T3, T4, T5, T6, T2, T7>, hydra.compute.Coder<T3, T4, T2, T7>>) ((java.util.function.Function<hydra.compute.Adapter<T3, T4, T5, T6, T2, T7>, hydra.compute.Coder<T3, T4, T2, T7>>) ((java.util.function.Function<hydra.compute.Adapter<T3, T4, T5, T6, T2, T7>, hydra.compute.Coder<T3, T4, T2, T7>>) ((java.util.function.Function<hydra.compute.Adapter<T3, T4, T5, T6, T2, T7>, hydra.compute.Coder<T3, T4, T2, T7>>) ((java.util.function.Function<hydra.compute.Adapter<T3, T4, T5, T6, T2, T7>, hydra.compute.Coder<T3, T4, T2, T7>>) (projected -> projected.coder))))))).apply(ad))).apply(((encTerm).apply(term)).apply(strippedTerm));
  }
  
  static <T0, T1, T2, T3, T4, T5> hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term> functionToUnion_decode(T0 hydra_adapt_terms_functionProxyName2, java.util.function.Function<T0, java.util.function.Function<T1, hydra.compute.Flow<hydra.graph.Graph, hydra.core.Field>>> hydra_extract_core_injection2, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.graph.Graph, String>> hydra_extract_core_string2, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.graph.Graph, hydra.core.Term>> readFromString, hydra.compute.Adapter<T2, hydra.coders.AdapterContext, T3, T4, T1, T5> ad, T5 term) {
    java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>> forCases = (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (fterm -> hydra.adapt.terms.Terms.withGraphContext((readFromString).apply(fterm)));
    java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>> forLambda = (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (fterm -> hydra.adapt.terms.Terms.withGraphContext((readFromString).apply(fterm)));
    java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>> forPrimitive = (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (fterm -> hydra.adapt.terms.Terms.withGraphContext(hydra.lib.flows.Map.apply(
      (java.util.function.Function<String, hydra.core.Term>) (s -> new hydra.core.Term.Function(new hydra.core.Function.Primitive(new hydra.core.Name(s)))),
      (hydra_extract_core_string2).apply(fterm))));
    java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>> forProjection = (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (fterm -> hydra.adapt.terms.Terms.withGraphContext((readFromString).apply(fterm)));
    java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>> forVariable = (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (fterm -> hydra.adapt.terms.Terms.withGraphContext(hydra.lib.flows.Map.apply(
      (java.util.function.Function<String, hydra.core.Term>) (s -> new hydra.core.Term.Variable(new hydra.core.Name(s))),
      (hydra_extract_core_string2).apply(fterm))));
    java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>> forWrapped = (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (fterm -> hydra.adapt.terms.Terms.withGraphContext(hydra.lib.flows.Map.apply(
      (java.util.function.Function<String, hydra.core.Term>) (s -> new hydra.core.Term.Function(new hydra.core.Function.Elimination(new hydra.core.Elimination.Wrap(new hydra.core.Name(s))))),
      (hydra_extract_core_string2).apply(fterm))));
    return hydra.lib.flows.Bind.apply(
      (((java.util.function.Function<hydra.compute.Coder<T2, hydra.coders.AdapterContext, T1, T5>, java.util.function.Function<T5, hydra.compute.Flow<hydra.coders.AdapterContext, T1>>>) ((java.util.function.Function<hydra.compute.Coder<T2, hydra.coders.AdapterContext, T1, T5>, java.util.function.Function<T5, hydra.compute.Flow<hydra.coders.AdapterContext, T1>>>) ((java.util.function.Function<hydra.compute.Coder<T2, hydra.coders.AdapterContext, T1, T5>, java.util.function.Function<T5, hydra.compute.Flow<hydra.coders.AdapterContext, T1>>>) ((java.util.function.Function<hydra.compute.Coder<T2, hydra.coders.AdapterContext, T1, T5>, java.util.function.Function<T5, hydra.compute.Flow<hydra.coders.AdapterContext, T1>>>) (projected -> projected.decode))))).apply(((java.util.function.Function<hydra.compute.Adapter<T2, hydra.coders.AdapterContext, T3, T4, T1, T5>, hydra.compute.Coder<T2, hydra.coders.AdapterContext, T1, T5>>) ((java.util.function.Function<hydra.compute.Adapter<T2, hydra.coders.AdapterContext, T3, T4, T1, T5>, hydra.compute.Coder<T2, hydra.coders.AdapterContext, T1, T5>>) ((java.util.function.Function<hydra.compute.Adapter<T2, hydra.coders.AdapterContext, T3, T4, T1, T5>, hydra.compute.Coder<T2, hydra.coders.AdapterContext, T1, T5>>) ((java.util.function.Function<hydra.compute.Adapter<T2, hydra.coders.AdapterContext, T3, T4, T1, T5>, hydra.compute.Coder<T2, hydra.coders.AdapterContext, T1, T5>>) ((java.util.function.Function<hydra.compute.Adapter<T2, hydra.coders.AdapterContext, T3, T4, T1, T5>, hydra.compute.Coder<T2, hydra.coders.AdapterContext, T1, T5>>) ((java.util.function.Function<hydra.compute.Adapter<T2, hydra.coders.AdapterContext, T3, T4, T1, T5>, hydra.compute.Coder<T2, hydra.coders.AdapterContext, T1, T5>>) (projected -> projected.coder))))))).apply(ad))).apply(term),
      (java.util.function.Function<T1, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (injTerm -> hydra.lib.flows.Bind.apply(
        hydra.adapt.terms.Terms.withGraphContext(((hydra_extract_core_injection2).apply(hydra_adapt_terms_functionProxyName2)).apply(injTerm)),
        (java.util.function.Function<hydra.core.Field, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (field -> {
          hydra.core.Name fname = (field).name;
          hydra.core.Term fterm = (field).term;
          return hydra.lib.maybes.FromMaybe.apply(
            hydra.adapt.terms.Terms.functionToUnion_notFound(fname),
            hydra.lib.maps.Lookup.apply(
              fname,
              hydra.lib.maps.FromList.apply(java.util.List.of(
                (hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) ((hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (new hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>(new hydra.core.Name("wrap"), (forWrapped).apply(fterm)))),
                (hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) ((hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (new hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>(new hydra.core.Name("record"), (forProjection).apply(fterm)))),
                (hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) ((hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (new hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>(new hydra.core.Name("union"), (forCases).apply(fterm)))),
                (hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) ((hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (new hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>(new hydra.core.Name("lambda"), (forLambda).apply(fterm)))),
                (hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) ((hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (new hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>(new hydra.core.Name("primitive"), (forPrimitive).apply(fterm)))),
                (hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) ((hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (new hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>(new hydra.core.Name("variable"), (forVariable).apply(fterm))))))));
        }))));
  }
  
  static <T0, T1> hydra.compute.Flow<T0, T1> functionToUnion_notFound(hydra.core.Name fname) {
    return hydra.lib.flows.Fail.apply(hydra.lib.strings.Cat2.apply(
      "unexpected field: ",
      (fname).value));
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> lambdaToMonotype(hydra.core.Type t) {
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Forall ft) {
        hydra.core.Type body = ((ft).value).body;
        return hydra.lib.flows.Bind.apply(
          hydra.adapt.terms.Terms.termAdapter(body),
          (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (ad -> hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(ad), t, ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(ad), ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(ad)))))))))));
      }
    });
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> maybeToList(hydra.core.Type t) {
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Maybe ot) {
        return hydra.lib.flows.Bind.apply(
          hydra.adapt.terms.Terms.termAdapter((ot).value),
          (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (ad -> hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(false, t, new hydra.core.Type.List(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(ad)), (hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>((java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v1 -> hydra.adapt.terms.Terms.maybeToList_encode(
            ad,
            v1)), (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v1 -> hydra.adapt.terms.Terms.maybeToList_decode(
            ad,
            v1)))))))))))))))));
      }
    });
  }
  
  static <T0, T1, T2, T3> hydra.compute.Flow<T0, hydra.core.Term> maybeToList_encode(hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, hydra.core.Term> ad, hydra.core.Term term) {
    return (term).accept(new hydra.core.Term.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<T0, hydra.core.Term> visit(hydra.core.Term.Maybe m) {
        return hydra.lib.maybes.Maybe.apply(
          hydra.lib.flows.Pure.apply(new hydra.core.Term.List((java.util.List<hydra.core.Term>) (java.util.List.<hydra.core.Term>of()))),
          (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T0, hydra.core.Term>>) (r -> hydra.lib.flows.Bind.apply(
            (((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T0, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T0, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T0, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T0, hydra.core.Term>>>) (projected -> projected.encode))))).apply(((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(ad))).apply(r),
            (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T0, hydra.core.Term>>) (encoded -> hydra.lib.flows.Pure.apply(new hydra.core.Term.List(java.util.List.of(encoded)))))),
          (m).value);
      }
    });
  }
  
  static <T0, T1, T2, T3> hydra.compute.Flow<T1, hydra.core.Term> maybeToList_decode(hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, hydra.core.Term> ad, hydra.core.Term term) {
    return (term).accept(new hydra.core.Term.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<T1, hydra.core.Term> visit(hydra.core.Term.List l) {
        return hydra.lib.flows.Map.apply(
          (java.util.function.Function<hydra.util.Maybe<hydra.core.Term>, hydra.core.Term>) (x -> new hydra.core.Term.Maybe(x)),
          hydra.lib.logic.IfElse.lazy(
            hydra.lib.lists.Null.apply((l).value),
            () -> hydra.lib.flows.Pure.apply((hydra.util.Maybe<hydra.core.Term>) (hydra.util.Maybe.<hydra.core.Term>nothing())),
            () -> hydra.lib.flows.Bind.apply(
              (((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T1, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T1, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T1, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T1, hydra.core.Term>>>) (projected -> projected.decode))))).apply(((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T1, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(ad))).apply(hydra.lib.lists.Head.apply((l).value)),
              (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T1, hydra.util.Maybe<hydra.core.Term>>>) (decoded -> hydra.lib.flows.Pure.apply(hydra.util.Maybe.just(decoded))))));
      }
    });
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> passApplication(hydra.core.Type t) {
    java.util.function.Function<hydra.core.ApplicationType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>> forApplicationType = (java.util.function.Function<hydra.core.ApplicationType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (at -> {
      hydra.core.Type lhs = (at).function;
      hydra.core.Type rhs = (at).argument;
      return hydra.lib.flows.Bind.apply(
        hydra.adapt.terms.Terms.termAdapter(lhs),
        (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (lhsAd -> hydra.lib.flows.Bind.apply(
          hydra.adapt.terms.Terms.termAdapter(rhs),
          (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (rhsAd -> hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(hydra.lib.logic.Or.apply(
            ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(lhsAd),
            ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(rhsAd)), t, new hydra.core.Type.Application(new hydra.core.ApplicationType(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(lhsAd), ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(rhsAd))), hydra.adapt.utils.Utils.bidirectional((java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (dir -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (term -> hydra.adapt.utils.Utils.encodeDecode(
            dir,
            ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(lhsAd),
            term))))))))))))))));
    });
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Application at) {
        return (forApplicationType).apply((at).value);
      }
    });
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> passEither(hydra.core.Type t) {
    java.util.function.Function<hydra.core.EitherType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>> forEitherType = (java.util.function.Function<hydra.core.EitherType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (et -> {
      hydra.core.Type left = (et).left;
      hydra.core.Type right = (et).right;
      return hydra.lib.flows.Bind.apply(
        hydra.adapt.terms.Terms.termAdapter(left),
        (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (leftAd -> hydra.lib.flows.Bind.apply(
          hydra.adapt.terms.Terms.termAdapter(right),
          (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (rightAd -> hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(hydra.lib.logic.Or.apply(
            ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(leftAd),
            ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(rightAd)), t, new hydra.core.Type.Either(new hydra.core.EitherType(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(leftAd), ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(rightAd))), hydra.adapt.utils.Utils.bidirectional((java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (dir -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (term -> hydra.adapt.utils.Utils.encodeDecode(
            dir,
            ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(leftAd),
            term))))))))))))))));
    });
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Either et) {
        return (forEitherType).apply((et).value);
      }
    });
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> passFunction(hydra.core.Type t) {
    java.util.function.Function<hydra.core.Type, java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>>>> toCaseAds = (java.util.function.Function<hydra.core.Type, java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>>>>) (dom -> (java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>>>) (cod -> (hydra.rewriting.Rewriting.deannotateType(dom)).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>> otherwise(hydra.core.Type instance) {
        return hydra.lib.flows.Pure.apply((java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>) ((java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>) (hydra.lib.maps.Empty.<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>apply())));
      }
      
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>> visit(hydra.core.Type.Union rt) {
        return hydra.lib.flows.Bind.apply(
          hydra.lib.flows.MapList.apply(
            (java.util.function.Function<hydra.core.FieldType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>>>) (f -> hydra.lib.flows.Bind.apply(
              hydra.adapt.terms.Terms.fieldAdapter(new hydra.core.FieldType((f).name, new hydra.core.Type.Function(new hydra.core.FunctionType((f).type, cod)))),
              (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>>>) (ad -> hydra.lib.flows.Pure.apply((hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>) ((hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>) (new hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>((f).name, ad))))))),
            ((rt).value).fields),
          (java.util.function.Function<java.util.List<hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>>, hydra.compute.Flow<hydra.coders.AdapterContext, java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>>>) (pairs -> hydra.lib.flows.Pure.apply(hydra.lib.maps.FromList.apply(pairs))));
      }
    })));
    java.util.function.Function<hydra.core.Type, java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.util.Maybe<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>> toOptionAd = (java.util.function.Function<hydra.core.Type, java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.util.Maybe<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>>) (dom -> (java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.util.Maybe<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>) (cod -> (hydra.rewriting.Rewriting.deannotateType(dom)).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.util.Maybe<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>> otherwise(hydra.core.Type instance) {
        return hydra.lib.flows.Pure.apply((hydra.util.Maybe<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>) (hydra.util.Maybe.<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>nothing()));
      }
      
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.util.Maybe<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>> visit(hydra.core.Type.Maybe ot) {
        return hydra.lib.flows.Map.apply(
          (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.util.Maybe<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (hydra.lib.maybes.Pure::apply),
          hydra.adapt.terms.Terms.termAdapter(new hydra.core.Type.Function(new hydra.core.FunctionType((ot).value, cod))));
      }
    })));
    java.util.function.Function<hydra.core.FunctionType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>> forFunctionType = (java.util.function.Function<hydra.core.FunctionType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (ft -> {
      hydra.core.Type cod = (ft).codomain;
      hydra.core.Type dom = (ft).domain;
      return hydra.lib.flows.Bind.apply(
        hydra.adapt.terms.Terms.termAdapter(dom),
        (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (domAd -> hydra.lib.flows.Bind.apply(
          hydra.adapt.terms.Terms.termAdapter(cod),
          (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (codAd -> hydra.lib.flows.Bind.apply(
            ((toCaseAds).apply(dom)).apply(cod),
            (java.util.function.Function<java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (caseAds -> hydra.lib.flows.Bind.apply(
              ((toOptionAd).apply(dom)).apply(cod),
              (java.util.function.Function<hydra.util.Maybe<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (optionAd -> {
                hydra.util.Lazy<Boolean> lossy = new hydra.util.Lazy<>(() -> hydra.lib.logic.Or.apply(
                  ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(codAd),
                  hydra.lib.lists.Foldl.apply(
                    (java.util.function.Function<Boolean, java.util.function.Function<Boolean, Boolean>>) (p0 -> p1 -> hydra.lib.logic.Or.apply(
                      p0,
                      p1)),
                    false,
                    hydra.lib.lists.Map.apply(
                      (java.util.function.Function<hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>, Boolean>) (pair -> ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) (projected -> projected.isLossy))))))).apply(hydra.lib.pairs.Second.apply(pair))),
                      hydra.lib.maps.ToList.apply(caseAds)))));
                hydra.util.Lazy<hydra.core.Type> target = new hydra.util.Lazy<>(() -> new hydra.core.Type.Function(new hydra.core.FunctionType(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(domAd), ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(codAd))));
                return hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(lossy.get(), t, target.get(), hydra.adapt.utils.Utils.bidirectional((((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, java.util.function.Function<java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>, java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>>>) (v1 -> (java.util.function.Function<java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>, java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>>) (v2 -> (java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (v3 -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v4 -> hydra.adapt.terms.Terms.passFunction_encdec(
                  hydra.rewriting.Rewriting::deannotateTerm,
                  v1,
                  v2,
                  v3,
                  v4)))))).apply(codAd)).apply(caseAds))))))))));
              }))))))));
    });
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Function ft) {
        return (forFunctionType).apply((ft).value);
      }
    });
  }
  
  static <T0, T1, T2, T3, T4, T5> hydra.compute.Coder<T1, T2, T5, T5> passFunction_getCoder(java.util.Map<T0, hydra.compute.Adapter<T1, T2, T3, T4, T5, T5>> caseAds, T0 fname) {
    return hydra.lib.maybes.Maybe.apply(
      hydra.adapt.utils.Utils.<T1, T2, T5>idCoder(),
      (java.util.function.Function<hydra.compute.Adapter<T1, T2, T3, T4, T5, T5>, hydra.compute.Coder<T1, T2, T5, T5>>) ((java.util.function.Function<hydra.compute.Adapter<T1, T2, T3, T4, T5, T5>, hydra.compute.Coder<T1, T2, T5, T5>>) ((java.util.function.Function<hydra.compute.Adapter<T1, T2, T3, T4, T5, T5>, hydra.compute.Coder<T1, T2, T5, T5>>) ((java.util.function.Function<hydra.compute.Adapter<T1, T2, T3, T4, T5, T5>, hydra.compute.Coder<T1, T2, T5, T5>>) ((java.util.function.Function<hydra.compute.Adapter<T1, T2, T3, T4, T5, T5>, hydra.compute.Coder<T1, T2, T5, T5>>) ((java.util.function.Function<hydra.compute.Adapter<T1, T2, T3, T4, T5, T5>, hydra.compute.Coder<T1, T2, T5, T5>>) (projected -> projected.coder)))))),
      hydra.lib.maps.Lookup.apply(
        fname,
        caseAds));
  }
  
  static <T0, T1, T2, T3, T4> hydra.compute.Flow<T0, hydra.core.Elimination> passFunction_forElimination(hydra.coders.CoderDirection dir, hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term> codAd, java.util.Map<hydra.core.Name, hydra.compute.Adapter<T0, T0, T3, T4, hydra.core.Field, hydra.core.Field>> caseAds, hydra.core.Elimination e) {
    return (e).accept(new hydra.core.Elimination.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<T0, hydra.core.Elimination> visit(hydra.core.Elimination.Union cs) {
        java.util.List<hydra.core.Field> cases = ((cs).value).cases;
        hydra.util.Maybe<hydra.core.Term> def = ((cs).value).default_;
        hydra.core.Name n = ((cs).value).typeName;
        return hydra.lib.flows.Bind.apply(
          hydra.lib.flows.MapList.apply(
            (java.util.function.Function<hydra.core.Field, hydra.compute.Flow<T0, hydra.core.Field>>) (f -> hydra.adapt.utils.Utils.encodeDecode(
              dir,
              hydra.adapt.terms.Terms.passFunction_getCoder(
                caseAds,
                (f).name),
              f)),
            cases),
          (java.util.function.Function<java.util.List<hydra.core.Field>, hydra.compute.Flow<T0, hydra.core.Elimination>>) (rcases -> hydra.lib.flows.Bind.apply(
            hydra.lib.maybes.Maybe.apply(
              hydra.lib.flows.Pure.apply((hydra.util.Maybe<hydra.core.Term>) (hydra.util.Maybe.<hydra.core.Term>nothing())),
              (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T0, hydra.util.Maybe<hydra.core.Term>>>) (d -> hydra.lib.flows.Map.apply(
                (java.util.function.Function<hydra.core.Term, hydra.util.Maybe<hydra.core.Term>>) (hydra.lib.maybes.Pure::apply),
                hydra.adapt.utils.Utils.encodeDecode(
                  dir,
                  ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(codAd),
                  d))),
              def),
            (java.util.function.Function<hydra.util.Maybe<hydra.core.Term>, hydra.compute.Flow<T0, hydra.core.Elimination>>) (rdef -> hydra.lib.flows.Pure.apply(new hydra.core.Elimination.Union(new hydra.core.CaseStatement(n, rdef, rcases)))))));
      }
    });
  }
  
  static <T0, T1, T2, T3, T4> hydra.compute.Flow<T0, hydra.core.Function> passFunction_forFunction(hydra.coders.CoderDirection dir, hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term> codAd, java.util.Map<hydra.core.Name, hydra.compute.Adapter<T0, T0, T3, T4, hydra.core.Field, hydra.core.Field>> caseAds, hydra.core.Function f) {
    return (f).accept(new hydra.core.Function.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<T0, hydra.core.Function> visit(hydra.core.Function.Elimination e) {
        return hydra.lib.flows.Map.apply(
          (java.util.function.Function<hydra.core.Elimination, hydra.core.Function>) (x -> new hydra.core.Function.Elimination(x)),
          hydra.adapt.terms.Terms.<T0, T1, T2, T3, T4>passFunction_forElimination(
            dir,
            codAd,
            caseAds,
            (e).value));
      }
      
      @Override
      public hydra.compute.Flow<T0, hydra.core.Function> visit(hydra.core.Function.Lambda l) {
        hydra.core.Term body = ((l).value).body;
        hydra.util.Maybe<hydra.core.Type> d = ((l).value).domain;
        hydra.core.Name var = ((l).value).parameter;
        return hydra.lib.flows.Bind.apply(
          hydra.adapt.utils.Utils.encodeDecode(
            dir,
            ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(codAd),
            body),
          (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T0, hydra.core.Function>>) (newBody -> hydra.lib.flows.Pure.apply(new hydra.core.Function.Lambda(new hydra.core.Lambda(var, d, newBody)))));
      }
      
      @Override
      public hydra.compute.Flow<T0, hydra.core.Function> visit(hydra.core.Function.Primitive name) {
        return hydra.lib.flows.Pure.apply(new hydra.core.Function.Primitive((name).value));
      }
    });
  }
  
  static <T0, T1, T2, T3, T4> hydra.compute.Flow<T0, hydra.core.Term> passFunction_encdec(java.util.function.Function<hydra.core.Term, hydra.core.Term> hydra_rewriting_deannotateTerm2, hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term> codAd, java.util.Map<hydra.core.Name, hydra.compute.Adapter<T0, T0, T3, T4, hydra.core.Field, hydra.core.Field>> caseAds, hydra.coders.CoderDirection dir, hydra.core.Term term) {
    return ((hydra_rewriting_deannotateTerm2).apply(term)).accept(new hydra.core.Term.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<T0, hydra.core.Term> otherwise(hydra.core.Term instance) {
        return hydra.lib.flows.Pure.apply(term);
      }
      
      @Override
      public hydra.compute.Flow<T0, hydra.core.Term> visit(hydra.core.Term.Function f) {
        return hydra.lib.flows.Map.apply(
          (java.util.function.Function<hydra.core.Function, hydra.core.Term>) (x -> new hydra.core.Term.Function(x)),
          hydra.adapt.terms.Terms.<T0, T1, T2, T3, T4>passFunction_forFunction(
            dir,
            codAd,
            caseAds,
            (f).value));
      }
    });
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> passForall(hydra.core.Type t) {
    java.util.function.Function<hydra.core.ForallType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>> forForallType = (java.util.function.Function<hydra.core.ForallType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (ft -> {
      hydra.core.Type body = (ft).body;
      hydra.core.Name v = (ft).parameter;
      return hydra.lib.flows.Bind.apply(
        hydra.adapt.terms.Terms.termAdapter(body),
        (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (ad -> hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(ad), t, new hydra.core.Type.Forall(new hydra.core.ForallType(v, ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(ad))), hydra.adapt.utils.Utils.bidirectional((java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (dir -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (term -> hydra.adapt.utils.Utils.encodeDecode(
          dir,
          ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(ad),
          term))))))))))))));
    });
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Forall ft) {
        return (forForallType).apply((ft).value);
      }
    });
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> passLiteral(hydra.core.Type t) {
    java.util.function.Function<hydra.core.LiteralType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>> forLiteral = (java.util.function.Function<hydra.core.LiteralType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (lt -> hydra.lib.flows.Bind.apply(
      hydra.adapt.literals.Literals.literalAdapter(lt),
      (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (ad -> {
        hydra.util.Lazy<hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>> step = new hydra.util.Lazy<>(() -> hydra.adapt.utils.Utils.bidirectional(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>>) (v1 -> (java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (v2 -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v3 -> hydra.adapt.terms.Terms.passLiteral_encdec(
          hydra.extract.core.Core::literal,
          v1,
          v2,
          v3))))).apply(ad)));
        return hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, Boolean>) (projected -> projected.isLossy))))))).apply(ad), new hydra.core.Type.Literal(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, hydra.core.LiteralType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, hydra.core.LiteralType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, hydra.core.LiteralType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, hydra.core.LiteralType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, hydra.core.LiteralType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, hydra.core.LiteralType>) (projected -> projected.source))))))).apply(ad)), new hydra.core.Type.Literal(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, hydra.core.LiteralType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, hydra.core.LiteralType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, hydra.core.LiteralType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, hydra.core.LiteralType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, hydra.core.LiteralType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.LiteralType, hydra.core.LiteralType, hydra.core.Literal, hydra.core.Literal>, hydra.core.LiteralType>) (projected -> projected.target))))))).apply(ad)), step.get()))))))));
      })));
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Literal lt) {
        return (forLiteral).apply((lt).value);
      }
    });
  }
  
  static <T0, T1, T2> hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term> passLiteral_encdec(java.util.function.Function<T0, hydra.compute.Flow<hydra.graph.Graph, hydra.core.Literal>> hydra_extract_core_literal2, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, T1, T2, hydra.core.Literal, hydra.core.Literal> ad, hydra.coders.CoderDirection dir, T0 term) {
    return hydra.lib.flows.Bind.apply(
      hydra.adapt.terms.Terms.withGraphContext((hydra_extract_core_literal2).apply(term)),
      (java.util.function.Function<hydra.core.Literal, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (l -> hydra.lib.flows.Bind.apply(
        hydra.adapt.utils.Utils.encodeDecode(
          dir,
          ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, T1, T2, hydra.core.Literal, hydra.core.Literal>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Literal, hydra.core.Literal>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, T1, T2, hydra.core.Literal, hydra.core.Literal>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Literal, hydra.core.Literal>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, T1, T2, hydra.core.Literal, hydra.core.Literal>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Literal, hydra.core.Literal>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, T1, T2, hydra.core.Literal, hydra.core.Literal>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Literal, hydra.core.Literal>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, T1, T2, hydra.core.Literal, hydra.core.Literal>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Literal, hydra.core.Literal>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, T1, T2, hydra.core.Literal, hydra.core.Literal>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Literal, hydra.core.Literal>>) (projected -> projected.coder))))))).apply(ad),
          l),
        (java.util.function.Function<hydra.core.Literal, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (l2 -> hydra.lib.flows.Pure.apply(new hydra.core.Term.Literal(l2))))));
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> passList(hydra.core.Type t) {
    java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>> forListType = (java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (lt -> hydra.lib.flows.Bind.apply(
      hydra.adapt.terms.Terms.termAdapter(lt),
      (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (ad -> hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(ad), t, new hydra.core.Type.List(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(ad)), hydra.adapt.utils.Utils.bidirectional((java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (v1 -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v2 -> hydra.adapt.terms.Terms.passList_encdec(
        ad,
        v1,
        v2)))))))))))))));
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.List lt) {
        return (forListType).apply((lt).value);
      }
    });
  }
  
  static <T0, T1, T2> hydra.compute.Flow<T0, hydra.core.Term> passList_encdec(hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term> ad, hydra.coders.CoderDirection dir, hydra.core.Term term) {
    return (term).accept(new hydra.core.Term.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<T0, hydra.core.Term> visit(hydra.core.Term.List terms) {
        return hydra.lib.flows.Bind.apply(
          hydra.lib.flows.MapList.apply(
            (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T0, hydra.core.Term>>) (v1 -> hydra.adapt.utils.Utils.encodeDecode(
              dir,
              ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(ad),
              v1)),
            (terms).value),
          (java.util.function.Function<java.util.List<hydra.core.Term>, hydra.compute.Flow<T0, hydra.core.Term>>) (newTerms -> hydra.lib.flows.Pure.apply(new hydra.core.Term.List(newTerms))));
      }
    });
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> passMap(hydra.core.Type t) {
    java.util.function.Function<hydra.core.MapType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>> forMapType = (java.util.function.Function<hydra.core.MapType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (mt -> {
      hydra.core.Type kt = (mt).keys;
      hydra.core.Type vt = (mt).values;
      return hydra.lib.flows.Bind.apply(
        hydra.adapt.terms.Terms.termAdapter(kt),
        (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (kad -> hydra.lib.flows.Bind.apply(
          hydra.adapt.terms.Terms.termAdapter(vt),
          (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (vad -> hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(hydra.lib.logic.Or.apply(
            ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(kad),
            ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(vad)), t, new hydra.core.Type.Map(new hydra.core.MapType(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(kad), ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(vad))), hydra.adapt.utils.Utils.bidirectional((java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (v1 -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v2 -> hydra.adapt.terms.Terms.passMap_encdec(
            kad,
            vad,
            v1,
            v2))))))))))))))));
    });
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Map mt) {
        return (forMapType).apply((mt).value);
      }
    });
  }
  
  static <T0, T1, T2, T3, T4> hydra.compute.Flow<T0, hydra.core.Term> passMap_encdec(hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term> kad, hydra.compute.Adapter<T0, T0, T3, T4, hydra.core.Term, hydra.core.Term> vad, hydra.coders.CoderDirection dir, hydra.core.Term term) {
    return (term).accept(new hydra.core.Term.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<T0, hydra.core.Term> visit(hydra.core.Term.Map m) {
        return hydra.lib.flows.Bind.apply(
          hydra.lib.flows.MapList.apply(
            (java.util.function.Function<hydra.util.Tuple.Tuple2<hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<T0, hydra.util.Tuple.Tuple2<hydra.core.Term, hydra.core.Term>>>) (pair -> {
              hydra.util.Lazy<hydra.core.Term> k = new hydra.util.Lazy<>(() -> hydra.lib.pairs.First.apply(pair));
              hydra.util.Lazy<hydra.core.Term> v = new hydra.util.Lazy<>(() -> hydra.lib.pairs.Second.apply(pair));
              return hydra.lib.flows.Bind.apply(
                hydra.adapt.utils.Utils.encodeDecode(
                  dir,
                  ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(kad),
                  k.get()),
                (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T0, hydra.util.Tuple.Tuple2<hydra.core.Term, hydra.core.Term>>>) (newK -> hydra.lib.flows.Bind.apply(
                  hydra.adapt.utils.Utils.encodeDecode(
                    dir,
                    ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T3, T4, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T3, T4, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T3, T4, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T3, T4, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T3, T4, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T3, T4, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(vad),
                    v.get()),
                  (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T0, hydra.util.Tuple.Tuple2<hydra.core.Term, hydra.core.Term>>>) (newV -> hydra.lib.flows.Pure.apply((hydra.util.Tuple.Tuple2<hydra.core.Term, hydra.core.Term>) ((hydra.util.Tuple.Tuple2<hydra.core.Term, hydra.core.Term>) (new hydra.util.Tuple.Tuple2<hydra.core.Term, hydra.core.Term>(newK, newV))))))));
            }),
            hydra.lib.maps.ToList.apply((m).value)),
          (java.util.function.Function<java.util.List<hydra.util.Tuple.Tuple2<hydra.core.Term, hydra.core.Term>>, hydra.compute.Flow<T0, hydra.core.Term>>) (newPairs -> hydra.lib.flows.Pure.apply(new hydra.core.Term.Map(hydra.lib.maps.FromList.apply(newPairs)))));
      }
    });
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> passOptional(hydra.core.Type t) {
    java.util.function.Function<hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>> mapTerm = (java.util.function.Function<hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>>) (coder -> (java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (dir -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (term -> hydra.lib.flows.Bind.apply(
      hydra.adapt.terms.Terms.withGraphContext(hydra.extract.core.Core.maybeTerm(
        (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.graph.Graph, hydra.core.Term>>) ((java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.graph.Graph, hydra.core.Term>>) (hydra.lib.flows.Pure::apply)),
        term)),
      (java.util.function.Function<hydra.util.Maybe<hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (opt -> hydra.lib.flows.Bind.apply(
        hydra.lib.flows.MapMaybe.apply(
          (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v1 -> hydra.adapt.utils.Utils.encodeDecode(
            dir,
            coder,
            v1)),
          opt),
        (java.util.function.Function<hydra.util.Maybe<hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (newOpt -> hydra.lib.flows.Pure.apply(new hydra.core.Term.Maybe(newOpt)))))))));
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Maybe ot) {
        return hydra.lib.flows.Bind.apply(
          hydra.adapt.terms.Terms.termAdapter((ot).value),
          (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (adapter -> hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(adapter), t, new hydra.core.Type.Maybe(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(adapter)), hydra.adapt.utils.Utils.bidirectional((java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (v1 -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v2 -> (((mapTerm).apply(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(adapter))).apply(v1)).apply(v2))))))))))))));
      }
    });
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> passRecord(hydra.core.Type t) {
    java.util.function.Function<hydra.core.RowType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>> forRecordType = (java.util.function.Function<hydra.core.RowType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (rt -> hydra.lib.flows.Bind.apply(
      hydra.lib.flows.MapList.apply(
        hydra.adapt.terms.Terms::fieldAdapter,
        (rt).fields),
      (java.util.function.Function<java.util.List<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (adapters -> {
        hydra.util.Lazy<Boolean> lossy = new hydra.util.Lazy<>(() -> hydra.lib.lists.Foldl.apply(
          (java.util.function.Function<Boolean, java.util.function.Function<Boolean, Boolean>>) (p0 -> p1 -> hydra.lib.logic.Or.apply(
            p0,
            p1)),
          false,
          hydra.lib.lists.Map.apply(
            (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) (projected -> projected.isLossy)))))),
            adapters)));
        hydra.util.Lazy<java.util.List<hydra.core.FieldType>> sfields_ = new hydra.util.Lazy<>(() -> hydra.lib.lists.Map.apply(
          (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, hydra.core.FieldType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, hydra.core.FieldType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, hydra.core.FieldType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, hydra.core.FieldType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, hydra.core.FieldType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, hydra.core.FieldType>) (projected -> projected.target)))))),
          adapters));
        return hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(lossy.get(), t, new hydra.core.Type.Record(new hydra.core.RowType((rt).typeName, sfields_.get())), hydra.adapt.utils.Utils.bidirectional((java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (v1 -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v2 -> hydra.adapt.terms.Terms.passRecord_encdec(
          rt,
          adapters,
          v1,
          v2))))))))))));
      })));
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Record rt) {
        return (forRecordType).apply((rt).value);
      }
    });
  }
  
  static <T0, T1, T2> hydra.compute.Flow<T0, hydra.core.Term> passRecord_encdec(hydra.core.RowType rt, java.util.List<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Field, hydra.core.Field>> adapters, hydra.coders.CoderDirection dir, hydra.core.Term term) {
    return (term).accept(new hydra.core.Term.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<T0, hydra.core.Term> visit(hydra.core.Term.Record rec) {
        java.util.List<hydra.core.Field> dfields = ((rec).value).fields;
        return hydra.lib.flows.Bind.apply(
          hydra.lib.flows.Sequence.apply(hydra.lib.lists.ZipWith.apply(
            (java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Field, hydra.core.Field>, java.util.function.Function<hydra.core.Field, hydra.compute.Flow<T0, hydra.core.Field>>>) (ad -> (java.util.function.Function<hydra.core.Field, hydra.compute.Flow<T0, hydra.core.Field>>) (f -> hydra.adapt.utils.Utils.encodeDecode(
              dir,
              ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Field, hydra.core.Field>, hydra.compute.Coder<T0, T0, hydra.core.Field, hydra.core.Field>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Field, hydra.core.Field>, hydra.compute.Coder<T0, T0, hydra.core.Field, hydra.core.Field>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Field, hydra.core.Field>, hydra.compute.Coder<T0, T0, hydra.core.Field, hydra.core.Field>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Field, hydra.core.Field>, hydra.compute.Coder<T0, T0, hydra.core.Field, hydra.core.Field>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Field, hydra.core.Field>, hydra.compute.Coder<T0, T0, hydra.core.Field, hydra.core.Field>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Field, hydra.core.Field>, hydra.compute.Coder<T0, T0, hydra.core.Field, hydra.core.Field>>) (projected -> projected.coder))))))).apply(ad),
              f))),
            adapters,
            dfields)),
          (java.util.function.Function<java.util.List<hydra.core.Field>, hydra.compute.Flow<T0, hydra.core.Term>>) (newFields -> hydra.lib.flows.Pure.apply(new hydra.core.Term.Record(new hydra.core.Record((rt).typeName, newFields)))));
      }
    });
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> passSet(hydra.core.Type t) {
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Set st) {
        return hydra.lib.flows.Bind.apply(
          hydra.adapt.terms.Terms.termAdapter((st).value),
          (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (ad -> hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(ad), t, new hydra.core.Type.Set(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(ad)), hydra.adapt.utils.Utils.bidirectional((java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (v1 -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v2 -> hydra.adapt.terms.Terms.passSet_encdec(
            ad,
            v1,
            v2))))))))))))));
      }
    });
  }
  
  static <T0, T1, T2> hydra.compute.Flow<T0, hydra.core.Term> passSet_encdec(hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term> ad, hydra.coders.CoderDirection dir, hydra.core.Term term) {
    return (term).accept(new hydra.core.Term.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<T0, hydra.core.Term> visit(hydra.core.Term.Set terms) {
        return hydra.lib.flows.Bind.apply(
          hydra.lib.flows.MapList.apply(
            (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T0, hydra.core.Term>>) (v1 -> hydra.adapt.utils.Utils.encodeDecode(
              dir,
              ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<T0, T0, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(ad),
              v1)),
            hydra.lib.sets.ToList.apply((terms).value)),
          (java.util.function.Function<java.util.List<hydra.core.Term>, hydra.compute.Flow<T0, hydra.core.Term>>) (newTerms -> hydra.lib.flows.Pure.apply(new hydra.core.Term.Set(hydra.lib.sets.FromList.apply(newTerms)))));
      }
    });
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> passUnion(hydra.core.Type t) {
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Union rt) {
        java.util.List<hydra.core.FieldType> sfields = ((rt).value).fields;
        hydra.core.Name tname = ((rt).value).typeName;
        return hydra.lib.flows.Bind.apply(
          hydra.lib.flows.MapList.apply(
            (java.util.function.Function<hydra.core.FieldType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>>>) (f -> hydra.lib.flows.Bind.apply(
              hydra.adapt.terms.Terms.fieldAdapter(f),
              (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>>>) (ad -> hydra.lib.flows.Pure.apply((hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>) ((hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>) (new hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>((f).name, ad))))))),
            sfields),
          (java.util.function.Function<java.util.List<hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (adapters -> {
            hydra.util.Lazy<java.util.Map<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>> adaptersMap = new hydra.util.Lazy<>(() -> hydra.lib.maps.FromList.apply(adapters));
            hydra.util.Lazy<Boolean> lossy = new hydra.util.Lazy<>(() -> hydra.lib.lists.Foldl.apply(
              (java.util.function.Function<Boolean, java.util.function.Function<Boolean, Boolean>>) (p0 -> p1 -> hydra.lib.logic.Or.apply(
                p0,
                p1)),
              false,
              hydra.lib.lists.Map.apply(
                (java.util.function.Function<hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>, Boolean>) (pair -> ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, Boolean>) (projected -> projected.isLossy))))))).apply(hydra.lib.pairs.Second.apply(pair))),
                adapters)));
            hydra.util.Lazy<java.util.List<hydra.core.FieldType>> sfields_ = new hydra.util.Lazy<>(() -> hydra.lib.lists.Map.apply(
              (java.util.function.Function<hydra.util.Tuple.Tuple2<hydra.core.Name, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>>, hydra.core.FieldType>) (pair -> ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, hydra.core.FieldType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, hydra.core.FieldType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, hydra.core.FieldType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, hydra.core.FieldType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, hydra.core.FieldType>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.FieldType, hydra.core.FieldType, hydra.core.Field, hydra.core.Field>, hydra.core.FieldType>) (projected -> projected.target))))))).apply(hydra.lib.pairs.Second.apply(pair))),
              adapters));
            return hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(lossy.get(), t, new hydra.core.Type.Union(new hydra.core.RowType(tname, sfields_.get())), hydra.adapt.utils.Utils.bidirectional((java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (dir -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (term -> hydra.lib.flows.Pure.apply(term))))))))))));
          }));
      }
    });
  }
  
  static <T0, T1> hydra.compute.Flow<T1, T0> passUnion_getAdapter(java.util.Map<hydra.core.Name, T0> adaptersMap, hydra.core.Field f) {
    return hydra.lib.maybes.Maybe.apply(
      hydra.lib.flows.Fail.apply(hydra.lib.strings.Cat2.apply(
        "no such field: ",
        ((f).name).value)),
      (java.util.function.Function<T0, hydra.compute.Flow<T1, T0>>) ((java.util.function.Function<T0, hydra.compute.Flow<T1, T0>>) (hydra.lib.flows.Pure::apply)),
      hydra.lib.maps.Lookup.apply(
        (f).name,
        adaptersMap));
  }
  
  static <T0, T1, T2, T3> hydra.compute.Flow<T1, hydra.compute.Adapter<T2, T3, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> passUnit(T0 ignored) {
    return hydra.lib.flows.Pure.apply((hydra.compute.Adapter<T2, T3, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<T2, T3, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<T2, T3, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<T2, T3, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<T2, T3, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<T2, T3, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<T2, T3, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(false, new hydra.core.Type.Unit(), new hydra.core.Type.Unit(), (hydra.compute.Coder<T2, T3, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<T2, T3, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<T2, T3, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<T2, T3, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Coder<T2, T3, hydra.core.Term, hydra.core.Term>((java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T2, hydra.core.Term>>) (_2 -> hydra.lib.flows.Pure.apply(new hydra.core.Term.Unit())), (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T3, hydra.core.Term>>) (_2 -> hydra.lib.flows.Pure.apply(new hydra.core.Term.Unit())))))))))))))));
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> passWrapped(hydra.core.Type t) {
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Wrap wt) {
        hydra.core.Name tname = ((wt).value).typeName;
        java.util.function.Function<hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>> mapTerm = (java.util.function.Function<hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>>) (coder -> (java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (dir -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (term -> hydra.lib.flows.Bind.apply(
          hydra.adapt.terms.Terms.withGraphContext(hydra.extract.core.Core.wrap(
            tname,
            term)),
          (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (unwrapped -> hydra.lib.flows.Bind.apply(
            hydra.adapt.utils.Utils.encodeDecode(
              dir,
              coder,
              unwrapped),
            (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (newTerm -> hydra.lib.flows.Pure.apply(new hydra.core.Term.Wrap(new hydra.core.WrappedTerm(tname, newTerm))))))))));
        hydra.core.Type ot = ((wt).value).body;
        return hydra.lib.flows.Bind.apply(
          hydra.adapt.terms.Terms.termAdapter(ot),
          (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (adapter -> hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(adapter), t, new hydra.core.Type.Wrap(new hydra.core.WrappedType(tname, ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(adapter))), hydra.adapt.utils.Utils.bidirectional((java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (v1 -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v2 -> (((mapTerm).apply(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(adapter))).apply(v1)).apply(v2))))))))))))));
      }
    });
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> setToList(hydra.core.Type t) {
    java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>> forSetType = (java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (st -> hydra.lib.flows.Bind.apply(
      hydra.adapt.terms.Terms.termAdapter(new hydra.core.Type.List(st)),
      (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (ad -> hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(ad), t, ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(ad), (hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>((java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v1 -> hydra.adapt.terms.Terms.setToList_encode(
        ad,
        v1)), (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v1 -> hydra.adapt.terms.Terms.setToList_decode(
        ad,
        v1))))))))))))))))));
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Set st) {
        return (forSetType).apply((st).value);
      }
    });
  }
  
  static <T0, T1, T2, T3, T4> hydra.compute.Flow<T0, T4> setToList_encode(hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4> ad, hydra.core.Term term) {
    return (term).accept(new hydra.core.Term.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<T0, T4> visit(hydra.core.Term.Set s) {
        return (((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, T4>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T0, T4>>>) ((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, T4>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T0, T4>>>) ((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, T4>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T0, T4>>>) ((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, T4>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T0, T4>>>) (projected -> projected.encode))))).apply(((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) (projected -> projected.coder))))))).apply(ad))).apply(new hydra.core.Term.List(hydra.lib.sets.ToList.apply((s).value)));
      }
    });
  }
  
  static <T0> hydra.compute.Flow<T0, hydra.core.Term> setToList_forListTerm(hydra.core.Term t) {
    return (t).accept(new hydra.core.Term.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<T0, hydra.core.Term> visit(hydra.core.Term.List l) {
        return hydra.lib.flows.Pure.apply(new hydra.core.Term.Set(hydra.lib.sets.FromList.apply((l).value)));
      }
    });
  }
  
  static <T0, T1, T2, T3, T4> hydra.compute.Flow<T1, hydra.core.Term> setToList_decode(hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4> ad, T4 term) {
    return hydra.lib.flows.Bind.apply(
      (((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, T4>, java.util.function.Function<T4, hydra.compute.Flow<T1, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, T4>, java.util.function.Function<T4, hydra.compute.Flow<T1, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, T4>, java.util.function.Function<T4, hydra.compute.Flow<T1, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, T4>, java.util.function.Function<T4, hydra.compute.Flow<T1, hydra.core.Term>>>) (projected -> projected.decode))))).apply(((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) (projected -> projected.coder))))))).apply(ad))).apply(term),
      (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T1, hydra.core.Term>>) (listTerm -> hydra.adapt.terms.Terms.<T1>setToList_forListTerm(listTerm)));
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> simplifyApplication(hydra.core.Type t) {
    java.util.function.Function<hydra.core.ApplicationType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>> forApplicationType = (java.util.function.Function<hydra.core.ApplicationType, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (at -> {
      hydra.core.Type lhs = (at).function;
      return hydra.lib.flows.Bind.apply(
        hydra.adapt.terms.Terms.termAdapter(lhs),
        (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (ad -> hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(false, t, ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(ad), hydra.adapt.utils.Utils.bidirectional((java.util.function.Function<hydra.coders.CoderDirection, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (v1 -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v2 -> hydra.adapt.terms.Terms.simplifyApplication_encdec(
          ad,
          v1,
          v2))))))))))))));
    });
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Application at) {
        return (forApplicationType).apply((at).value);
      }
    });
  }
  
  static <T0, T1, T2, T3> hydra.compute.Flow<T0, T3> simplifyApplication_encdec(hydra.compute.Adapter<T0, T0, T1, T2, T3, T3> ad, hydra.coders.CoderDirection dir, T3 term) {
    return hydra.adapt.utils.Utils.<T0, T3>encodeDecode(
      dir,
      ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, T3, T3>, hydra.compute.Coder<T0, T0, T3, T3>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, T3, T3>, hydra.compute.Coder<T0, T0, T3, T3>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, T3, T3>, hydra.compute.Coder<T0, T0, T3, T3>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, T3, T3>, hydra.compute.Coder<T0, T0, T3, T3>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, T3, T3>, hydra.compute.Coder<T0, T0, T3, T3>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T0, T1, T2, T3, T3>, hydra.compute.Coder<T0, T0, T3, T3>>) (projected -> projected.coder))))))).apply(ad),
      term);
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> termAdapter(hydra.core.Type typ) {
    java.util.function.Function<hydra.core.Type, java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>> pass = (java.util.function.Function<hydra.core.Type, java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>>) (t -> (hydra.reflect.Reflect.typeVariant(hydra.rewriting.Rewriting.deannotateType(t))).accept(new hydra.variants.TypeVariant.PartialVisitor<>() {
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Annotated ignored) {
        return (java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>) (java.util.List.<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>of());
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Application ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::passApplication);
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Either ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::passEither);
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Forall ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::passForall);
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Function ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::passFunction);
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.List ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::passList);
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Literal ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::passLiteral);
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Map ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::passMap);
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Maybe ignored) {
        return java.util.List.of(
          hydra.adapt.terms.Terms::passOptional,
          hydra.adapt.terms.Terms::maybeToList);
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Pair ignored) {
        return (java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>) (java.util.List.<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>of());
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Record ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::passRecord);
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Set ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::passSet);
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Union ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::passUnion);
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Unit ignored) {
        return java.util.List.of(p0 -> hydra.adapt.terms.Terms.<hydra.core.Type, hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.coders.AdapterContext>passUnit(p0));
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Variable ignored) {
        return (java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>) (java.util.List.<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>of());
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Wrap ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::passWrapped);
      }
    }));
    java.util.function.Function<hydra.coders.AdapterContext, hydra.coders.LanguageConstraints> constraints = (java.util.function.Function<hydra.coders.AdapterContext, hydra.coders.LanguageConstraints>) (cx -> ((cx).language).constraints);
    java.util.function.Function<hydra.coders.AdapterContext, java.util.function.Function<hydra.core.Type, Boolean>> variantIsSupported = (java.util.function.Function<hydra.coders.AdapterContext, java.util.function.Function<hydra.core.Type, Boolean>>) (cx -> (java.util.function.Function<hydra.core.Type, Boolean>) (t -> hydra.lib.sets.Member.apply(
      hydra.reflect.Reflect.typeVariant(t),
      ((constraints).apply(cx)).typeVariants)));
    java.util.function.Function<hydra.coders.AdapterContext, java.util.function.Function<hydra.core.Type, Boolean>> supportedAtTopLevel = (java.util.function.Function<hydra.coders.AdapterContext, java.util.function.Function<hydra.core.Type, Boolean>>) (cx -> (java.util.function.Function<hydra.core.Type, Boolean>) (t -> hydra.lib.logic.And.apply(
      ((variantIsSupported).apply(cx)).apply(t),
      (((constraints).apply(cx)).types).apply(t))));
    java.util.function.Function<hydra.core.Type, java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>> trySubstitution = (java.util.function.Function<hydra.core.Type, java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>>) (t -> (hydra.reflect.Reflect.typeVariant(t)).accept(new hydra.variants.TypeVariant.PartialVisitor<>() {
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Annotated ignored) {
        return (java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>) (java.util.List.<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>of());
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Application ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::simplifyApplication);
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Either ignored) {
        return (java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>) (java.util.List.<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>of());
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Forall ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::lambdaToMonotype);
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Function ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::functionToUnion);
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.List ignored) {
        return (java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>) (java.util.List.<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>of());
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Literal ignored) {
        return (java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>) (java.util.List.<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>of());
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Map ignored) {
        return (java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>) (java.util.List.<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>of());
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Maybe ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::maybeToList);
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Pair ignored) {
        return (java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>) (java.util.List.<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>of());
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Record ignored) {
        return (java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>) (java.util.List.<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>of());
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Set ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::setToList);
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Union ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::unionToRecord);
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Unit ignored) {
        return java.util.List.of(p0 -> hydra.adapt.terms.Terms.<hydra.core.Type, hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.coders.AdapterContext>unitToRecord(p0));
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Variable ignored) {
        return (java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>) (java.util.List.<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>of());
      }
      
      @Override
      public java.util.List<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>> visit(hydra.variants.TypeVariant.Wrap ignored) {
        return java.util.List.of(hydra.adapt.terms.Terms::wrapToUnwrapped);
      }
    }));
    java.util.function.Function<hydra.coders.AdapterContext, java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, java.util.List<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>> alts = (java.util.function.Function<hydra.coders.AdapterContext, java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, java.util.List<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>>) (cx -> (java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, java.util.List<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>) (t -> hydra.lib.flows.MapList.apply(
      (java.util.function.Function<java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (c -> (c).apply(t)),
      hydra.lib.logic.IfElse.lazy(
        ((supportedAtTopLevel).apply(cx)).apply(t),
        () -> (pass).apply(t),
        () -> (trySubstitution).apply(t)))));
    java.util.function.Function<hydra.coders.AdapterContext, java.util.function.Function<hydra.core.Type, Boolean>> supported = (java.util.function.Function<hydra.coders.AdapterContext, java.util.function.Function<hydra.core.Type, Boolean>>) (cx -> (java.util.function.Function<hydra.core.Type, Boolean>) (v1 -> hydra.adapt.utils.Utils.typeIsSupported(
      (constraints).apply(cx),
      v1)));
    hydra.util.Lazy<hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>> dflt = new hydra.util.Lazy<>(() -> (typ).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> otherwise(hydra.core.Type instance) {
        return hydra.lib.flows.Bind.apply(
          hydra.monads.Monads.<hydra.coders.AdapterContext>getState(),
          (java.util.function.Function<hydra.coders.AdapterContext, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (cx -> hydra.adapt.utils.Utils.chooseAdapter(
            (java.util.function.Function<hydra.core.Type, hydra.compute.Flow<hydra.coders.AdapterContext, java.util.List<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>>) (v1 -> ((alts).apply(cx)).apply(v1)),
            (java.util.function.Function<hydra.core.Type, Boolean>) (v1 -> ((supported).apply(cx)).apply(v1)),
            hydra.show.core.Core::type,
            hydra.show.core.Core::type,
            typ)));
      }
      
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Variable name) {
        return hydra.adapt.terms.Terms.forTypeReference((name).value);
      }
    }));
    return (typ).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> otherwise(hydra.core.Type instance) {
        return hydra.monads.Monads.withTrace(
          hydra.lib.strings.Cat2.apply(
            "adapter for ",
            hydra.show.core.Core.type(typ)),
          dflt.get());
      }
      
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Annotated at) {
        return hydra.lib.flows.Bind.apply(
          hydra.adapt.terms.Terms.termAdapter(((at).value).body),
          (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (ad -> hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(ad), ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.source))))))).apply(ad), new hydra.core.Type.Annotated(new hydra.core.AnnotatedType(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(ad), ((at).value).annotation)), ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(ad)))))))))));
      }
    });
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> unionToRecord(hydra.core.Type t) {
    java.util.function.Function<hydra.core.Field, hydra.util.Maybe<hydra.core.Field>> forField = (java.util.function.Function<hydra.core.Field, hydra.util.Maybe<hydra.core.Field>>) (field -> {
      hydra.core.Name fn = (field).name;
      hydra.core.Term fterm = (field).term;
      return (fterm).accept(new hydra.core.Term.PartialVisitor<>() {
        @Override
        public hydra.util.Maybe<hydra.core.Field> visit(hydra.core.Term.Maybe opt) {
          return hydra.lib.maybes.Bind.apply(
            (opt).value,
            (java.util.function.Function<hydra.core.Term, hydra.util.Maybe<hydra.core.Field>>) (t2 -> hydra.util.Maybe.just(new hydra.core.Field(fn, t2))));
        }
      });
    });
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Union rt) {
        hydra.core.Name nm = ((rt).value).typeName;
        java.util.List<hydra.core.FieldType> sfields = ((rt).value).fields;
        hydra.core.Type target = new hydra.core.Type.Record(hydra.adapt.terms.Terms.unionTypeToRecordType((rt).value));
        java.util.function.Function<hydra.core.Term, java.util.function.Function<hydra.core.Name, java.util.function.Function<hydra.core.FieldType, hydra.core.Field>>> toRecordField = (java.util.function.Function<hydra.core.Term, java.util.function.Function<hydra.core.Name, java.util.function.Function<hydra.core.FieldType, hydra.core.Field>>>) (term -> (java.util.function.Function<hydra.core.Name, java.util.function.Function<hydra.core.FieldType, hydra.core.Field>>) (fn -> (java.util.function.Function<hydra.core.FieldType, hydra.core.Field>) (f -> {
          hydra.core.Name fn_ = (f).name;
          return new hydra.core.Field(fn_, new hydra.core.Term.Maybe(hydra.lib.logic.IfElse.lazy(
            hydra.lib.equality.Equal.apply(
              fn_,
              fn),
            () -> hydra.util.Maybe.just(term),
            () -> (hydra.util.Maybe<hydra.core.Term>) (hydra.util.Maybe.<hydra.core.Term>nothing()))));
        })));
        return hydra.lib.flows.Bind.apply(
          hydra.adapt.terms.Terms.termAdapter(target),
          (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (ad -> hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, Boolean>) (projected -> projected.isLossy))))))).apply(ad), t, ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(ad), (hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>((java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (term_ -> hydra.lib.flows.Bind.apply(
            hydra.adapt.terms.Terms.withGraphContext(hydra.extract.core.Core.injection(
              ((rt).value).typeName,
              term_)),
            (java.util.function.Function<hydra.core.Field, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (field -> {
              hydra.core.Name fn = (field).name;
              hydra.core.Term term = (field).term;
              return (((java.util.function.Function<hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (projected -> projected.encode))))).apply(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(ad))).apply(new hydra.core.Term.Record(new hydra.core.Record(nm, hydra.lib.lists.Map.apply(
                (java.util.function.Function<hydra.core.FieldType, hydra.core.Field>) (v1 -> (((toRecordField).apply(term)).apply(fn)).apply(v1)),
                sfields))));
            }))), (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (term -> hydra.lib.flows.Bind.apply(
            (((java.util.function.Function<hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (projected -> projected.decode))))).apply(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>>) (projected -> projected.coder))))))).apply(ad))).apply(term),
            (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (recTerm -> (((((java.util.function.Function<hydra.core.Name, java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>>>) (v1 -> (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>>) (v2 -> (java.util.function.Function<hydra.core.Term, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (v3 -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v4 -> hydra.adapt.terms.Terms.unionToRecord_forRecTerm(
              forField,
              hydra.show.core.Core::term,
              hydra.show.core.Core::type,
              t,
              v1,
              v2,
              v3,
              v4)))))).apply(nm)).apply(ad)).apply(term)).apply(recTerm)))))))))))))))))));
      }
    });
  }
  
  static <T0, T1, T2, T3, T4, T5> hydra.compute.Flow<T5, T1> unionToRecord_fromRecordFields(java.util.function.Function<T0, hydra.util.Maybe<T1>> forField, java.util.function.Function<T2, String> hydra_show_core_term2, java.util.function.Function<T3, String> hydra_show_core_type2, T3 t, T2 term, T4 term_, T3 t_, java.util.List<T0> fields) {
    hydra.util.Lazy<java.util.List<T1>> matches = new hydra.util.Lazy<>(() -> hydra.lib.maybes.MapMaybe.apply(
      forField,
      fields));
    return hydra.lib.logic.IfElse.lazy(
      hydra.lib.lists.Null.apply(matches.get()),
      () -> hydra.lib.flows.Fail.apply(hydra.lib.strings.Cat.apply(java.util.List.of(
        "cannot convert term back to union: ",
        (hydra_show_core_term2).apply(term),
        " where type = ",
        (hydra_show_core_type2).apply(t),
        "    and target type = ",
        (hydra_show_core_type2).apply(t_)))),
      () -> hydra.lib.flows.Pure.apply(hydra.lib.lists.Head.apply(matches.get())));
  }
  
  static <T0, T1, T2, T3, T4, T5, T6, T7> hydra.compute.Flow<T7, hydra.core.Term> unionToRecord_forRecTerm(java.util.function.Function<hydra.core.Field, hydra.util.Maybe<hydra.core.Field>> forField, java.util.function.Function<T0, String> hydra_show_core_term2, java.util.function.Function<T1, String> hydra_show_core_type2, T1 t, hydra.core.Name nm, hydra.compute.Adapter<T2, T3, T4, T1, T5, T6> ad, T0 term, hydra.core.Term recTerm) {
    return (recTerm).accept(new hydra.core.Term.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<T7, hydra.core.Term> visit(hydra.core.Term.Record rec) {
        java.util.List<hydra.core.Field> fields = ((rec).value).fields;
        return hydra.lib.flows.Bind.apply(
          (((((java.util.function.Function<T0, java.util.function.Function<hydra.core.Term, java.util.function.Function<T1, java.util.function.Function<java.util.List<hydra.core.Field>, hydra.compute.Flow<T7, hydra.core.Field>>>>>) (v1 -> (java.util.function.Function<hydra.core.Term, java.util.function.Function<T1, java.util.function.Function<java.util.List<hydra.core.Field>, hydra.compute.Flow<T7, hydra.core.Field>>>>) (v2 -> (java.util.function.Function<T1, java.util.function.Function<java.util.List<hydra.core.Field>, hydra.compute.Flow<T7, hydra.core.Field>>>) (v3 -> (java.util.function.Function<java.util.List<hydra.core.Field>, hydra.compute.Flow<T7, hydra.core.Field>>) (v4 -> hydra.adapt.terms.Terms.unionToRecord_fromRecordFields(
            forField,
            hydra_show_core_term2,
            hydra_show_core_type2,
            t,
            v1,
            v2,
            v3,
            v4)))))).apply(term)).apply(new hydra.core.Term.Record(new hydra.core.Record(nm, fields)))).apply(((java.util.function.Function<hydra.compute.Adapter<T2, T3, T4, T1, T5, T6>, T1>) ((java.util.function.Function<hydra.compute.Adapter<T2, T3, T4, T1, T5, T6>, T1>) ((java.util.function.Function<hydra.compute.Adapter<T2, T3, T4, T1, T5, T6>, T1>) ((java.util.function.Function<hydra.compute.Adapter<T2, T3, T4, T1, T5, T6>, T1>) ((java.util.function.Function<hydra.compute.Adapter<T2, T3, T4, T1, T5, T6>, T1>) ((java.util.function.Function<hydra.compute.Adapter<T2, T3, T4, T1, T5, T6>, T1>) (projected -> projected.target))))))).apply(ad))).apply(fields),
          (java.util.function.Function<hydra.core.Field, hydra.compute.Flow<T7, hydra.core.Term>>) (resultField -> hydra.lib.flows.Pure.apply(new hydra.core.Term.Union(new hydra.core.Injection(nm, resultField)))));
      }
    });
  }
  
  static hydra.core.RowType unionTypeToRecordType(hydra.core.RowType rt) {
    java.util.function.Function<hydra.core.FieldType, hydra.core.FieldType> makeOptional = (java.util.function.Function<hydra.core.FieldType, hydra.core.FieldType>) (f -> {
      hydra.core.Name fn = (f).name;
      hydra.core.Type ft = (f).type;
      return new hydra.core.FieldType(fn, hydra.rewriting.Rewriting.mapBeneathTypeAnnotations(
        (java.util.function.Function<hydra.core.Type, hydra.core.Type>) (x -> new hydra.core.Type.Maybe(x)),
        ft));
    });
    return new hydra.core.RowType((rt).typeName, hydra.lib.lists.Map.apply(
      makeOptional,
      (rt).fields));
  }
  
  static <T0, T1, T2, T3> hydra.compute.Flow<T1, hydra.compute.Adapter<T2, T3, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> unitToRecord(T0 ignored) {
    return hydra.lib.flows.Pure.apply((hydra.compute.Adapter<T2, T3, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<T2, T3, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<T2, T3, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<T2, T3, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<T2, T3, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<T2, T3, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<T2, T3, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(false, new hydra.core.Type.Unit(), new hydra.core.Type.Record(new hydra.core.RowType(new hydra.core.Name("_Unit"), (java.util.List<hydra.core.FieldType>) (java.util.List.<hydra.core.FieldType>of()))), (hydra.compute.Coder<T2, T3, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<T2, T3, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<T2, T3, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<T2, T3, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Coder<T2, T3, hydra.core.Term, hydra.core.Term>((java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T2, hydra.core.Term>>) (_2 -> hydra.lib.flows.Pure.apply(new hydra.core.Term.Record(new hydra.core.Record(new hydra.core.Name("_Unit"), (java.util.List<hydra.core.Field>) (java.util.List.<hydra.core.Field>of()))))), (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T3, hydra.core.Term>>) (_2 -> hydra.lib.flows.Pure.apply(new hydra.core.Term.Unit())))))))))))))));
  }
  
  static hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> wrapToUnwrapped(hydra.core.Type t) {
    return (t).accept(new hydra.core.Type.PartialVisitor<>() {
      @Override
      public hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>> visit(hydra.core.Type.Wrap wt) {
        hydra.core.Name tname = ((wt).value).typeName;
        hydra.core.Type typ = ((wt).value).body;
        return hydra.lib.flows.Bind.apply(
          hydra.adapt.terms.Terms.termAdapter(typ),
          (java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>>>) (ad -> hydra.lib.flows.Pure.apply((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>(false, t, ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, hydra.core.Type>) (projected -> projected.target))))))).apply(ad), (hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) ((hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>) (new hydra.compute.Coder<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Term, hydra.core.Term>(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (v1 -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v2 -> hydra.adapt.terms.Terms.wrapToUnwrapped_encode(
            (java.util.function.Function<hydra.core.Name, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.graph.Graph, hydra.core.Term>>>) (p0 -> p1 -> hydra.extract.core.Core.wrap(
              p0,
              p1)),
            tname,
            v1,
            v2)))).apply(ad), ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, hydra.coders.AdapterContext, hydra.core.Type, hydra.core.Type, hydra.core.Term, hydra.core.Term>, java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>>) (v1 -> (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<hydra.coders.AdapterContext, hydra.core.Term>>) (v2 -> hydra.adapt.terms.Terms.wrapToUnwrapped_decode(
            tname,
            v1,
            v2)))).apply(ad))))))))))))))));
      }
    });
  }
  
  static <T0, T1, T2, T3, T4, T5, T6> hydra.compute.Flow<hydra.coders.AdapterContext, T6> wrapToUnwrapped_encode(java.util.function.Function<T0, java.util.function.Function<T1, hydra.compute.Flow<hydra.graph.Graph, T2>>> hydra_extract_core_wrap2, T0 tname, hydra.compute.Adapter<hydra.coders.AdapterContext, T3, T4, T5, T2, T6> ad, T1 term) {
    return hydra.lib.flows.Bind.apply(
      hydra.adapt.terms.Terms.<T2>withGraphContext(((hydra_extract_core_wrap2).apply(tname)).apply(term)),
      (java.util.function.Function<T2, hydra.compute.Flow<hydra.coders.AdapterContext, T6>>) (unwrapped -> (((java.util.function.Function<hydra.compute.Coder<hydra.coders.AdapterContext, T3, T2, T6>, java.util.function.Function<T2, hydra.compute.Flow<hydra.coders.AdapterContext, T6>>>) ((java.util.function.Function<hydra.compute.Coder<hydra.coders.AdapterContext, T3, T2, T6>, java.util.function.Function<T2, hydra.compute.Flow<hydra.coders.AdapterContext, T6>>>) ((java.util.function.Function<hydra.compute.Coder<hydra.coders.AdapterContext, T3, T2, T6>, java.util.function.Function<T2, hydra.compute.Flow<hydra.coders.AdapterContext, T6>>>) ((java.util.function.Function<hydra.compute.Coder<hydra.coders.AdapterContext, T3, T2, T6>, java.util.function.Function<T2, hydra.compute.Flow<hydra.coders.AdapterContext, T6>>>) (projected -> projected.encode))))).apply(((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, T3, T4, T5, T2, T6>, hydra.compute.Coder<hydra.coders.AdapterContext, T3, T2, T6>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, T3, T4, T5, T2, T6>, hydra.compute.Coder<hydra.coders.AdapterContext, T3, T2, T6>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, T3, T4, T5, T2, T6>, hydra.compute.Coder<hydra.coders.AdapterContext, T3, T2, T6>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, T3, T4, T5, T2, T6>, hydra.compute.Coder<hydra.coders.AdapterContext, T3, T2, T6>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, T3, T4, T5, T2, T6>, hydra.compute.Coder<hydra.coders.AdapterContext, T3, T2, T6>>) ((java.util.function.Function<hydra.compute.Adapter<hydra.coders.AdapterContext, T3, T4, T5, T2, T6>, hydra.compute.Coder<hydra.coders.AdapterContext, T3, T2, T6>>) (projected -> projected.coder))))))).apply(ad))).apply(unwrapped)));
  }
  
  static <T0, T1, T2, T3, T4> hydra.compute.Flow<T1, hydra.core.Term> wrapToUnwrapped_decode(hydra.core.Name tname, hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4> ad, T4 term) {
    return hydra.lib.flows.Bind.apply(
      (((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, T4>, java.util.function.Function<T4, hydra.compute.Flow<T1, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, T4>, java.util.function.Function<T4, hydra.compute.Flow<T1, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, T4>, java.util.function.Function<T4, hydra.compute.Flow<T1, hydra.core.Term>>>) ((java.util.function.Function<hydra.compute.Coder<T0, T1, hydra.core.Term, T4>, java.util.function.Function<T4, hydra.compute.Flow<T1, hydra.core.Term>>>) (projected -> projected.decode))))).apply(((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) ((java.util.function.Function<hydra.compute.Adapter<T0, T1, T2, T3, hydra.core.Term, T4>, hydra.compute.Coder<T0, T1, hydra.core.Term, T4>>) (projected -> projected.coder))))))).apply(ad))).apply(term),
      (java.util.function.Function<hydra.core.Term, hydra.compute.Flow<T1, hydra.core.Term>>) (decoded -> hydra.lib.flows.Pure.apply(new hydra.core.Term.Wrap(new hydra.core.WrappedTerm(tname, decoded)))));
  }
  
  static <T0> hydra.compute.Flow<hydra.coders.AdapterContext, T0> withGraphContext(hydra.compute.Flow<hydra.graph.Graph, T0> f) {
    return hydra.lib.flows.Bind.apply(
      hydra.monads.Monads.<hydra.coders.AdapterContext>getState(),
      (java.util.function.Function<hydra.coders.AdapterContext, hydra.compute.Flow<hydra.coders.AdapterContext, T0>>) (cx -> hydra.monads.Monads.withState(
        (cx).graph,
        f)));
  }
}
