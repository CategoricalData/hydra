definitions:

  - name: Associativity
    type:
      enum:
        - left
        - right

  - name: BlockExpression
    type:
      record:
        - name: delimiters
          type: Delimiters

        - name: head
          type:
            optional: Expression

        - name: subexpressions
          type:
            list: Expression

  - name: Delimiters
    type:
      record:
        - name: open
          type:
            optional: string

        - name: close
          type:
            optional: string

  - name: Expression
    type:
      union:
        - name: atomic
          type: string

        - name: block
          type: BlockExpression

        - name: infix
          type: OperatorExpression

        - name: list
          type: ListExpression

        - name: prefix
          type: OperatorExpression

  - name: ListExpression
    type:
      record:
        - name: separator
          type: string

        - name: elements
          type:
            list: Expression

  - name: Operator
    type:
      record:
        - name: symbol
          type: string

        - name: precedence
          type: Precedence

        - name: associativity
          type: Associativity

  - name: OperatorExpression
    type:
      record:
        - name: operator
          type: Operator

        - name: operands
          type:
            list: Expression

  - name: Precedence
    type: integer
