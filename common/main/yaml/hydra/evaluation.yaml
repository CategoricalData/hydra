includes:
  - core
  - graph

definitions:

  - name: Context
    type:
      record:
        - name: elements
          type:
            map:
              keys: core.Name
              values: graph.Element

        - name: functions
          type:
            map:
              keys: core.Name
              values: PrimitiveFunction

        - name: strategy
          type: EvaluationStrategy

  - name: EvaluationStrategy
    type:
      record:
        - name: opaqueTermVariants
          description: "Whether a term of a given variant is considered to be fully reduced, without further inspection"
          type:
            set: core.TermVariant

  - name: PrimitiveFunction
    type:
      record:
        - name: implementation
          type:
            function:
              from:
                - list: core.Term
              to: core.Term

        - name: type
          type: core.FunctionType

  - name: TermStep
    type:
      union:
        - name: applicationFunction

        - name: applicationArgument

        - name: case
          type: core.FieldName

        - name: compareTo

        - name: lambdaBody

        - name: list
          type: integer # note: precision

        - name: mapKey
          type: integer # note: precision

        - name: mapValue
          type: integer # note: precision

        - name: record
          type: core.FieldName

        - name: set
          type: integer # note: precision

        - name: union
