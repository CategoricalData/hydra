includes:
  - core
  - graph

definitions:

  - name: Context
    type:
      record:
        - name: elements
          type:
            map:
              keys: core.Name
              values: graph.Element

        - name: functions
          type:
            map:
              keys: core.Name
              values: PrimitiveFunction

        - name: reductionStyle
          type: ReductionStyle

  - name: ReductionStyle
    type:
      record:
        - name: lambdas
          description: "Whether all lambda terms are considered to be fully reduced"
          type: boolean

        - name: records
          description: "Whether all record terms are considered to be fully reduced"
          type: boolean

        - name: unions
          description: "Whether all union terms are considered to be fully reduced"
          type: boolean

        - name: elements
          description: "Whether all element reference terms are considered to be fully reduced"
          type: boolean

        - name: caseStatements
          description: "Whether all case statement terms are considered to be fully reduced"
          type: boolean

  - name: PrimitiveFunction
    type:
      record:
#        - name: name
#          type: core.Name

        - name: implementation
          type:
            function:
              from:
                - list: core.Term
              to: core.Term

        - name: type
          type: core.FunctionType
