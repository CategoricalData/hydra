{
  "description": ["Functions for encoding Hydra modules as Haskell modules"],
  "elements": [
    {
      "name": "hydra.ext.haskell.coder.includeTypeDefinitions",
      "term": {
        "annotated": {
          "annotation": [
            {
              "@key": "description",
              "@value": {
                "literal": {
                  "string": "Whether to include type definitions in generated Haskell modules"}}}],
          "body": {"literal": {"boolean": false}}}},
      "type": [
        {
          "constraints": null,
          "type": {"literal": {"boolean": {}}},
          "variables": []}]},
    {
      "name": "hydra.ext.haskell.coder.useCoreImport",
      "term": {
        "annotated": {
          "annotation": [
            {
              "@key": "description",
              "@value": {
                "literal": {
                  "string": "Whether to use the Hydra core import in generated modules"}}}],
          "body": {"literal": {"boolean": true}}}},
      "type": [
        {
          "constraints": null,
          "type": {"literal": {"boolean": {}}},
          "variables": []}]},
    {
      "name": "hydra.ext.haskell.coder.keyHaskellVar",
      "term": {
        "annotated": {
          "annotation": [
            {
              "@key": "description",
              "@value": {
                "literal": {
                  "string": "The key used to track Haskell variable depth in annotations"}}}],
          "body": {
            "wrap": {
              "body": {"literal": {"string": "haskellVar"}},
              "typeName": "hydra.core.Name"}}}},
      "type": [
        {
          "constraints": null,
          "type": {"variable": "hydra.core.Name"},
          "variables": []}]},
    {
      "name": "hydra.ext.haskell.coder.adaptTypeToHaskellAndEncode",
      "term": {
        "annotated": {
          "annotation": [
            {
              "@key": "description",
              "@value": {
                "literal": {
                  "string": "Adapt a Hydra type to Haskell's type system and encode it"}}}],
          "body": {
            "function": {
              "lambda": {
                "body": {
                  "application": {
                    "argument": {
                      "application": {
                        "argument": {"variable": "namespaces"},
                        "function": {
                          "typeApplication": {
                            "body": {"variable": "hydra.ext.haskell.coder.encodeType"},
                            "type": {"variable": "hydra.graph.Graph"}}}}},
                    "function": {
                      "application": {
                        "argument": {"variable": "hydra.ext.haskell.language.haskellLanguage"},
                        "function": {
                          "typeApplication": {
                            "body": {"variable": "hydra.adapt.modules.adaptTypeToLanguageAndEncode"},
                            "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}}}},
                "domain": [
                  {
                    "application": {
                      "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                      "function": {"variable": "hydra.module.Namespaces"}}}],
                "parameter": "namespaces"}}}}},
      "type": [
        {
          "constraints": null,
          "type": {
            "function": {
              "codomain": {
                "function": {
                  "codomain": {
                    "application": {
                      "argument": {"variable": "hydra.ext.haskell.ast.Type"},
                      "function": {
                        "application": {
                          "argument": {"variable": "hydra.graph.Graph"},
                          "function": {"variable": "hydra.compute.Flow"}}}}},
                  "domain": {"variable": "hydra.core.Type"}}},
              "domain": {
                "application": {
                  "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                  "function": {"variable": "hydra.module.Namespaces"}}}}},
          "variables": []}]},
    {
      "name": "hydra.ext.haskell.coder.constantForFieldName",
      "term": {
        "annotated": {
          "annotation": [
            {
              "@key": "description",
              "@value": {
                "literal": {
                  "string": "Generate a constant name for a field (e.g., '_TypeName_fieldName')"}}}],
          "body": {
            "function": {
              "lambda": {
                "body": {
                  "function": {
                    "lambda": {
                      "body": {
                        "application": {
                          "argument": {
                            "list": [
                              {"literal": {"string": "_"}},
                              {
                                "application": {
                                  "argument": {"variable": "tname"},
                                  "function": {"variable": "hydra.names.localNameOf"}}},
                              {"literal": {"string": "_"}},
                              {
                                "application": {
                                  "argument": {"variable": "fname"},
                                  "function": {"function": {"elimination": {"wrap": "hydra.core.Name"}}}}}]},
                          "function": {"function": {"primitive": "hydra.lib.strings.cat"}}}},
                      "domain": [{"variable": "hydra.core.Name"}],
                      "parameter": "fname"}}},
                "domain": [{"variable": "hydra.core.Name"}],
                "parameter": "tname"}}}}},
      "type": [
        {
          "constraints": null,
          "type": {
            "function": {
              "codomain": {
                "function": {
                  "codomain": {"literal": {"string": {}}},
                  "domain": {"variable": "hydra.core.Name"}}},
              "domain": {"variable": "hydra.core.Name"}}},
          "variables": []}]},
    {
      "name": "hydra.ext.haskell.coder.constantForTypeName",
      "term": {
        "annotated": {
          "annotation": [
            {
              "@key": "description",
              "@value": {
                "literal": {"string": "Generate a constant name for a type (e.g., '_TypeName')"}}}],
          "body": {
            "function": {
              "lambda": {
                "body": {
                  "application": {
                    "argument": {
                      "application": {
                        "argument": {"variable": "tname"},
                        "function": {"variable": "hydra.names.localNameOf"}}},
                    "function": {
                      "application": {
                        "argument": {"literal": {"string": "_"}},
                        "function": {"function": {"primitive": "hydra.lib.strings.cat2"}}}}}},
                "domain": [{"variable": "hydra.core.Name"}],
                "parameter": "tname"}}}}},
      "type": [
        {
          "constraints": null,
          "type": {
            "function": {
              "codomain": {"literal": {"string": {}}},
              "domain": {"variable": "hydra.core.Name"}}},
          "variables": []}]},
    {
      "name": "hydra.ext.haskell.coder.constructModule",
      "term": {
        "annotated": {
          "annotation": [
            {
              "@key": "description",
              "@value": {
                "literal": {
                  "string": "Construct a Haskell module from a Hydra module and its definitions"}}}],
          "body": {
            "function": {
              "lambda": {
                "body": {
                  "function": {
                    "lambda": {
                      "body": {
                        "function": {
                          "lambda": {
                            "body": {
                              "let": {
                                "bindings": [
                                  {
                                    "name": "h",
                                    "term": {
                                      "function": {
                                        "lambda": {
                                          "body": {
                                            "application": {
                                              "argument": {"variable": "namespace"},
                                              "function": {"function": {"elimination": {"wrap": "hydra.module.Namespace"}}}}},
                                          "domain": [{"variable": "hydra.module.Namespace"}],
                                          "parameter": "namespace"}}},
                                    "type": [
                                      {
                                        "constraints": null,
                                        "type": {
                                          "function": {
                                            "codomain": {"literal": {"string": {}}},
                                            "domain": {"variable": "hydra.module.Namespace"}}},
                                        "variables": []}]},
                                  {
                                    "name": "createDeclarations",
                                    "term": {
                                      "typeLambda": {
                                        "body": {
                                          "function": {
                                            "lambda": {
                                              "body": {
                                                "function": {
                                                  "lambda": {
                                                    "body": {
                                                      "application": {
                                                        "argument": {"variable": "def"},
                                                        "function": {
                                                          "function": {
                                                            "elimination": {
                                                              "union": {
                                                                "cases": [
                                                                  {
                                                                    "name": "type",
                                                                    "term": {
                                                                      "function": {
                                                                        "lambda": {
                                                                          "body": {
                                                                            "let": {
                                                                              "bindings": [
                                                                                {
                                                                                  "name": "name",
                                                                                  "term": {
                                                                                    "application": {
                                                                                      "argument": {"variable": "type"},
                                                                                      "function": {
                                                                                        "function": {
                                                                                          "elimination": {
                                                                                            "record": {"field": "name", "typeName": "hydra.module.TypeDefinition"}}}}}},
                                                                                  "type": [
                                                                                    {
                                                                                      "constraints": null,
                                                                                      "type": {"variable": "hydra.core.Name"},
                                                                                      "variables": []}]},
                                                                                {
                                                                                  "name": "typ",
                                                                                  "term": {
                                                                                    "application": {
                                                                                      "argument": {"variable": "type"},
                                                                                      "function": {
                                                                                        "function": {
                                                                                          "elimination": {
                                                                                            "record": {"field": "type", "typeName": "hydra.module.TypeDefinition"}}}}}},
                                                                                  "type": [
                                                                                    {
                                                                                      "constraints": null,
                                                                                      "type": {"variable": "hydra.core.Type"},
                                                                                      "variables": []}]}],
                                                                              "body": {
                                                                                "application": {
                                                                                  "argument": {"variable": "typ"},
                                                                                  "function": {
                                                                                    "application": {
                                                                                      "argument": {"variable": "name"},
                                                                                      "function": {
                                                                                        "application": {
                                                                                          "argument": {"variable": "namespaces"},
                                                                                          "function": {"variable": "hydra.ext.haskell.coder.toTypeDeclarationsFrom"}}}}}}}}},
                                                                          "domain": [{"variable": "hydra.module.TypeDefinition"}],
                                                                          "parameter": "type"}}}},
                                                                  {
                                                                    "name": "term",
                                                                    "term": {
                                                                      "function": {
                                                                        "lambda": {
                                                                          "body": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "function": {
                                                                                  "lambda": {
                                                                                    "body": {
                                                                                      "application": {
                                                                                        "argument": {"list": [{"variable": "d"}]},
                                                                                        "function": {
                                                                                          "typeApplication": {
                                                                                            "body": {
                                                                                              "typeApplication": {
                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                "type": {"variable": "hydra.graph.Graph"}}},
                                                                                            "type": {
                                                                                              "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}},
                                                                                    "domain": [{"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}],
                                                                                    "parameter": "d"}}},
                                                                              "function": {
                                                                                "application": {
                                                                                  "argument": {
                                                                                    "application": {
                                                                                      "argument": {"variable": "term"},
                                                                                      "function": {
                                                                                        "application": {
                                                                                          "argument": {"variable": "namespaces"},
                                                                                          "function": {"variable": "hydra.ext.haskell.coder.toDataDeclaration"}}}}},
                                                                                  "function": {
                                                                                    "typeApplication": {
                                                                                      "body": {
                                                                                        "typeApplication": {
                                                                                          "body": {
                                                                                            "typeApplication": {
                                                                                              "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                              "type": {"variable": "hydra.graph.Graph"}}},
                                                                                          "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}},
                                                                                      "type": {
                                                                                        "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}}},
                                                                          "domain": [{"variable": "hydra.module.TermDefinition"}],
                                                                          "parameter": "term"}}}}],
                                                                "default": null,
                                                                "typeName": "hydra.module.Definition"}}}}}},
                                                    "domain": [{"variable": "hydra.module.Definition"}],
                                                    "parameter": "def"}}},
                                              "domain": [{"variable": "t0"}],
                                              "parameter": "g"}}},
                                        "parameter": "t0"}},
                                    "type": [
                                      {
                                        "constraints": null,
                                        "type": {
                                          "function": {
                                            "codomain": {
                                              "function": {
                                                "codomain": {
                                                  "application": {
                                                    "argument": {
                                                      "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}},
                                                    "function": {
                                                      "application": {
                                                        "argument": {"variable": "hydra.graph.Graph"},
                                                        "function": {"variable": "hydra.compute.Flow"}}}}},
                                                "domain": {"variable": "hydra.module.Definition"}}},
                                            "domain": {"variable": "t0"}}},
                                        "variables": ["t0"]}]},
                                  {
                                    "name": "importName",
                                    "term": {
                                      "function": {
                                        "lambda": {
                                          "body": {
                                            "wrap": {
                                              "body": {
                                                "application": {
                                                  "argument": {
                                                    "application": {
                                                      "argument": {
                                                        "application": {
                                                          "argument": {"variable": "name"},
                                                          "function": {
                                                            "application": {
                                                              "argument": {"literal": {"string": "."}},
                                                              "function": {"function": {"primitive": "hydra.lib.strings.splitOn"}}}}}},
                                                      "function": {
                                                        "application": {
                                                          "argument": {"variable": "hydra.formatting.capitalize"},
                                                          "function": {
                                                            "typeApplication": {
                                                              "body": {
                                                                "typeApplication": {
                                                                  "body": {"function": {"primitive": "hydra.lib.lists.map"}},
                                                                  "type": {"literal": {"string": {}}}}},
                                                              "type": {"literal": {"string": {}}}}}}}}},
                                                  "function": {
                                                    "application": {
                                                      "argument": {"literal": {"string": "."}},
                                                      "function": {"function": {"primitive": "hydra.lib.strings.intercalate"}}}}}},
                                              "typeName": "hydra.ext.haskell.ast.ModuleName"}},
                                          "domain": [{"literal": {"string": {}}}],
                                          "parameter": "name"}}},
                                    "type": [
                                      {
                                        "constraints": null,
                                        "type": {
                                          "function": {
                                            "codomain": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                                            "domain": {"literal": {"string": {}}}}},
                                        "variables": []}]},
                                  {
                                    "name": "imports",
                                    "term": {
                                      "application": {
                                        "argument": {"variable": "standardImports"},
                                        "function": {
                                          "application": {
                                            "argument": {"variable": "domainImports"},
                                            "function": {
                                              "typeApplication": {
                                                "body": {"function": {"primitive": "hydra.lib.lists.concat2"}},
                                                "type": {"variable": "hydra.ext.haskell.ast.Import"}}}}}}},
                                    "type": [
                                      {
                                        "constraints": null,
                                        "type": {"list": {"variable": "hydra.ext.haskell.ast.Import"}},
                                        "variables": []}]},
                                  {
                                    "name": "domainImports",
                                    "term": {
                                      "let": {
                                        "bindings": [
                                          {
                                            "name": "toImport",
                                            "term": {
                                              "function": {
                                                "lambda": {
                                                  "body": {
                                                    "let": {
                                                      "bindings": [
                                                        {
                                                          "name": "namespace",
                                                          "term": {
                                                            "application": {
                                                              "argument": {"variable": "pair"},
                                                              "function": {
                                                                "typeApplication": {
                                                                  "body": {
                                                                    "typeApplication": {
                                                                      "body": {"function": {"primitive": "hydra.lib.pairs.first"}},
                                                                      "type": {"variable": "hydra.module.Namespace"}}},
                                                                  "type": {"variable": "hydra.ext.haskell.ast.ModuleName"}}}}},
                                                          "type": [
                                                            {
                                                              "constraints": null,
                                                              "type": {"variable": "hydra.module.Namespace"},
                                                              "variables": []}]},
                                                        {
                                                          "name": "alias",
                                                          "term": {
                                                            "application": {
                                                              "argument": {"variable": "pair"},
                                                              "function": {
                                                                "typeApplication": {
                                                                  "body": {
                                                                    "typeApplication": {
                                                                      "body": {"function": {"primitive": "hydra.lib.pairs.second"}},
                                                                      "type": {"variable": "hydra.module.Namespace"}}},
                                                                  "type": {"variable": "hydra.ext.haskell.ast.ModuleName"}}}}},
                                                          "type": [
                                                            {
                                                              "constraints": null,
                                                              "type": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                                                              "variables": []}]},
                                                        {
                                                          "name": "name",
                                                          "term": {
                                                            "application": {"argument": {"variable": "namespace"}, "function": {"variable": "h"}}},
                                                          "type": [
                                                            {
                                                              "constraints": null,
                                                              "type": {"literal": {"string": {}}},
                                                              "variables": []}]}],
                                                      "body": {
                                                        "record": {
                                                          "fields": [
                                                            {"name": "qualified", "term": {"literal": {"boolean": true}}},
                                                            {
                                                              "name": "module",
                                                              "term": {
                                                                "application": {
                                                                  "argument": {"variable": "name"},
                                                                  "function": {"variable": "importName"}}}},
                                                            {"name": "as", "term": {"maybe": [{"variable": "alias"}]}},
                                                            {
                                                              "name": "spec",
                                                              "term": {
                                                                "typeApplication": {
                                                                  "body": {"maybe": null},
                                                                  "type": {"variable": "hydra.ext.haskell.ast.SpecImport"}}}}],
                                                          "typeName": "hydra.ext.haskell.ast.Import"}}}},
                                                  "domain": [
                                                    {
                                                      "pair": {
                                                        "first": {"variable": "hydra.module.Namespace"},
                                                        "second": {"variable": "hydra.ext.haskell.ast.ModuleName"}}}],
                                                  "parameter": "pair"}}},
                                            "type": [
                                              {
                                                "constraints": null,
                                                "type": {
                                                  "function": {
                                                    "codomain": {"variable": "hydra.ext.haskell.ast.Import"},
                                                    "domain": {
                                                      "pair": {
                                                        "first": {"variable": "hydra.module.Namespace"},
                                                        "second": {"variable": "hydra.ext.haskell.ast.ModuleName"}}}}},
                                                "variables": []}]}],
                                        "body": {
                                          "application": {
                                            "argument": {
                                              "application": {
                                                "argument": {
                                                  "application": {
                                                    "argument": {"variable": "namespaces"},
                                                    "function": {
                                                      "typeApplication": {
                                                        "body": {
                                                          "function": {
                                                            "elimination": {
                                                              "record": {"field": "mapping", "typeName": "hydra.module.Namespaces"}}}},
                                                        "type": {"variable": "hydra.ext.haskell.ast.ModuleName"}}}}},
                                                "function": {
                                                  "typeApplication": {
                                                    "body": {
                                                      "typeApplication": {
                                                        "body": {"function": {"primitive": "hydra.lib.maps.toList"}},
                                                        "type": {"variable": "hydra.module.Namespace"}}},
                                                    "type": {"variable": "hydra.ext.haskell.ast.ModuleName"}}}}},
                                            "function": {
                                              "application": {
                                                "argument": {"variable": "toImport"},
                                                "function": {
                                                  "typeApplication": {
                                                    "body": {
                                                      "typeApplication": {
                                                        "body": {"function": {"primitive": "hydra.lib.lists.map"}},
                                                        "type": {
                                                          "pair": {
                                                            "first": {"variable": "hydra.module.Namespace"},
                                                            "second": {"variable": "hydra.ext.haskell.ast.ModuleName"}}}}},
                                                    "type": {"variable": "hydra.ext.haskell.ast.Import"}}}}}}}}},
                                    "type": [
                                      {
                                        "constraints": null,
                                        "type": {"list": {"variable": "hydra.ext.haskell.ast.Import"}},
                                        "variables": []}]},
                                  {
                                    "name": "standardImports",
                                    "term": {
                                      "let": {
                                        "bindings": [
                                          {
                                            "name": "toImport",
                                            "term": {
                                              "function": {
                                                "lambda": {
                                                  "body": {
                                                    "let": {
                                                      "bindings": [
                                                        {
                                                          "name": "name",
                                                          "term": {
                                                            "application": {
                                                              "argument": {
                                                                "application": {
                                                                  "argument": {"variable": "triple"},
                                                                  "function": {
                                                                    "typeApplication": {
                                                                      "body": {
                                                                        "typeApplication": {
                                                                          "body": {"function": {"primitive": "hydra.lib.pairs.first"}},
                                                                          "type": {
                                                                            "pair": {
                                                                              "first": {"literal": {"string": {}}},
                                                                              "second": {"maybe": {"literal": {"string": {}}}}}}}},
                                                                      "type": {"list": {"literal": {"string": {}}}}}}}},
                                                              "function": {
                                                                "typeApplication": {
                                                                  "body": {
                                                                    "typeApplication": {
                                                                      "body": {"function": {"primitive": "hydra.lib.pairs.first"}},
                                                                      "type": {"literal": {"string": {}}}}},
                                                                  "type": {"maybe": {"literal": {"string": {}}}}}}}},
                                                          "type": [
                                                            {
                                                              "constraints": null,
                                                              "type": {"literal": {"string": {}}},
                                                              "variables": []}]},
                                                        {
                                                          "name": "malias",
                                                          "term": {
                                                            "application": {
                                                              "argument": {
                                                                "application": {
                                                                  "argument": {"variable": "triple"},
                                                                  "function": {
                                                                    "typeApplication": {
                                                                      "body": {
                                                                        "typeApplication": {
                                                                          "body": {"function": {"primitive": "hydra.lib.pairs.first"}},
                                                                          "type": {
                                                                            "pair": {
                                                                              "first": {"literal": {"string": {}}},
                                                                              "second": {"maybe": {"literal": {"string": {}}}}}}}},
                                                                      "type": {"list": {"literal": {"string": {}}}}}}}},
                                                              "function": {
                                                                "typeApplication": {
                                                                  "body": {
                                                                    "typeApplication": {
                                                                      "body": {"function": {"primitive": "hydra.lib.pairs.second"}},
                                                                      "type": {"literal": {"string": {}}}}},
                                                                  "type": {"maybe": {"literal": {"string": {}}}}}}}},
                                                          "type": [
                                                            {
                                                              "constraints": null,
                                                              "type": {"maybe": {"literal": {"string": {}}}},
                                                              "variables": []}]},
                                                        {
                                                          "name": "hidden",
                                                          "term": {
                                                            "application": {
                                                              "argument": {"variable": "triple"},
                                                              "function": {
                                                                "typeApplication": {
                                                                  "body": {
                                                                    "typeApplication": {
                                                                      "body": {"function": {"primitive": "hydra.lib.pairs.second"}},
                                                                      "type": {
                                                                        "pair": {
                                                                          "first": {"literal": {"string": {}}},
                                                                          "second": {"maybe": {"literal": {"string": {}}}}}}}},
                                                                  "type": {"list": {"literal": {"string": {}}}}}}}},
                                                          "type": [
                                                            {
                                                              "constraints": null,
                                                              "type": {"list": {"literal": {"string": {}}}},
                                                              "variables": []}]},
                                                        {
                                                          "name": "spec",
                                                          "term": {
                                                            "application": {
                                                              "argument": {
                                                                "maybe": [
                                                                  {
                                                                    "union": {
                                                                      "field": {
                                                                        "name": "hiding",
                                                                        "term": {
                                                                          "application": {
                                                                            "argument": {"variable": "hidden"},
                                                                            "function": {
                                                                              "application": {
                                                                                "argument": {
                                                                                  "function": {
                                                                                    "lambda": {
                                                                                      "body": {
                                                                                        "record": {
                                                                                          "fields": [
                                                                                            {
                                                                                              "name": "modifier",
                                                                                              "term": {
                                                                                                "typeApplication": {
                                                                                                  "body": {"maybe": null},
                                                                                                  "type": {"variable": "hydra.ext.haskell.ast.ImportModifier"}}}},
                                                                                            {
                                                                                              "name": "name",
                                                                                              "term": {
                                                                                                "application": {
                                                                                                  "argument": {"variable": "n"},
                                                                                                  "function": {"variable": "hydra.ext.haskell.utils.simpleName"}}}},
                                                                                            {
                                                                                              "name": "subspec",
                                                                                              "term": {
                                                                                                "typeApplication": {
                                                                                                  "body": {"maybe": null},
                                                                                                  "type": {"variable": "hydra.ext.haskell.ast.SubspecImportExportSpec"}}}}],
                                                                                          "typeName": "hydra.ext.haskell.ast.ImportExportSpec"}},
                                                                                      "domain": [{"literal": {"string": {}}}],
                                                                                      "parameter": "n"}}},
                                                                                "function": {
                                                                                  "typeApplication": {
                                                                                    "body": {
                                                                                      "typeApplication": {
                                                                                        "body": {"function": {"primitive": "hydra.lib.lists.map"}},
                                                                                        "type": {"literal": {"string": {}}}}},
                                                                                    "type": {"variable": "hydra.ext.haskell.ast.ImportExportSpec"}}}}}}}},
                                                                      "typeName": "hydra.ext.haskell.ast.SpecImport"}}]},
                                                              "function": {
                                                                "application": {
                                                                  "argument": {
                                                                    "typeApplication": {
                                                                      "body": {"maybe": null},
                                                                      "type": {"variable": "hydra.ext.haskell.ast.SpecImport"}}},
                                                                  "function": {
                                                                    "application": {
                                                                      "argument": {
                                                                        "application": {
                                                                          "argument": {"variable": "hidden"},
                                                                          "function": {
                                                                            "typeApplication": {
                                                                              "body": {"function": {"primitive": "hydra.lib.lists.null"}},
                                                                              "type": {"literal": {"string": {}}}}}}},
                                                                      "function": {
                                                                        "typeApplication": {
                                                                          "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                                          "type": {"maybe": {"variable": "hydra.ext.haskell.ast.SpecImport"}}}}}}}}}},
                                                          "type": [
                                                            {
                                                              "constraints": null,
                                                              "type": {"maybe": {"variable": "hydra.ext.haskell.ast.SpecImport"}},
                                                              "variables": []}]}],
                                                      "body": {
                                                        "record": {
                                                          "fields": [
                                                            {
                                                              "name": "qualified",
                                                              "term": {
                                                                "application": {
                                                                  "argument": {"variable": "malias"},
                                                                  "function": {
                                                                    "typeApplication": {
                                                                      "body": {"function": {"primitive": "hydra.lib.maybes.isJust"}},
                                                                      "type": {"literal": {"string": {}}}}}}}},
                                                            {
                                                              "name": "module",
                                                              "term": {
                                                                "wrap": {
                                                                  "body": {"variable": "name"},
                                                                  "typeName": "hydra.ext.haskell.ast.ModuleName"}}},
                                                            {
                                                              "name": "as",
                                                              "term": {
                                                                "application": {
                                                                  "argument": {"variable": "malias"},
                                                                  "function": {
                                                                    "application": {
                                                                      "argument": {
                                                                        "function": {
                                                                          "lambda": {
                                                                            "body": {
                                                                              "wrap": {
                                                                                "body": {"variable": "x"},
                                                                                "typeName": "hydra.ext.haskell.ast.ModuleName"}},
                                                                            "domain": [{"literal": {"string": {}}}],
                                                                            "parameter": "x"}}},
                                                                      "function": {
                                                                        "typeApplication": {
                                                                          "body": {
                                                                            "typeApplication": {
                                                                              "body": {"function": {"primitive": "hydra.lib.maybes.map"}},
                                                                              "type": {"literal": {"string": {}}}}},
                                                                          "type": {"variable": "hydra.ext.haskell.ast.ModuleName"}}}}}}}},
                                                            {"name": "spec", "term": {"variable": "spec"}}],
                                                          "typeName": "hydra.ext.haskell.ast.Import"}}}},
                                                  "domain": [
                                                    {
                                                      "pair": {
                                                        "first": {
                                                          "pair": {
                                                            "first": {"literal": {"string": {}}},
                                                            "second": {"maybe": {"literal": {"string": {}}}}}},
                                                        "second": {"list": {"literal": {"string": {}}}}}}],
                                                  "parameter": "triple"}}},
                                            "type": [
                                              {
                                                "constraints": null,
                                                "type": {
                                                  "function": {
                                                    "codomain": {"variable": "hydra.ext.haskell.ast.Import"},
                                                    "domain": {
                                                      "pair": {
                                                        "first": {
                                                          "pair": {
                                                            "first": {"literal": {"string": {}}},
                                                            "second": {"maybe": {"literal": {"string": {}}}}}},
                                                        "second": {"list": {"literal": {"string": {}}}}}}}},
                                                "variables": []}]}],
                                        "body": {
                                          "application": {
                                            "argument": {
                                              "application": {
                                                "argument": {
                                                  "application": {
                                                    "argument": {
                                                      "typeApplication": {
                                                        "body": {"list": []},
                                                        "type": {
                                                          "pair": {
                                                            "first": {
                                                              "pair": {
                                                                "first": {"literal": {"string": {}}},
                                                                "second": {"maybe": {"literal": {"string": {}}}}}},
                                                            "second": {"list": {"literal": {"string": {}}}}}}}},
                                                    "function": {
                                                      "application": {
                                                        "argument": {
                                                          "list": [
                                                            {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "typeApplication": {
                                                                    "body": {
                                                                      "pair": {
                                                                        "@first": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {
                                                                                  "pair": {
                                                                                    "@first": {"literal": {"string": "Hydra.Lib.Literals"}},
                                                                                    "@second": {"maybe": [{"literal": {"string": "Literals"}}]}}},
                                                                                "type": {"literal": {"string": {}}}}},
                                                                            "type": {"maybe": {"literal": {"string": {}}}}}},
                                                                        "@second": {
                                                                          "typeApplication": {"body": {"list": []}, "type": {"literal": {"string": {}}}}}}},
                                                                    "type": {
                                                                      "pair": {
                                                                        "first": {"literal": {"string": {}}},
                                                                        "second": {"maybe": {"literal": {"string": {}}}}}}}},
                                                                "type": {"list": {"literal": {"string": {}}}}}}]},
                                                        "function": {
                                                          "application": {
                                                            "argument": {
                                                              "application": {
                                                                "argument": {"variable": "mod"},
                                                                "function": {"variable": "hydra.schemas.moduleContainsBinaryLiterals"}}},
                                                            "function": {
                                                              "typeApplication": {
                                                                "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                                "type": {
                                                                  "list": {
                                                                    "pair": {
                                                                      "first": {
                                                                        "pair": {
                                                                          "first": {"literal": {"string": {}}},
                                                                          "second": {"maybe": {"literal": {"string": {}}}}}},
                                                                      "second": {"list": {"literal": {"string": {}}}}}}}}}}}}}}},
                                                "function": {
                                                  "application": {
                                                    "argument": {
                                                      "list": [
                                                        {
                                                          "typeApplication": {
                                                            "body": {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "pair": {
                                                                    "@first": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "pair": {
                                                                                "@first": {"literal": {"string": "Prelude"}},
                                                                                "@second": {
                                                                                  "typeApplication": {"body": {"maybe": null}, "type": {"literal": {"string": {}}}}}}},
                                                                            "type": {"literal": {"string": {}}}}},
                                                                        "type": {"maybe": {"literal": {"string": {}}}}}},
                                                                    "@second": {
                                                                      "list": [
                                                                        {"literal": {"string": "Enum"}},
                                                                        {"literal": {"string": "Ordering"}},
                                                                        {"literal": {"string": "decodeFloat"}},
                                                                        {"literal": {"string": "encodeFloat"}},
                                                                        {"literal": {"string": "fail"}},
                                                                        {"literal": {"string": "map"}},
                                                                        {"literal": {"string": "pure"}},
                                                                        {"literal": {"string": "sum"}}]}}},
                                                                "type": {
                                                                  "pair": {
                                                                    "first": {"literal": {"string": {}}},
                                                                    "second": {"maybe": {"literal": {"string": {}}}}}}}},
                                                            "type": {"list": {"literal": {"string": {}}}}}},
                                                        {
                                                          "typeApplication": {
                                                            "body": {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "pair": {
                                                                    "@first": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "pair": {
                                                                                "@first": {"literal": {"string": "Data.ByteString"}},
                                                                                "@second": {"maybe": [{"literal": {"string": "B"}}]}}},
                                                                            "type": {"literal": {"string": {}}}}},
                                                                        "type": {"maybe": {"literal": {"string": {}}}}}},
                                                                    "@second": {
                                                                      "typeApplication": {"body": {"list": []}, "type": {"literal": {"string": {}}}}}}},
                                                                "type": {
                                                                  "pair": {
                                                                    "first": {"literal": {"string": {}}},
                                                                    "second": {"maybe": {"literal": {"string": {}}}}}}}},
                                                            "type": {"list": {"literal": {"string": {}}}}}},
                                                        {
                                                          "typeApplication": {
                                                            "body": {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "pair": {
                                                                    "@first": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "pair": {
                                                                                "@first": {"literal": {"string": "Data.Int"}},
                                                                                "@second": {"maybe": [{"literal": {"string": "I"}}]}}},
                                                                            "type": {"literal": {"string": {}}}}},
                                                                        "type": {"maybe": {"literal": {"string": {}}}}}},
                                                                    "@second": {
                                                                      "typeApplication": {"body": {"list": []}, "type": {"literal": {"string": {}}}}}}},
                                                                "type": {
                                                                  "pair": {
                                                                    "first": {"literal": {"string": {}}},
                                                                    "second": {"maybe": {"literal": {"string": {}}}}}}}},
                                                            "type": {"list": {"literal": {"string": {}}}}}},
                                                        {
                                                          "typeApplication": {
                                                            "body": {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "pair": {
                                                                    "@first": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "pair": {
                                                                                "@first": {"literal": {"string": "Data.List"}},
                                                                                "@second": {"maybe": [{"literal": {"string": "L"}}]}}},
                                                                            "type": {"literal": {"string": {}}}}},
                                                                        "type": {"maybe": {"literal": {"string": {}}}}}},
                                                                    "@second": {
                                                                      "typeApplication": {"body": {"list": []}, "type": {"literal": {"string": {}}}}}}},
                                                                "type": {
                                                                  "pair": {
                                                                    "first": {"literal": {"string": {}}},
                                                                    "second": {"maybe": {"literal": {"string": {}}}}}}}},
                                                            "type": {"list": {"literal": {"string": {}}}}}},
                                                        {
                                                          "typeApplication": {
                                                            "body": {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "pair": {
                                                                    "@first": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "pair": {
                                                                                "@first": {"literal": {"string": "Data.Map"}},
                                                                                "@second": {"maybe": [{"literal": {"string": "M"}}]}}},
                                                                            "type": {"literal": {"string": {}}}}},
                                                                        "type": {"maybe": {"literal": {"string": {}}}}}},
                                                                    "@second": {
                                                                      "typeApplication": {"body": {"list": []}, "type": {"literal": {"string": {}}}}}}},
                                                                "type": {
                                                                  "pair": {
                                                                    "first": {"literal": {"string": {}}},
                                                                    "second": {"maybe": {"literal": {"string": {}}}}}}}},
                                                            "type": {"list": {"literal": {"string": {}}}}}},
                                                        {
                                                          "typeApplication": {
                                                            "body": {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "pair": {
                                                                    "@first": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "pair": {
                                                                                "@first": {"literal": {"string": "Data.Set"}},
                                                                                "@second": {"maybe": [{"literal": {"string": "S"}}]}}},
                                                                            "type": {"literal": {"string": {}}}}},
                                                                        "type": {"maybe": {"literal": {"string": {}}}}}},
                                                                    "@second": {
                                                                      "typeApplication": {"body": {"list": []}, "type": {"literal": {"string": {}}}}}}},
                                                                "type": {
                                                                  "pair": {
                                                                    "first": {"literal": {"string": {}}},
                                                                    "second": {"maybe": {"literal": {"string": {}}}}}}}},
                                                            "type": {"list": {"literal": {"string": {}}}}}}]},
                                                    "function": {
                                                      "typeApplication": {
                                                        "body": {"function": {"primitive": "hydra.lib.lists.concat2"}},
                                                        "type": {
                                                          "pair": {
                                                            "first": {
                                                              "pair": {
                                                                "first": {"literal": {"string": {}}},
                                                                "second": {"maybe": {"literal": {"string": {}}}}}},
                                                            "second": {"list": {"literal": {"string": {}}}}}}}}}}}},
                                            "function": {
                                              "application": {
                                                "argument": {"variable": "toImport"},
                                                "function": {
                                                  "typeApplication": {
                                                    "body": {
                                                      "typeApplication": {
                                                        "body": {"function": {"primitive": "hydra.lib.lists.map"}},
                                                        "type": {
                                                          "pair": {
                                                            "first": {
                                                              "pair": {
                                                                "first": {"literal": {"string": {}}},
                                                                "second": {"maybe": {"literal": {"string": {}}}}}},
                                                            "second": {"list": {"literal": {"string": {}}}}}}}},
                                                    "type": {"variable": "hydra.ext.haskell.ast.Import"}}}}}}}}},
                                    "type": [
                                      {
                                        "constraints": null,
                                        "type": {"list": {"variable": "hydra.ext.haskell.ast.Import"}},
                                        "variables": []}]}],
                                "body": {
                                  "application": {
                                    "argument": {
                                      "function": {
                                        "lambda": {
                                          "body": {
                                            "application": {
                                              "argument": {
                                                "function": {
                                                  "lambda": {
                                                    "body": {
                                                      "let": {
                                                        "bindings": [
                                                          {
                                                            "name": "decls",
                                                            "term": {
                                                              "application": {
                                                                "argument": {"variable": "declLists"},
                                                                "function": {
                                                                  "typeApplication": {
                                                                    "body": {"function": {"primitive": "hydra.lib.lists.concat"}},
                                                                    "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}},
                                                            "type": [
                                                              {
                                                                "constraints": null,
                                                                "type": {
                                                                  "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}},
                                                                "variables": []}]},
                                                          {
                                                            "name": "mc",
                                                            "term": {
                                                              "application": {
                                                                "argument": {"variable": "mod"},
                                                                "function": {
                                                                  "function": {
                                                                    "elimination": {
                                                                      "record": {"field": "description", "typeName": "hydra.module.Module"}}}}}},
                                                            "type": [
                                                              {
                                                                "constraints": null,
                                                                "type": {"maybe": {"literal": {"string": {}}}},
                                                                "variables": []}]}],
                                                        "body": {
                                                          "application": {
                                                            "argument": {
                                                              "record": {
                                                                "fields": [
                                                                  {
                                                                    "name": "head",
                                                                    "term": {
                                                                      "maybe": [
                                                                        {
                                                                          "record": {
                                                                            "fields": [
                                                                              {"name": "comments", "term": {"variable": "mc"}},
                                                                              {
                                                                                "name": "name",
                                                                                "term": {
                                                                                  "application": {
                                                                                    "argument": {
                                                                                      "application": {
                                                                                        "argument": {
                                                                                          "application": {
                                                                                            "argument": {"variable": "mod"},
                                                                                            "function": {
                                                                                              "function": {
                                                                                                "elimination": {"record": {"field": "namespace", "typeName": "hydra.module.Module"}}}}}},
                                                                                        "function": {"variable": "h"}}},
                                                                                    "function": {"variable": "importName"}}}},
                                                                              {
                                                                                "name": "exports",
                                                                                "term": {
                                                                                  "typeApplication": {
                                                                                    "body": {"list": []},
                                                                                    "type": {"variable": "hydra.ext.haskell.ast.Export"}}}}],
                                                                            "typeName": "hydra.ext.haskell.ast.ModuleHead"}}]}},
                                                                  {"name": "imports", "term": {"variable": "imports"}},
                                                                  {"name": "declarations", "term": {"variable": "decls"}}],
                                                                "typeName": "hydra.ext.haskell.ast.Module"}},
                                                            "function": {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "typeApplication": {
                                                                    "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                    "type": {"variable": "hydra.graph.Graph"}}},
                                                                "type": {"variable": "hydra.ext.haskell.ast.Module"}}}}}}},
                                                    "domain": [
                                                      {
                                                        "list": {
                                                          "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}],
                                                    "parameter": "declLists"}}},
                                              "function": {
                                                "application": {
                                                  "argument": {
                                                    "application": {
                                                      "argument": {"variable": "defs"},
                                                      "function": {
                                                        "application": {
                                                          "argument": {
                                                            "application": {
                                                              "argument": {"variable": "g"},
                                                              "function": {
                                                                "typeApplication": {
                                                                  "body": {"variable": "createDeclarations"},
                                                                  "type": {"variable": "hydra.graph.Graph"}}}}},
                                                          "function": {
                                                            "typeApplication": {
                                                              "body": {
                                                                "typeApplication": {
                                                                  "body": {
                                                                    "typeApplication": {
                                                                      "body": {"function": {"primitive": "hydra.lib.flows.mapList"}},
                                                                      "type": {"variable": "hydra.module.Definition"}}},
                                                                  "type": {"variable": "hydra.graph.Graph"}}},
                                                              "type": {
                                                                "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}}},
                                                  "function": {
                                                    "typeApplication": {
                                                      "body": {
                                                        "typeApplication": {
                                                          "body": {
                                                            "typeApplication": {
                                                              "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                              "type": {"variable": "hydra.graph.Graph"}}},
                                                          "type": {
                                                            "list": {
                                                              "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}},
                                                      "type": {"variable": "hydra.ext.haskell.ast.Module"}}}}}}},
                                          "domain": [{"variable": "hydra.graph.Graph"}],
                                          "parameter": "g"}}},
                                    "function": {
                                      "application": {
                                        "argument": {
                                          "typeApplication": {
                                            "body": {"variable": "hydra.monads.getState"},
                                            "type": {"variable": "hydra.graph.Graph"}}},
                                        "function": {
                                          "typeApplication": {
                                            "body": {
                                              "typeApplication": {
                                                "body": {
                                                  "typeApplication": {
                                                    "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                    "type": {"variable": "hydra.graph.Graph"}}},
                                                "type": {"variable": "hydra.graph.Graph"}}},
                                            "type": {"variable": "hydra.ext.haskell.ast.Module"}}}}}}}}},
                            "domain": [{"list": {"variable": "hydra.module.Definition"}}],
                            "parameter": "defs"}}},
                      "domain": [{"variable": "hydra.module.Module"}],
                      "parameter": "mod"}}},
                "domain": [
                  {
                    "application": {
                      "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                      "function": {"variable": "hydra.module.Namespaces"}}}],
                "parameter": "namespaces"}}}}},
      "type": [
        {
          "constraints": null,
          "type": {
            "function": {
              "codomain": {
                "function": {
                  "codomain": {
                    "function": {
                      "codomain": {
                        "application": {
                          "argument": {"variable": "hydra.ext.haskell.ast.Module"},
                          "function": {
                            "application": {
                              "argument": {"variable": "hydra.graph.Graph"},
                              "function": {"variable": "hydra.compute.Flow"}}}}},
                      "domain": {"list": {"variable": "hydra.module.Definition"}}}},
                  "domain": {"variable": "hydra.module.Module"}}},
              "domain": {
                "application": {
                  "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                  "function": {"variable": "hydra.module.Namespaces"}}}}},
          "variables": []}]},
    {
      "name": "hydra.ext.haskell.coder.encodeFunction",
      "term": {
        "annotated": {
          "annotation": [
            {
              "@key": "description",
              "@value": {
                "literal": {"string": "Encode a Hydra function as a Haskell expression"}}}],
          "body": {
            "function": {
              "lambda": {
                "body": {
                  "function": {
                    "lambda": {
                      "body": {
                        "application": {
                          "argument": {"variable": "fun"},
                          "function": {
                            "function": {
                              "elimination": {
                                "union": {
                                  "cases": [
                                    {
                                      "name": "elimination",
                                      "term": {
                                        "function": {
                                          "lambda": {
                                            "body": {
                                              "application": {
                                                "argument": {"variable": "e"},
                                                "function": {
                                                  "function": {
                                                    "elimination": {
                                                      "union": {
                                                        "cases": [
                                                          {
                                                            "name": "wrap",
                                                            "term": {
                                                              "function": {
                                                                "lambda": {
                                                                  "body": {
                                                                    "application": {
                                                                      "argument": {
                                                                        "union": {
                                                                          "field": {
                                                                            "name": "variable",
                                                                            "term": {
                                                                              "application": {
                                                                                "argument": {
                                                                                  "application": {
                                                                                    "argument": {
                                                                                      "application": {
                                                                                        "argument": {"variable": "name"},
                                                                                        "function": {"variable": "hydra.ext.haskell.utils.newtypeAccessorName"}}},
                                                                                    "function": {
                                                                                      "application": {
                                                                                        "argument": {
                                                                                          "application": {
                                                                                            "argument": {
                                                                                              "application": {
                                                                                                "argument": {"variable": "name"},
                                                                                                "function": {"variable": "hydra.names.namespaceOf"}}},
                                                                                            "function": {
                                                                                              "typeApplication": {
                                                                                                "body": {"function": {"primitive": "hydra.lib.maybes.fromJust"}},
                                                                                                "type": {"variable": "hydra.module.Namespace"}}}}},
                                                                                        "function": {"variable": "hydra.names.qname"}}}}},
                                                                                "function": {
                                                                                  "application": {
                                                                                    "argument": {"variable": "namespaces"},
                                                                                    "function": {"variable": "hydra.ext.haskell.utils.elementReference"}}}}}},
                                                                          "typeName": "hydra.ext.haskell.ast.Expression"}},
                                                                      "function": {
                                                                        "typeApplication": {
                                                                          "body": {
                                                                            "typeApplication": {
                                                                              "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                              "type": {"variable": "hydra.graph.Graph"}}},
                                                                          "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                  "domain": [{"variable": "hydra.core.Name"}],
                                                                  "parameter": "name"}}}},
                                                          {
                                                            "name": "record",
                                                            "term": {
                                                              "function": {
                                                                "lambda": {
                                                                  "body": {
                                                                    "let": {
                                                                      "bindings": [
                                                                        {
                                                                          "name": "dn",
                                                                          "term": {
                                                                            "application": {
                                                                              "argument": {"variable": "proj"},
                                                                              "function": {
                                                                                "function": {
                                                                                  "elimination": {"record": {"field": "typeName", "typeName": "hydra.core.Projection"}}}}}},
                                                                          "type": [
                                                                            {
                                                                              "constraints": null,
                                                                              "type": {"variable": "hydra.core.Name"},
                                                                              "variables": []}]},
                                                                        {
                                                                          "name": "fname",
                                                                          "term": {
                                                                            "application": {
                                                                              "argument": {"variable": "proj"},
                                                                              "function": {
                                                                                "function": {
                                                                                  "elimination": {"record": {"field": "field", "typeName": "hydra.core.Projection"}}}}}},
                                                                          "type": [
                                                                            {
                                                                              "constraints": null,
                                                                              "type": {"variable": "hydra.core.Name"},
                                                                              "variables": []}]}],
                                                                      "body": {
                                                                        "application": {
                                                                          "argument": {
                                                                            "union": {
                                                                              "field": {
                                                                                "name": "variable",
                                                                                "term": {
                                                                                  "application": {
                                                                                    "argument": {"variable": "fname"},
                                                                                    "function": {
                                                                                      "application": {
                                                                                        "argument": {"variable": "dn"},
                                                                                        "function": {
                                                                                          "application": {
                                                                                            "argument": {"variable": "namespaces"},
                                                                                            "function": {"variable": "hydra.ext.haskell.utils.recordFieldReference"}}}}}}}},
                                                                              "typeName": "hydra.ext.haskell.ast.Expression"}},
                                                                          "function": {
                                                                            "typeApplication": {
                                                                              "body": {
                                                                                "typeApplication": {
                                                                                  "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                  "type": {"variable": "hydra.graph.Graph"}}},
                                                                              "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}},
                                                                  "domain": [{"variable": "hydra.core.Projection"}],
                                                                  "parameter": "proj"}}}},
                                                          {
                                                            "name": "union",
                                                            "term": {
                                                              "function": {
                                                                "lambda": {
                                                                  "body": {
                                                                    "let": {
                                                                      "bindings": [
                                                                        {
                                                                          "name": "dn",
                                                                          "term": {
                                                                            "application": {
                                                                              "argument": {"variable": "stmt"},
                                                                              "function": {
                                                                                "function": {
                                                                                  "elimination": {
                                                                                    "record": {"field": "typeName", "typeName": "hydra.core.CaseStatement"}}}}}},
                                                                          "type": [
                                                                            {
                                                                              "constraints": null,
                                                                              "type": {"variable": "hydra.core.Name"},
                                                                              "variables": []}]},
                                                                        {
                                                                          "name": "def",
                                                                          "term": {
                                                                            "application": {
                                                                              "argument": {"variable": "stmt"},
                                                                              "function": {
                                                                                "function": {
                                                                                  "elimination": {
                                                                                    "record": {"field": "default", "typeName": "hydra.core.CaseStatement"}}}}}},
                                                                          "type": [
                                                                            {
                                                                              "constraints": null,
                                                                              "type": {"maybe": {"variable": "hydra.core.Term"}},
                                                                              "variables": []}]},
                                                                        {
                                                                          "name": "fields",
                                                                          "term": {
                                                                            "application": {
                                                                              "argument": {"variable": "stmt"},
                                                                              "function": {
                                                                                "function": {
                                                                                  "elimination": {"record": {"field": "cases", "typeName": "hydra.core.CaseStatement"}}}}}},
                                                                          "type": [
                                                                            {
                                                                              "constraints": null,
                                                                              "type": {"list": {"variable": "hydra.core.Field"}},
                                                                              "variables": []}]},
                                                                        {
                                                                          "name": "caseExpr",
                                                                          "term": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "function": {
                                                                                  "lambda": {
                                                                                    "body": {
                                                                                      "let": {
                                                                                        "bindings": [
                                                                                          {
                                                                                            "name": "fieldMap",
                                                                                            "term": {
                                                                                              "application": {
                                                                                                "argument": {
                                                                                                  "application": {
                                                                                                    "argument": {
                                                                                                      "application": {
                                                                                                        "argument": {"variable": "rt"},
                                                                                                        "function": {
                                                                                                          "function": {
                                                                                                            "elimination": {"record": {"field": "fields", "typeName": "hydra.core.RowType"}}}}}},
                                                                                                    "function": {
                                                                                                      "application": {
                                                                                                        "argument": {"variable": "toFieldMapEntry"},
                                                                                                        "function": {
                                                                                                          "typeApplication": {
                                                                                                            "body": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {"function": {"primitive": "hydra.lib.lists.map"}},
                                                                                                                "type": {"variable": "hydra.core.FieldType"}}},
                                                                                                            "type": {
                                                                                                              "pair": {
                                                                                                                "first": {"variable": "hydra.core.Name"},
                                                                                                                "second": {"variable": "hydra.core.FieldType"}}}}}}}}},
                                                                                                "function": {
                                                                                                  "typeApplication": {
                                                                                                    "body": {
                                                                                                      "typeApplication": {
                                                                                                        "body": {"function": {"primitive": "hydra.lib.maps.fromList"}},
                                                                                                        "type": {"variable": "hydra.core.Name"}}},
                                                                                                    "type": {"variable": "hydra.core.FieldType"}}}}},
                                                                                            "type": [
                                                                                              {
                                                                                                "constraints": null,
                                                                                                "type": {
                                                                                                  "map": {
                                                                                                    "keys": {"variable": "hydra.core.Name"},
                                                                                                    "values": {"variable": "hydra.core.FieldType"}}},
                                                                                                "variables": []}]},
                                                                                          {
                                                                                            "name": "toFieldMapEntry",
                                                                                            "term": {
                                                                                              "function": {
                                                                                                "lambda": {
                                                                                                  "body": {
                                                                                                    "typeApplication": {
                                                                                                      "body": {
                                                                                                        "typeApplication": {
                                                                                                          "body": {
                                                                                                            "pair": {
                                                                                                              "@first": {
                                                                                                                "application": {
                                                                                                                  "argument": {"variable": "f"},
                                                                                                                  "function": {
                                                                                                                    "function": {
                                                                                                                      "elimination": {"record": {"field": "name", "typeName": "hydra.core.FieldType"}}}}}},
                                                                                                              "@second": {"variable": "f"}}},
                                                                                                          "type": {"variable": "hydra.core.Name"}}},
                                                                                                      "type": {"variable": "hydra.core.FieldType"}}},
                                                                                                  "domain": [{"variable": "hydra.core.FieldType"}],
                                                                                                  "parameter": "f"}}},
                                                                                            "type": [
                                                                                              {
                                                                                                "constraints": null,
                                                                                                "type": {
                                                                                                  "function": {
                                                                                                    "codomain": {
                                                                                                      "pair": {
                                                                                                        "first": {"variable": "hydra.core.Name"},
                                                                                                        "second": {"variable": "hydra.core.FieldType"}}},
                                                                                                    "domain": {"variable": "hydra.core.FieldType"}}},
                                                                                                "variables": []}]}],
                                                                                        "body": {
                                                                                          "application": {
                                                                                            "argument": {
                                                                                              "function": {
                                                                                                "lambda": {
                                                                                                  "body": {
                                                                                                    "application": {
                                                                                                      "argument": {
                                                                                                        "function": {
                                                                                                          "lambda": {
                                                                                                            "body": {
                                                                                                              "application": {
                                                                                                                "argument": {
                                                                                                                  "union": {
                                                                                                                    "field": {
                                                                                                                      "name": "case",
                                                                                                                      "term": {
                                                                                                                        "record": {
                                                                                                                          "fields": [
                                                                                                                            {
                                                                                                                              "name": "case",
                                                                                                                              "term": {
                                                                                                                                "application": {
                                                                                                                                  "argument": {"literal": {"string": "x"}},
                                                                                                                                  "function": {"variable": "hydra.ext.haskell.utils.hsvar"}}}},
                                                                                                                            {
                                                                                                                              "name": "alternatives",
                                                                                                                              "term": {
                                                                                                                                "application": {
                                                                                                                                  "argument": {"variable": "dcases"},
                                                                                                                                  "function": {
                                                                                                                                    "application": {
                                                                                                                                      "argument": {"variable": "ecases"},
                                                                                                                                      "function": {
                                                                                                                                        "typeApplication": {
                                                                                                                                          "body": {"function": {"primitive": "hydra.lib.lists.concat2"}},
                                                                                                                                          "type": {"variable": "hydra.ext.haskell.ast.Alternative"}}}}}}}}],
                                                                                                                          "typeName": "hydra.ext.haskell.ast.CaseExpression"}}},
                                                                                                                    "typeName": "hydra.ext.haskell.ast.Expression"}},
                                                                                                                "function": {
                                                                                                                  "typeApplication": {
                                                                                                                    "body": {
                                                                                                                      "typeApplication": {
                                                                                                                        "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                    "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                                                            "domain": [{"list": {"variable": "hydra.ext.haskell.ast.Alternative"}}],
                                                                                                            "parameter": "dcases"}}},
                                                                                                      "function": {
                                                                                                        "application": {
                                                                                                          "argument": {
                                                                                                            "application": {
                                                                                                              "argument": {
                                                                                                                "function": {
                                                                                                                  "lambda": {
                                                                                                                    "body": {
                                                                                                                      "application": {
                                                                                                                        "argument": {
                                                                                                                          "function": {
                                                                                                                            "lambda": {
                                                                                                                              "body": {
                                                                                                                                "let": {
                                                                                                                                  "bindings": [
                                                                                                                                    {
                                                                                                                                      "name": "lhs",
                                                                                                                                      "term": {
                                                                                                                                        "union": {
                                                                                                                                          "field": {
                                                                                                                                            "name": "name",
                                                                                                                                            "term": {
                                                                                                                                              "application": {
                                                                                                                                                "argument": {"variable": "hydra.constants.ignoredVariable"},
                                                                                                                                                "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                                                                                                          "typeName": "hydra.ext.haskell.ast.Pattern"}},
                                                                                                                                      "type": [
                                                                                                                                        {
                                                                                                                                          "constraints": null,
                                                                                                                                          "type": {"variable": "hydra.ext.haskell.ast.Pattern"},
                                                                                                                                          "variables": []}]},
                                                                                                                                    {
                                                                                                                                      "name": "alt",
                                                                                                                                      "term": {
                                                                                                                                        "record": {
                                                                                                                                          "fields": [
                                                                                                                                            {"name": "pattern", "term": {"variable": "lhs"}},
                                                                                                                                            {"name": "rhs", "term": {"variable": "cs"}},
                                                                                                                                            {
                                                                                                                                              "name": "binds",
                                                                                                                                              "term": {
                                                                                                                                                "typeApplication": {
                                                                                                                                                  "body": {"maybe": null},
                                                                                                                                                  "type": {"variable": "hydra.ext.haskell.ast.LocalBindings"}}}}],
                                                                                                                                          "typeName": "hydra.ext.haskell.ast.Alternative"}},
                                                                                                                                      "type": [
                                                                                                                                        {
                                                                                                                                          "constraints": null,
                                                                                                                                          "type": {"variable": "hydra.ext.haskell.ast.Alternative"},
                                                                                                                                          "variables": []}]}],
                                                                                                                                  "body": {
                                                                                                                                    "application": {
                                                                                                                                      "argument": {"list": [{"variable": "alt"}]},
                                                                                                                                      "function": {
                                                                                                                                        "typeApplication": {
                                                                                                                                          "body": {
                                                                                                                                            "typeApplication": {
                                                                                                                                              "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                                              "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                                          "type": {"list": {"variable": "hydra.ext.haskell.ast.Alternative"}}}}}}}},
                                                                                                                              "domain": [{"variable": "hydra.ext.haskell.ast.CaseRhs"}],
                                                                                                                              "parameter": "cs"}}},
                                                                                                                        "function": {
                                                                                                                          "application": {
                                                                                                                            "argument": {
                                                                                                                              "application": {
                                                                                                                                "argument": {
                                                                                                                                  "application": {
                                                                                                                                    "argument": {"variable": "d"},
                                                                                                                                    "function": {
                                                                                                                                      "application": {
                                                                                                                                        "argument": {"variable": "namespaces"},
                                                                                                                                        "function": {"variable": "hydra.ext.haskell.coder.encodeTerm"}}}}},
                                                                                                                                "function": {
                                                                                                                                  "application": {
                                                                                                                                    "argument": {
                                                                                                                                      "function": {
                                                                                                                                        "lambda": {
                                                                                                                                          "body": {
                                                                                                                                            "wrap": {
                                                                                                                                              "body": {"variable": "x"},
                                                                                                                                              "typeName": "hydra.ext.haskell.ast.CaseRhs"}},
                                                                                                                                          "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                                                                                                          "parameter": "x"}}},
                                                                                                                                    "function": {
                                                                                                                                      "typeApplication": {
                                                                                                                                        "body": {
                                                                                                                                          "typeApplication": {
                                                                                                                                            "body": {
                                                                                                                                              "typeApplication": {
                                                                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.map"}},
                                                                                                                                                "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                                                                                            "type": {"variable": "hydra.ext.haskell.ast.CaseRhs"}}},
                                                                                                                                        "type": {"variable": "hydra.graph.Graph"}}}}}}},
                                                                                                                            "function": {
                                                                                                                              "typeApplication": {
                                                                                                                                "body": {
                                                                                                                                  "typeApplication": {
                                                                                                                                    "body": {
                                                                                                                                      "typeApplication": {
                                                                                                                                        "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                                    "type": {"variable": "hydra.ext.haskell.ast.CaseRhs"}}},
                                                                                                                                "type": {"list": {"variable": "hydra.ext.haskell.ast.Alternative"}}}}}}}},
                                                                                                                    "domain": [{"variable": "hydra.core.Term"}],
                                                                                                                    "parameter": "d"}}},
                                                                                                              "function": {
                                                                                                                "application": {
                                                                                                                  "argument": {
                                                                                                                    "application": {
                                                                                                                      "argument": {
                                                                                                                        "typeApplication": {
                                                                                                                          "body": {"list": []},
                                                                                                                          "type": {"variable": "hydra.ext.haskell.ast.Alternative"}}},
                                                                                                                      "function": {
                                                                                                                        "typeApplication": {
                                                                                                                          "body": {
                                                                                                                            "typeApplication": {
                                                                                                                              "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                              "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                          "type": {"list": {"variable": "hydra.ext.haskell.ast.Alternative"}}}}}},
                                                                                                                  "function": {
                                                                                                                    "application": {
                                                                                                                      "argument": {"variable": "def"},
                                                                                                                      "function": {
                                                                                                                        "typeApplication": {
                                                                                                                          "body": {
                                                                                                                            "typeApplication": {
                                                                                                                              "body": {"function": {"primitive": "hydra.lib.maybes.cases"}},
                                                                                                                              "type": {"variable": "hydra.core.Term"}}},
                                                                                                                          "type": {
                                                                                                                            "application": {
                                                                                                                              "argument": {"list": {"variable": "hydra.ext.haskell.ast.Alternative"}},
                                                                                                                              "function": {
                                                                                                                                "application": {
                                                                                                                                  "argument": {"variable": "hydra.graph.Graph"},
                                                                                                                                  "function": {"variable": "hydra.compute.Flow"}}}}}}}}}}}}},
                                                                                                          "function": {
                                                                                                            "typeApplication": {
                                                                                                              "body": {
                                                                                                                "typeApplication": {
                                                                                                                  "body": {
                                                                                                                    "typeApplication": {
                                                                                                                      "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                                                      "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                  "type": {"list": {"variable": "hydra.ext.haskell.ast.Alternative"}}}},
                                                                                                              "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}},
                                                                                                  "domain": [{"list": {"variable": "hydra.ext.haskell.ast.Alternative"}}],
                                                                                                  "parameter": "ecases"}}},
                                                                                            "function": {
                                                                                              "application": {
                                                                                                "argument": {
                                                                                                  "application": {
                                                                                                    "argument": {"variable": "fields"},
                                                                                                    "function": {
                                                                                                      "application": {
                                                                                                        "argument": {
                                                                                                          "application": {
                                                                                                            "argument": {"variable": "fieldMap"},
                                                                                                            "function": {"variable": "toAlt"}}},
                                                                                                        "function": {
                                                                                                          "typeApplication": {
                                                                                                            "body": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {
                                                                                                                  "typeApplication": {
                                                                                                                    "body": {"function": {"primitive": "hydra.lib.flows.mapList"}},
                                                                                                                    "type": {"variable": "hydra.core.Field"}}},
                                                                                                                "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                            "type": {"variable": "hydra.ext.haskell.ast.Alternative"}}}}}}},
                                                                                                "function": {
                                                                                                  "typeApplication": {
                                                                                                    "body": {
                                                                                                      "typeApplication": {
                                                                                                        "body": {
                                                                                                          "typeApplication": {
                                                                                                            "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                                            "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                        "type": {"list": {"variable": "hydra.ext.haskell.ast.Alternative"}}}},
                                                                                                    "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}}}},
                                                                                    "domain": [{"variable": "hydra.core.RowType"}],
                                                                                    "parameter": "rt"}}},
                                                                              "function": {
                                                                                "application": {
                                                                                  "argument": {
                                                                                    "application": {
                                                                                      "argument": {
                                                                                        "application": {
                                                                                          "argument": {"variable": "dn"},
                                                                                          "function": {"variable": "hydra.schemas.requireUnionType"}}},
                                                                                      "function": {
                                                                                        "typeApplication": {
                                                                                          "body": {"variable": "hydra.lexical.withSchemaContext"},
                                                                                          "type": {"variable": "hydra.core.RowType"}}}}},
                                                                                  "function": {
                                                                                    "typeApplication": {
                                                                                      "body": {
                                                                                        "typeApplication": {
                                                                                          "body": {
                                                                                            "typeApplication": {
                                                                                              "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                              "type": {"variable": "hydra.graph.Graph"}}},
                                                                                          "type": {"variable": "hydra.core.RowType"}}},
                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}},
                                                                          "type": [
                                                                            {
                                                                              "constraints": null,
                                                                              "type": {
                                                                                "application": {
                                                                                  "argument": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                                                  "function": {
                                                                                    "application": {
                                                                                      "argument": {"variable": "hydra.graph.Graph"},
                                                                                      "function": {"variable": "hydra.compute.Flow"}}}}},
                                                                              "variables": []}]},
                                                                        {
                                                                          "name": "toAlt",
                                                                          "term": {
                                                                            "function": {
                                                                              "lambda": {
                                                                                "body": {
                                                                                  "function": {
                                                                                    "lambda": {
                                                                                      "body": {
                                                                                        "let": {
                                                                                          "bindings": [
                                                                                            {
                                                                                              "name": "fn",
                                                                                              "term": {
                                                                                                "application": {
                                                                                                  "argument": {"variable": "field"},
                                                                                                  "function": {
                                                                                                    "function": {
                                                                                                      "elimination": {"record": {"field": "name", "typeName": "hydra.core.Field"}}}}}},
                                                                                              "type": [
                                                                                                {
                                                                                                  "constraints": null,
                                                                                                  "type": {"variable": "hydra.core.Name"},
                                                                                                  "variables": []}]},
                                                                                            {
                                                                                              "name": "fun'",
                                                                                              "term": {
                                                                                                "application": {
                                                                                                  "argument": {"variable": "field"},
                                                                                                  "function": {
                                                                                                    "function": {
                                                                                                      "elimination": {"record": {"field": "term", "typeName": "hydra.core.Field"}}}}}},
                                                                                              "type": [
                                                                                                {
                                                                                                  "constraints": null,
                                                                                                  "type": {"variable": "hydra.core.Term"},
                                                                                                  "variables": []}]}],
                                                                                          "body": {
                                                                                            "application": {
                                                                                              "argument": {
                                                                                                "function": {
                                                                                                  "lambda": {
                                                                                                    "body": {
                                                                                                      "let": {
                                                                                                        "bindings": [
                                                                                                          {
                                                                                                            "name": "v0",
                                                                                                            "term": {
                                                                                                              "application": {
                                                                                                                "argument": {
                                                                                                                  "application": {
                                                                                                                    "argument": {"variable": "depth"},
                                                                                                                    "function": {"function": {"primitive": "hydra.lib.literals.showInt32"}}}},
                                                                                                                "function": {
                                                                                                                  "application": {
                                                                                                                    "argument": {"literal": {"string": "v"}},
                                                                                                                    "function": {"function": {"primitive": "hydra.lib.strings.cat2"}}}}}},
                                                                                                            "type": [
                                                                                                              {
                                                                                                                "constraints": null,
                                                                                                                "type": {"literal": {"string": {}}},
                                                                                                                "variables": []}]},
                                                                                                          {
                                                                                                            "name": "raw",
                                                                                                            "term": {
                                                                                                              "union": {
                                                                                                                "field": {
                                                                                                                  "name": "application",
                                                                                                                  "term": {
                                                                                                                    "record": {
                                                                                                                      "fields": [
                                                                                                                        {"name": "function", "term": {"variable": "fun'"}},
                                                                                                                        {
                                                                                                                          "name": "argument",
                                                                                                                          "term": {
                                                                                                                            "union": {
                                                                                                                              "field": {
                                                                                                                                "name": "variable",
                                                                                                                                "term": {"wrap": {"body": {"variable": "v0"}, "typeName": "hydra.core.Name"}}},
                                                                                                                              "typeName": "hydra.core.Term"}}}],
                                                                                                                      "typeName": "hydra.core.Application"}}},
                                                                                                                "typeName": "hydra.core.Term"}},
                                                                                                            "type": [
                                                                                                              {
                                                                                                                "constraints": null,
                                                                                                                "type": {"variable": "hydra.core.Term"},
                                                                                                                "variables": []}]},
                                                                                                          {
                                                                                                            "name": "rhsTerm",
                                                                                                            "term": {
                                                                                                              "application": {
                                                                                                                "argument": {"variable": "raw"},
                                                                                                                "function": {"variable": "hydra.rewriting.simplifyTerm"}}},
                                                                                                            "type": [
                                                                                                              {
                                                                                                                "constraints": null,
                                                                                                                "type": {"variable": "hydra.core.Term"},
                                                                                                                "variables": []}]},
                                                                                                          {
                                                                                                            "name": "v1",
                                                                                                            "term": {
                                                                                                              "application": {
                                                                                                                "argument": {"variable": "v0"},
                                                                                                                "function": {
                                                                                                                  "application": {
                                                                                                                    "argument": {"variable": "hydra.constants.ignoredVariable"},
                                                                                                                    "function": {
                                                                                                                      "application": {
                                                                                                                        "argument": {
                                                                                                                          "application": {
                                                                                                                            "argument": {"variable": "rhsTerm"},
                                                                                                                            "function": {
                                                                                                                              "application": {
                                                                                                                                "argument": {"wrap": {"body": {"variable": "v0"}, "typeName": "hydra.core.Name"}},
                                                                                                                                "function": {"variable": "hydra.rewriting.isFreeVariableInTerm"}}}}},
                                                                                                                        "function": {
                                                                                                                          "typeApplication": {
                                                                                                                            "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                                                                                            "type": {"literal": {"string": {}}}}}}}}}}},
                                                                                                            "type": [
                                                                                                              {
                                                                                                                "constraints": null,
                                                                                                                "type": {"literal": {"string": {}}},
                                                                                                                "variables": []}]}],
                                                                                                        "body": {
                                                                                                          "application": {
                                                                                                            "argument": {
                                                                                                              "function": {
                                                                                                                "lambda": {
                                                                                                                  "body": {
                                                                                                                    "let": {
                                                                                                                      "bindings": [
                                                                                                                        {
                                                                                                                          "name": "hname",
                                                                                                                          "term": {
                                                                                                                            "application": {
                                                                                                                              "argument": {"variable": "fn"},
                                                                                                                              "function": {
                                                                                                                                "application": {
                                                                                                                                  "argument": {"variable": "dn"},
                                                                                                                                  "function": {
                                                                                                                                    "application": {
                                                                                                                                      "argument": {"variable": "namespaces"},
                                                                                                                                      "function": {
                                                                                                                                        "application": {
                                                                                                                                          "argument": {"variable": "g_ufr"},
                                                                                                                                          "function": {"variable": "hydra.ext.haskell.utils.unionFieldReference"}}}}}}}}},
                                                                                                                          "type": [
                                                                                                                            {
                                                                                                                              "constraints": null,
                                                                                                                              "type": {"variable": "hydra.ext.haskell.ast.Name"},
                                                                                                                              "variables": []}]}],
                                                                                                                      "body": {
                                                                                                                        "application": {
                                                                                                                          "argument": {
                                                                                                                            "function": {
                                                                                                                              "lambda": {
                                                                                                                                "body": {
                                                                                                                                  "let": {
                                                                                                                                    "bindings": [
                                                                                                                                      {
                                                                                                                                        "name": "lhs",
                                                                                                                                        "term": {
                                                                                                                                          "application": {
                                                                                                                                            "argument": {"variable": "args"},
                                                                                                                                            "function": {
                                                                                                                                              "application": {
                                                                                                                                                "argument": {"variable": "hname"},
                                                                                                                                                "function": {"variable": "hydra.ext.haskell.utils.applicationPattern"}}}}},
                                                                                                                                        "type": [
                                                                                                                                          {
                                                                                                                                            "constraints": null,
                                                                                                                                            "type": {"variable": "hydra.ext.haskell.ast.Pattern"},
                                                                                                                                            "variables": []}]}],
                                                                                                                                    "body": {
                                                                                                                                      "application": {
                                                                                                                                        "argument": {
                                                                                                                                          "function": {
                                                                                                                                            "lambda": {
                                                                                                                                              "body": {
                                                                                                                                                "application": {
                                                                                                                                                  "argument": {
                                                                                                                                                    "record": {
                                                                                                                                                      "fields": [
                                                                                                                                                        {"name": "pattern", "term": {"variable": "lhs"}},
                                                                                                                                                        {"name": "rhs", "term": {"variable": "rhs"}},
                                                                                                                                                        {
                                                                                                                                                          "name": "binds",
                                                                                                                                                          "term": {
                                                                                                                                                            "typeApplication": {
                                                                                                                                                              "body": {"maybe": null},
                                                                                                                                                              "type": {"variable": "hydra.ext.haskell.ast.LocalBindings"}}}}],
                                                                                                                                                      "typeName": "hydra.ext.haskell.ast.Alternative"}},
                                                                                                                                                  "function": {
                                                                                                                                                    "typeApplication": {
                                                                                                                                                      "body": {
                                                                                                                                                        "typeApplication": {
                                                                                                                                                          "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                                                          "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Alternative"}}}}},
                                                                                                                                              "domain": [{"variable": "hydra.ext.haskell.ast.CaseRhs"}],
                                                                                                                                              "parameter": "rhs"}}},
                                                                                                                                        "function": {
                                                                                                                                          "application": {
                                                                                                                                            "argument": {
                                                                                                                                              "application": {
                                                                                                                                                "argument": {
                                                                                                                                                  "application": {
                                                                                                                                                    "argument": {"variable": "rhsTerm"},
                                                                                                                                                    "function": {
                                                                                                                                                      "application": {
                                                                                                                                                        "argument": {"variable": "namespaces"},
                                                                                                                                                        "function": {"variable": "hydra.ext.haskell.coder.encodeTerm"}}}}},
                                                                                                                                                "function": {
                                                                                                                                                  "application": {
                                                                                                                                                    "argument": {
                                                                                                                                                      "function": {
                                                                                                                                                        "lambda": {
                                                                                                                                                          "body": {
                                                                                                                                                            "wrap": {
                                                                                                                                                              "body": {"variable": "x"},
                                                                                                                                                              "typeName": "hydra.ext.haskell.ast.CaseRhs"}},
                                                                                                                                                          "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                                                                                                                          "parameter": "x"}}},
                                                                                                                                                    "function": {
                                                                                                                                                      "typeApplication": {
                                                                                                                                                        "body": {
                                                                                                                                                          "typeApplication": {
                                                                                                                                                            "body": {
                                                                                                                                                              "typeApplication": {
                                                                                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.map"}},
                                                                                                                                                                "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                                                                                                            "type": {"variable": "hydra.ext.haskell.ast.CaseRhs"}}},
                                                                                                                                                        "type": {"variable": "hydra.graph.Graph"}}}}}}},
                                                                                                                                            "function": {
                                                                                                                                              "typeApplication": {
                                                                                                                                                "body": {
                                                                                                                                                  "typeApplication": {
                                                                                                                                                    "body": {
                                                                                                                                                      "typeApplication": {
                                                                                                                                                        "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                                                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                                                    "type": {"variable": "hydra.ext.haskell.ast.CaseRhs"}}},
                                                                                                                                                "type": {"variable": "hydra.ext.haskell.ast.Alternative"}}}}}}}}},
                                                                                                                                "domain": [{"list": {"variable": "hydra.ext.haskell.ast.Pattern"}}],
                                                                                                                                "parameter": "args"}}},
                                                                                                                          "function": {
                                                                                                                            "application": {
                                                                                                                              "argument": {
                                                                                                                                "application": {
                                                                                                                                  "argument": {
                                                                                                                                    "function": {
                                                                                                                                      "lambda": {
                                                                                                                                        "body": {
                                                                                                                                          "let": {
                                                                                                                                            "bindings": [
                                                                                                                                              {
                                                                                                                                                "name": "ft",
                                                                                                                                                "term": {
                                                                                                                                                  "application": {
                                                                                                                                                    "argument": {"variable": "fieldType"},
                                                                                                                                                    "function": {
                                                                                                                                                      "function": {
                                                                                                                                                        "elimination": {"record": {"field": "type", "typeName": "hydra.core.FieldType"}}}}}},
                                                                                                                                                "type": [
                                                                                                                                                  {
                                                                                                                                                    "constraints": null,
                                                                                                                                                    "type": {"variable": "hydra.core.Type"},
                                                                                                                                                    "variables": []}]},
                                                                                                                                              {
                                                                                                                                                "name": "noArgs",
                                                                                                                                                "term": {
                                                                                                                                                  "typeLambda": {
                                                                                                                                                    "body": {
                                                                                                                                                      "typeLambda": {
                                                                                                                                                        "body": {
                                                                                                                                                          "application": {
                                                                                                                                                            "argument": {
                                                                                                                                                              "typeApplication": {"body": {"list": []}, "type": {"variable": "t1"}}},
                                                                                                                                                            "function": {
                                                                                                                                                              "typeApplication": {
                                                                                                                                                                "body": {
                                                                                                                                                                  "typeApplication": {
                                                                                                                                                                    "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                                                                    "type": {"variable": "t0"}}},
                                                                                                                                                                "type": {"list": {"variable": "t1"}}}}}},
                                                                                                                                                        "parameter": "t1"}},
                                                                                                                                                    "parameter": "t0"}},
                                                                                                                                                "type": [
                                                                                                                                                  {
                                                                                                                                                    "constraints": null,
                                                                                                                                                    "type": {
                                                                                                                                                      "application": {
                                                                                                                                                        "argument": {"list": {"variable": "t1"}},
                                                                                                                                                        "function": {
                                                                                                                                                          "application": {
                                                                                                                                                            "argument": {"variable": "t0"},
                                                                                                                                                            "function": {"variable": "hydra.compute.Flow"}}}}},
                                                                                                                                                    "variables": ["t0", "t1"]}]},
                                                                                                                                              {
                                                                                                                                                "name": "singleArg",
                                                                                                                                                "term": {
                                                                                                                                                  "typeLambda": {
                                                                                                                                                    "body": {
                                                                                                                                                      "application": {
                                                                                                                                                        "argument": {
                                                                                                                                                          "list": [
                                                                                                                                                            {
                                                                                                                                                              "union": {
                                                                                                                                                                "field": {
                                                                                                                                                                  "name": "name",
                                                                                                                                                                  "term": {
                                                                                                                                                                    "application": {
                                                                                                                                                                      "argument": {"variable": "v1"},
                                                                                                                                                                      "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                                                                                                                                "typeName": "hydra.ext.haskell.ast.Pattern"}}]},
                                                                                                                                                        "function": {
                                                                                                                                                          "typeApplication": {
                                                                                                                                                            "body": {
                                                                                                                                                              "typeApplication": {
                                                                                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                                                                "type": {"variable": "t0"}}},
                                                                                                                                                            "type": {"list": {"variable": "hydra.ext.haskell.ast.Pattern"}}}}}},
                                                                                                                                                    "parameter": "t0"}},
                                                                                                                                                "type": [
                                                                                                                                                  {
                                                                                                                                                    "constraints": null,
                                                                                                                                                    "type": {
                                                                                                                                                      "application": {
                                                                                                                                                        "argument": {"list": {"variable": "hydra.ext.haskell.ast.Pattern"}},
                                                                                                                                                        "function": {
                                                                                                                                                          "application": {
                                                                                                                                                            "argument": {"variable": "t0"},
                                                                                                                                                            "function": {"variable": "hydra.compute.Flow"}}}}},
                                                                                                                                                    "variables": ["t0"]}]}],
                                                                                                                                            "body": {
                                                                                                                                              "application": {
                                                                                                                                                "argument": {
                                                                                                                                                  "application": {
                                                                                                                                                    "argument": {"variable": "ft"},
                                                                                                                                                    "function": {"variable": "hydra.rewriting.deannotateType"}}},
                                                                                                                                                "function": {
                                                                                                                                                  "function": {
                                                                                                                                                    "elimination": {
                                                                                                                                                      "union": {
                                                                                                                                                        "cases": [
                                                                                                                                                          {
                                                                                                                                                            "name": "unit",
                                                                                                                                                            "term": {
                                                                                                                                                              "function": {
                                                                                                                                                                "lambda": {
                                                                                                                                                                  "body": {
                                                                                                                                                                    "typeApplication": {
                                                                                                                                                                      "body": {
                                                                                                                                                                        "typeApplication": {
                                                                                                                                                                          "body": {"variable": "noArgs"},
                                                                                                                                                                          "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Pattern"}}},
                                                                                                                                                                  "domain": [{"unit": {}}],
                                                                                                                                                                  "parameter": "_"}}}}],
                                                                                                                                                        "default": [
                                                                                                                                                          {
                                                                                                                                                            "typeApplication": {
                                                                                                                                                              "body": {"variable": "singleArg"},
                                                                                                                                                              "type": {"variable": "hydra.graph.Graph"}}}],
                                                                                                                                                        "typeName": "hydra.core.Type"}}}}}}}},
                                                                                                                                        "domain": [{"variable": "hydra.core.FieldType"}],
                                                                                                                                        "parameter": "fieldType"}}},
                                                                                                                                  "function": {
                                                                                                                                    "application": {
                                                                                                                                      "argument": {
                                                                                                                                        "application": {
                                                                                                                                          "argument": {
                                                                                                                                            "application": {
                                                                                                                                              "argument": {
                                                                                                                                                "list": [
                                                                                                                                                  {"literal": {"string": "field "}},
                                                                                                                                                  {
                                                                                                                                                    "application": {
                                                                                                                                                      "argument": {
                                                                                                                                                        "application": {
                                                                                                                                                          "argument": {"variable": "fn"},
                                                                                                                                                          "function": {"function": {"elimination": {"wrap": "hydra.core.Name"}}}}},
                                                                                                                                                      "function": {"function": {"primitive": "hydra.lib.literals.showString"}}}},
                                                                                                                                                  {"literal": {"string": " not found in "}},
                                                                                                                                                  {
                                                                                                                                                    "application": {
                                                                                                                                                      "argument": {
                                                                                                                                                        "application": {
                                                                                                                                                          "argument": {"variable": "dn"},
                                                                                                                                                          "function": {"function": {"elimination": {"wrap": "hydra.core.Name"}}}}},
                                                                                                                                                      "function": {"function": {"primitive": "hydra.lib.literals.showString"}}}}]},
                                                                                                                                              "function": {"function": {"primitive": "hydra.lib.strings.cat"}}}},
                                                                                                                                          "function": {
                                                                                                                                            "typeApplication": {
                                                                                                                                              "body": {
                                                                                                                                                "typeApplication": {
                                                                                                                                                  "body": {"function": {"primitive": "hydra.lib.flows.fail"}},
                                                                                                                                                  "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                                              "type": {"list": {"variable": "hydra.ext.haskell.ast.Pattern"}}}}}},
                                                                                                                                      "function": {
                                                                                                                                        "application": {
                                                                                                                                          "argument": {
                                                                                                                                            "application": {
                                                                                                                                              "argument": {"variable": "fieldMap"},
                                                                                                                                              "function": {
                                                                                                                                                "application": {
                                                                                                                                                  "argument": {"variable": "fn"},
                                                                                                                                                  "function": {
                                                                                                                                                    "typeApplication": {
                                                                                                                                                      "body": {
                                                                                                                                                        "typeApplication": {
                                                                                                                                                          "body": {"function": {"primitive": "hydra.lib.maps.lookup"}},
                                                                                                                                                          "type": {"variable": "hydra.core.Name"}}},
                                                                                                                                                      "type": {"variable": "hydra.core.FieldType"}}}}}}},
                                                                                                                                          "function": {
                                                                                                                                            "typeApplication": {
                                                                                                                                              "body": {
                                                                                                                                                "typeApplication": {
                                                                                                                                                  "body": {"function": {"primitive": "hydra.lib.maybes.cases"}},
                                                                                                                                                  "type": {"variable": "hydra.core.FieldType"}}},
                                                                                                                                              "type": {
                                                                                                                                                "application": {
                                                                                                                                                  "argument": {"list": {"variable": "hydra.ext.haskell.ast.Pattern"}},
                                                                                                                                                  "function": {
                                                                                                                                                    "application": {
                                                                                                                                                      "argument": {"variable": "hydra.graph.Graph"},
                                                                                                                                                      "function": {"variable": "hydra.compute.Flow"}}}}}}}}}}}}},
                                                                                                                              "function": {
                                                                                                                                "typeApplication": {
                                                                                                                                  "body": {
                                                                                                                                    "typeApplication": {
                                                                                                                                      "body": {
                                                                                                                                        "typeApplication": {
                                                                                                                                          "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                                                                          "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                                      "type": {"list": {"variable": "hydra.ext.haskell.ast.Pattern"}}}},
                                                                                                                                  "type": {"variable": "hydra.ext.haskell.ast.Alternative"}}}}}}}}},
                                                                                                                  "domain": [{"variable": "hydra.graph.Graph"}],
                                                                                                                  "parameter": "g_ufr"}}},
                                                                                                            "function": {
                                                                                                              "application": {
                                                                                                                "argument": {
                                                                                                                  "typeApplication": {
                                                                                                                    "body": {"variable": "hydra.monads.getState"},
                                                                                                                    "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                "function": {
                                                                                                                  "typeApplication": {
                                                                                                                    "body": {
                                                                                                                      "typeApplication": {
                                                                                                                        "body": {
                                                                                                                          "typeApplication": {
                                                                                                                            "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                                                            "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                    "type": {"variable": "hydra.ext.haskell.ast.Alternative"}}}}}}}}},
                                                                                                    "domain": [{"literal": {"integer": {"int32": {}}}}],
                                                                                                    "parameter": "depth"}}},
                                                                                              "function": {
                                                                                                "application": {
                                                                                                  "argument": {"variable": "hydra.ext.haskell.coder.keyHaskellVar"},
                                                                                                  "function": {
                                                                                                    "typeApplication": {
                                                                                                      "body": {
                                                                                                        "typeApplication": {
                                                                                                          "body": {"variable": "hydra.annotations.withDepth"},
                                                                                                          "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Alternative"}}}}}}}}},
                                                                                      "domain": [{"variable": "hydra.core.Field"}],
                                                                                      "parameter": "field"}}},
                                                                                "domain": [
                                                                                  {
                                                                                    "map": {
                                                                                      "keys": {"variable": "hydra.core.Name"},
                                                                                      "values": {"variable": "hydra.core.FieldType"}}}],
                                                                                "parameter": "fieldMap"}}},
                                                                          "type": [
                                                                            {
                                                                              "constraints": null,
                                                                              "type": {
                                                                                "function": {
                                                                                  "codomain": {
                                                                                    "function": {
                                                                                      "codomain": {
                                                                                        "application": {
                                                                                          "argument": {"variable": "hydra.ext.haskell.ast.Alternative"},
                                                                                          "function": {
                                                                                            "application": {
                                                                                              "argument": {"variable": "hydra.graph.Graph"},
                                                                                              "function": {"variable": "hydra.compute.Flow"}}}}},
                                                                                      "domain": {"variable": "hydra.core.Field"}}},
                                                                                  "domain": {
                                                                                    "map": {
                                                                                      "keys": {"variable": "hydra.core.Name"},
                                                                                      "values": {"variable": "hydra.core.FieldType"}}}}},
                                                                              "variables": []}]}],
                                                                      "body": {
                                                                        "application": {
                                                                          "argument": {"variable": "caseExpr"},
                                                                          "function": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "application": {
                                                                                  "argument": {
                                                                                    "application": {
                                                                                      "argument": {"literal": {"string": "x"}},
                                                                                      "function": {"variable": "hydra.ext.haskell.utils.rawName"}}},
                                                                                  "function": {"variable": "hydra.ext.haskell.utils.hslambda"}}},
                                                                              "function": {
                                                                                "typeApplication": {
                                                                                  "body": {
                                                                                    "typeApplication": {
                                                                                      "body": {
                                                                                        "typeApplication": {
                                                                                          "body": {"function": {"primitive": "hydra.lib.flows.map"}},
                                                                                          "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                                  "type": {"variable": "hydra.graph.Graph"}}}}}}}}},
                                                                  "domain": [{"variable": "hydra.core.CaseStatement"}],
                                                                  "parameter": "stmt"}}}}],
                                                        "default": null,
                                                        "typeName": "hydra.core.Elimination"}}}}}},
                                            "domain": [{"variable": "hydra.core.Elimination"}],
                                            "parameter": "e"}}}},
                                    {
                                      "name": "lambda",
                                      "term": {
                                        "function": {
                                          "lambda": {
                                            "body": {
                                              "let": {
                                                "bindings": [
                                                  {
                                                    "name": "v",
                                                    "term": {
                                                      "application": {
                                                        "argument": {"variable": "lam"},
                                                        "function": {
                                                          "function": {
                                                            "elimination": {"record": {"field": "parameter", "typeName": "hydra.core.Lambda"}}}}}},
                                                    "type": [
                                                      {
                                                        "constraints": null,
                                                        "type": {"variable": "hydra.core.Name"},
                                                        "variables": []}]},
                                                  {
                                                    "name": "body",
                                                    "term": {
                                                      "application": {
                                                        "argument": {"variable": "lam"},
                                                        "function": {
                                                          "function": {
                                                            "elimination": {"record": {"field": "body", "typeName": "hydra.core.Lambda"}}}}}},
                                                    "type": [
                                                      {
                                                        "constraints": null,
                                                        "type": {"variable": "hydra.core.Term"},
                                                        "variables": []}]}],
                                                "body": {
                                                  "application": {
                                                    "argument": {
                                                      "function": {
                                                        "lambda": {
                                                          "body": {
                                                            "application": {
                                                              "argument": {
                                                                "application": {
                                                                  "argument": {"variable": "hbody"},
                                                                  "function": {
                                                                    "application": {
                                                                      "argument": {
                                                                        "application": {
                                                                          "argument": {"variable": "v"},
                                                                          "function": {
                                                                            "application": {
                                                                              "argument": {"variable": "namespaces"},
                                                                              "function": {"variable": "hydra.ext.haskell.utils.elementReference"}}}}},
                                                                      "function": {"variable": "hydra.ext.haskell.utils.hslambda"}}}}},
                                                              "function": {
                                                                "typeApplication": {
                                                                  "body": {
                                                                    "typeApplication": {
                                                                      "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                      "type": {"variable": "hydra.graph.Graph"}}},
                                                                  "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                          "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                          "parameter": "hbody"}}},
                                                    "function": {
                                                      "application": {
                                                        "argument": {
                                                          "application": {
                                                            "argument": {"variable": "body"},
                                                            "function": {
                                                              "application": {
                                                                "argument": {"variable": "namespaces"},
                                                                "function": {"variable": "hydra.ext.haskell.coder.encodeTerm"}}}}},
                                                        "function": {
                                                          "typeApplication": {
                                                            "body": {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "typeApplication": {
                                                                    "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                    "type": {"variable": "hydra.graph.Graph"}}},
                                                                "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                            "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}}}},
                                            "domain": [{"variable": "hydra.core.Lambda"}],
                                            "parameter": "lam"}}}},
                                    {
                                      "name": "primitive",
                                      "term": {
                                        "function": {
                                          "lambda": {
                                            "body": {
                                              "application": {
                                                "argument": {
                                                  "union": {
                                                    "field": {
                                                      "name": "variable",
                                                      "term": {
                                                        "application": {
                                                          "argument": {"variable": "name"},
                                                          "function": {
                                                            "application": {
                                                              "argument": {"variable": "namespaces"},
                                                              "function": {"variable": "hydra.ext.haskell.utils.elementReference"}}}}}},
                                                    "typeName": "hydra.ext.haskell.ast.Expression"}},
                                                "function": {
                                                  "typeApplication": {
                                                    "body": {
                                                      "typeApplication": {
                                                        "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                    "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                            "domain": [{"variable": "hydra.core.Name"}],
                                            "parameter": "name"}}}}],
                                  "default": null,
                                  "typeName": "hydra.core.Function"}}}}}},
                      "domain": [{"variable": "hydra.core.Function"}],
                      "parameter": "fun"}}},
                "domain": [
                  {
                    "application": {
                      "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                      "function": {"variable": "hydra.module.Namespaces"}}}],
                "parameter": "namespaces"}}}}},
      "type": [
        {
          "constraints": null,
          "type": {
            "function": {
              "codomain": {
                "function": {
                  "codomain": {
                    "application": {
                      "argument": {"variable": "hydra.ext.haskell.ast.Expression"},
                      "function": {
                        "application": {
                          "argument": {"variable": "hydra.graph.Graph"},
                          "function": {"variable": "hydra.compute.Flow"}}}}},
                  "domain": {"variable": "hydra.core.Function"}}},
              "domain": {
                "application": {
                  "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                  "function": {"variable": "hydra.module.Namespaces"}}}}},
          "variables": []}]},
    {
      "name": "hydra.ext.haskell.coder.encodeLiteral",
      "term": {
        "typeLambda": {
          "body": {
            "annotated": {
              "annotation": [
                {
                  "@key": "description",
                  "@value": {
                    "literal": {"string": "Encode a Hydra literal as a Haskell expression"}}}],
              "body": {
                "function": {
                  "lambda": {
                    "body": {
                      "application": {
                        "argument": {"variable": "l"},
                        "function": {
                          "function": {
                            "elimination": {
                              "union": {
                                "cases": [
                                  {
                                    "name": "binary",
                                    "term": {
                                      "function": {
                                        "lambda": {
                                          "body": {
                                            "application": {
                                              "argument": {
                                                "application": {
                                                  "argument": {
                                                    "application": {
                                                      "argument": {
                                                        "union": {
                                                          "field": {
                                                            "name": "string",
                                                            "term": {
                                                              "application": {
                                                                "argument": {"variable": "bs"},
                                                                "function": {"function": {"primitive": "hydra.lib.literals.binaryToString"}}}}},
                                                          "typeName": "hydra.ext.haskell.ast.Literal"}},
                                                      "function": {"variable": "hydra.ext.haskell.utils.hslit"}}},
                                                  "function": {
                                                    "application": {
                                                      "argument": {
                                                        "application": {
                                                          "argument": {"literal": {"string": "Literals.stringToBinary"}},
                                                          "function": {"variable": "hydra.ext.haskell.utils.hsvar"}}},
                                                      "function": {"variable": "hydra.ext.haskell.utils.hsapp"}}}}},
                                              "function": {
                                                "typeApplication": {
                                                  "body": {
                                                    "typeApplication": {
                                                      "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                      "type": {"variable": "t0"}}},
                                                  "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                          "domain": [{"literal": {"binary": {}}}],
                                          "parameter": "bs"}}}},
                                  {
                                    "name": "boolean",
                                    "term": {
                                      "function": {
                                        "lambda": {
                                          "body": {
                                            "application": {
                                              "argument": {
                                                "application": {
                                                  "argument": {
                                                    "application": {
                                                      "argument": {"literal": {"string": "False"}},
                                                      "function": {
                                                        "application": {
                                                          "argument": {"literal": {"string": "True"}},
                                                          "function": {
                                                            "application": {
                                                              "argument": {"variable": "b"},
                                                              "function": {
                                                                "typeApplication": {
                                                                  "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                                  "type": {"literal": {"string": {}}}}}}}}}}},
                                                  "function": {"variable": "hydra.ext.haskell.utils.hsvar"}}},
                                              "function": {
                                                "typeApplication": {
                                                  "body": {
                                                    "typeApplication": {
                                                      "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                      "type": {"variable": "t0"}}},
                                                  "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                          "domain": [{"literal": {"boolean": {}}}],
                                          "parameter": "b"}}}},
                                  {
                                    "name": "float",
                                    "term": {
                                      "function": {
                                        "lambda": {
                                          "body": {
                                            "application": {
                                              "argument": {"variable": "fv"},
                                              "function": {
                                                "function": {
                                                  "elimination": {
                                                    "union": {
                                                      "cases": [
                                                        {
                                                          "name": "float32",
                                                          "term": {
                                                            "function": {
                                                              "lambda": {
                                                                "body": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {
                                                                          "union": {
                                                                            "field": {"name": "float", "term": {"variable": "f"}},
                                                                            "typeName": "hydra.ext.haskell.ast.Literal"}},
                                                                        "function": {"variable": "hydra.ext.haskell.utils.hslit"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                            "type": {"variable": "t0"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                "domain": [{"literal": {"float": {"float32": {}}}}],
                                                                "parameter": "f"}}}},
                                                        {
                                                          "name": "float64",
                                                          "term": {
                                                            "function": {
                                                              "lambda": {
                                                                "body": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {
                                                                          "union": {
                                                                            "field": {"name": "double", "term": {"variable": "f"}},
                                                                            "typeName": "hydra.ext.haskell.ast.Literal"}},
                                                                        "function": {"variable": "hydra.ext.haskell.utils.hslit"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                            "type": {"variable": "t0"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                "domain": [{"literal": {"float": {"float64": {}}}}],
                                                                "parameter": "f"}}}},
                                                        {
                                                          "name": "bigfloat",
                                                          "term": {
                                                            "function": {
                                                              "lambda": {
                                                                "body": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {
                                                                          "union": {
                                                                            "field": {
                                                                              "name": "double",
                                                                              "term": {
                                                                                "application": {
                                                                                  "argument": {"variable": "f"},
                                                                                  "function": {"function": {"primitive": "hydra.lib.literals.bigfloatToFloat64"}}}}},
                                                                            "typeName": "hydra.ext.haskell.ast.Literal"}},
                                                                        "function": {"variable": "hydra.ext.haskell.utils.hslit"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                            "type": {"variable": "t0"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                "domain": [{"literal": {"float": {"bigfloat": {}}}}],
                                                                "parameter": "f"}}}}],
                                                      "default": null,
                                                      "typeName": "hydra.core.FloatValue"}}}}}},
                                          "domain": [{"variable": "hydra.core.FloatValue"}],
                                          "parameter": "fv"}}}},
                                  {
                                    "name": "integer",
                                    "term": {
                                      "function": {
                                        "lambda": {
                                          "body": {
                                            "application": {
                                              "argument": {"variable": "iv"},
                                              "function": {
                                                "function": {
                                                  "elimination": {
                                                    "union": {
                                                      "cases": [
                                                        {
                                                          "name": "bigint",
                                                          "term": {
                                                            "function": {
                                                              "lambda": {
                                                                "body": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {
                                                                          "union": {
                                                                            "field": {"name": "integer", "term": {"variable": "i"}},
                                                                            "typeName": "hydra.ext.haskell.ast.Literal"}},
                                                                        "function": {"variable": "hydra.ext.haskell.utils.hslit"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                            "type": {"variable": "t0"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                "domain": [{"literal": {"integer": {"bigint": {}}}}],
                                                                "parameter": "i"}}}},
                                                        {
                                                          "name": "int8",
                                                          "term": {
                                                            "function": {
                                                              "lambda": {
                                                                "body": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {
                                                                          "union": {
                                                                            "field": {
                                                                              "name": "integer",
                                                                              "term": {
                                                                                "application": {
                                                                                  "argument": {"variable": "i"},
                                                                                  "function": {"function": {"primitive": "hydra.lib.literals.int8ToBigint"}}}}},
                                                                            "typeName": "hydra.ext.haskell.ast.Literal"}},
                                                                        "function": {"variable": "hydra.ext.haskell.utils.hslit"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                            "type": {"variable": "t0"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                "domain": [{"literal": {"integer": {"int8": {}}}}],
                                                                "parameter": "i"}}}},
                                                        {
                                                          "name": "int16",
                                                          "term": {
                                                            "function": {
                                                              "lambda": {
                                                                "body": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {
                                                                          "union": {
                                                                            "field": {
                                                                              "name": "integer",
                                                                              "term": {
                                                                                "application": {
                                                                                  "argument": {"variable": "i"},
                                                                                  "function": {"function": {"primitive": "hydra.lib.literals.int16ToBigint"}}}}},
                                                                            "typeName": "hydra.ext.haskell.ast.Literal"}},
                                                                        "function": {"variable": "hydra.ext.haskell.utils.hslit"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                            "type": {"variable": "t0"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                "domain": [{"literal": {"integer": {"int16": {}}}}],
                                                                "parameter": "i"}}}},
                                                        {
                                                          "name": "int32",
                                                          "term": {
                                                            "function": {
                                                              "lambda": {
                                                                "body": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {
                                                                          "union": {
                                                                            "field": {"name": "int", "term": {"variable": "i"}},
                                                                            "typeName": "hydra.ext.haskell.ast.Literal"}},
                                                                        "function": {"variable": "hydra.ext.haskell.utils.hslit"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                            "type": {"variable": "t0"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                "domain": [{"literal": {"integer": {"int32": {}}}}],
                                                                "parameter": "i"}}}},
                                                        {
                                                          "name": "int64",
                                                          "term": {
                                                            "function": {
                                                              "lambda": {
                                                                "body": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {
                                                                          "union": {
                                                                            "field": {
                                                                              "name": "integer",
                                                                              "term": {
                                                                                "application": {
                                                                                  "argument": {"variable": "i"},
                                                                                  "function": {"function": {"primitive": "hydra.lib.literals.int64ToBigint"}}}}},
                                                                            "typeName": "hydra.ext.haskell.ast.Literal"}},
                                                                        "function": {"variable": "hydra.ext.haskell.utils.hslit"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                            "type": {"variable": "t0"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                "domain": [{"literal": {"integer": {"int64": {}}}}],
                                                                "parameter": "i"}}}},
                                                        {
                                                          "name": "uint8",
                                                          "term": {
                                                            "function": {
                                                              "lambda": {
                                                                "body": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {
                                                                          "union": {
                                                                            "field": {
                                                                              "name": "integer",
                                                                              "term": {
                                                                                "application": {
                                                                                  "argument": {"variable": "i"},
                                                                                  "function": {"function": {"primitive": "hydra.lib.literals.uint8ToBigint"}}}}},
                                                                            "typeName": "hydra.ext.haskell.ast.Literal"}},
                                                                        "function": {"variable": "hydra.ext.haskell.utils.hslit"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                            "type": {"variable": "t0"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                "domain": [{"literal": {"integer": {"uint8": {}}}}],
                                                                "parameter": "i"}}}},
                                                        {
                                                          "name": "uint16",
                                                          "term": {
                                                            "function": {
                                                              "lambda": {
                                                                "body": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {
                                                                          "union": {
                                                                            "field": {
                                                                              "name": "integer",
                                                                              "term": {
                                                                                "application": {
                                                                                  "argument": {"variable": "i"},
                                                                                  "function": {"function": {"primitive": "hydra.lib.literals.uint16ToBigint"}}}}},
                                                                            "typeName": "hydra.ext.haskell.ast.Literal"}},
                                                                        "function": {"variable": "hydra.ext.haskell.utils.hslit"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                            "type": {"variable": "t0"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                "domain": [{"literal": {"integer": {"uint16": {}}}}],
                                                                "parameter": "i"}}}},
                                                        {
                                                          "name": "uint32",
                                                          "term": {
                                                            "function": {
                                                              "lambda": {
                                                                "body": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {
                                                                          "union": {
                                                                            "field": {
                                                                              "name": "integer",
                                                                              "term": {
                                                                                "application": {
                                                                                  "argument": {"variable": "i"},
                                                                                  "function": {"function": {"primitive": "hydra.lib.literals.uint32ToBigint"}}}}},
                                                                            "typeName": "hydra.ext.haskell.ast.Literal"}},
                                                                        "function": {"variable": "hydra.ext.haskell.utils.hslit"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                            "type": {"variable": "t0"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                "domain": [{"literal": {"integer": {"uint32": {}}}}],
                                                                "parameter": "i"}}}},
                                                        {
                                                          "name": "uint64",
                                                          "term": {
                                                            "function": {
                                                              "lambda": {
                                                                "body": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {
                                                                          "union": {
                                                                            "field": {
                                                                              "name": "integer",
                                                                              "term": {
                                                                                "application": {
                                                                                  "argument": {"variable": "i"},
                                                                                  "function": {"function": {"primitive": "hydra.lib.literals.uint64ToBigint"}}}}},
                                                                            "typeName": "hydra.ext.haskell.ast.Literal"}},
                                                                        "function": {"variable": "hydra.ext.haskell.utils.hslit"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                            "type": {"variable": "t0"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                "domain": [{"literal": {"integer": {"uint64": {}}}}],
                                                                "parameter": "i"}}}}],
                                                      "default": null,
                                                      "typeName": "hydra.core.IntegerValue"}}}}}},
                                          "domain": [{"variable": "hydra.core.IntegerValue"}],
                                          "parameter": "iv"}}}},
                                  {
                                    "name": "string",
                                    "term": {
                                      "function": {
                                        "lambda": {
                                          "body": {
                                            "application": {
                                              "argument": {
                                                "application": {
                                                  "argument": {
                                                    "union": {
                                                      "field": {"name": "string", "term": {"variable": "s"}},
                                                      "typeName": "hydra.ext.haskell.ast.Literal"}},
                                                  "function": {"variable": "hydra.ext.haskell.utils.hslit"}}},
                                              "function": {
                                                "typeApplication": {
                                                  "body": {
                                                    "typeApplication": {
                                                      "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                      "type": {"variable": "t0"}}},
                                                  "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                          "domain": [{"literal": {"string": {}}}],
                                          "parameter": "s"}}}}],
                                "default": [
                                  {
                                    "application": {
                                      "argument": {
                                        "application": {
                                          "argument": {
                                            "application": {
                                              "argument": {"variable": "l"},
                                              "function": {"variable": "hydra.show.core.literal"}}},
                                          "function": {
                                            "application": {
                                              "argument": {"literal": {"string": "literal value "}},
                                              "function": {"function": {"primitive": "hydra.lib.strings.cat2"}}}}}},
                                      "function": {
                                        "typeApplication": {
                                          "body": {
                                            "typeApplication": {
                                              "body": {"function": {"primitive": "hydra.lib.flows.fail"}},
                                              "type": {"variable": "t0"}}},
                                          "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}],
                                "typeName": "hydra.core.Literal"}}}}}},
                    "domain": [{"variable": "hydra.core.Literal"}],
                    "parameter": "l"}}}}},
          "parameter": "t0"}},
      "type": [
        {
          "constraints": null,
          "type": {
            "function": {
              "codomain": {
                "application": {
                  "argument": {"variable": "hydra.ext.haskell.ast.Expression"},
                  "function": {
                    "application": {
                      "argument": {"variable": "t0"},
                      "function": {"variable": "hydra.compute.Flow"}}}}},
              "domain": {"variable": "hydra.core.Literal"}}},
          "variables": ["t0"]}]},
    {
      "name": "hydra.ext.haskell.coder.encodeTerm",
      "term": {
        "annotated": {
          "annotation": [
            {
              "@key": "description",
              "@value": {"literal": {"string": "Encode a Hydra term as a Haskell expression"}}}],
          "body": {
            "function": {
              "lambda": {
                "body": {
                  "function": {
                    "lambda": {
                      "body": {
                        "let": {
                          "bindings": [
                            {
                              "name": "encode",
                              "term": {
                                "application": {
                                  "argument": {"variable": "namespaces"},
                                  "function": {"variable": "hydra.ext.haskell.coder.encodeTerm"}}},
                              "type": [
                                {
                                  "constraints": null,
                                  "type": {
                                    "function": {
                                      "codomain": {
                                        "application": {
                                          "argument": {"variable": "hydra.ext.haskell.ast.Expression"},
                                          "function": {
                                            "application": {
                                              "argument": {"variable": "hydra.graph.Graph"},
                                              "function": {"variable": "hydra.compute.Flow"}}}}},
                                      "domain": {"variable": "hydra.core.Term"}}},
                                  "variables": []}]}],
                          "body": {
                            "let": {
                              "bindings": [
                                {
                                  "name": "nonemptyMap",
                                  "term": {
                                    "function": {
                                      "lambda": {
                                        "body": {
                                          "let": {
                                            "bindings": [
                                              {
                                                "name": "lhs",
                                                "term": {
                                                  "application": {
                                                    "argument": {"literal": {"string": "M.fromList"}},
                                                    "function": {"variable": "hydra.ext.haskell.utils.hsvar"}}},
                                                "type": [
                                                  {
                                                    "constraints": null,
                                                    "type": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                    "variables": []}]},
                                              {
                                                "name": "encodePair",
                                                "term": {
                                                  "function": {
                                                    "lambda": {
                                                      "body": {
                                                        "let": {
                                                          "bindings": [
                                                            {
                                                              "name": "k",
                                                              "term": {
                                                                "application": {
                                                                  "argument": {"variable": "pair"},
                                                                  "function": {
                                                                    "typeApplication": {
                                                                      "body": {
                                                                        "typeApplication": {
                                                                          "body": {"function": {"primitive": "hydra.lib.pairs.first"}},
                                                                          "type": {"variable": "hydra.core.Term"}}},
                                                                      "type": {"variable": "hydra.core.Term"}}}}},
                                                              "type": [
                                                                {
                                                                  "constraints": null,
                                                                  "type": {"variable": "hydra.core.Term"},
                                                                  "variables": []}]},
                                                            {
                                                              "name": "v",
                                                              "term": {
                                                                "application": {
                                                                  "argument": {"variable": "pair"},
                                                                  "function": {
                                                                    "typeApplication": {
                                                                      "body": {
                                                                        "typeApplication": {
                                                                          "body": {"function": {"primitive": "hydra.lib.pairs.second"}},
                                                                          "type": {"variable": "hydra.core.Term"}}},
                                                                      "type": {"variable": "hydra.core.Term"}}}}},
                                                              "type": [
                                                                {
                                                                  "constraints": null,
                                                                  "type": {"variable": "hydra.core.Term"},
                                                                  "variables": []}]},
                                                            {
                                                              "name": "hk",
                                                              "term": {
                                                                "application": {"argument": {"variable": "k"}, "function": {"variable": "encode"}}},
                                                              "type": [
                                                                {
                                                                  "constraints": null,
                                                                  "type": {
                                                                    "application": {
                                                                      "argument": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                                      "function": {
                                                                        "application": {
                                                                          "argument": {"variable": "hydra.graph.Graph"},
                                                                          "function": {"variable": "hydra.compute.Flow"}}}}},
                                                                  "variables": []}]},
                                                            {
                                                              "name": "hv",
                                                              "term": {
                                                                "application": {"argument": {"variable": "v"}, "function": {"variable": "encode"}}},
                                                              "type": [
                                                                {
                                                                  "constraints": null,
                                                                  "type": {
                                                                    "application": {
                                                                      "argument": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                                      "function": {
                                                                        "application": {
                                                                          "argument": {"variable": "hydra.graph.Graph"},
                                                                          "function": {"variable": "hydra.compute.Flow"}}}}},
                                                                  "variables": []}]}],
                                                          "body": {
                                                            "application": {
                                                              "argument": {
                                                                "application": {
                                                                  "argument": {"list": [{"variable": "hk"}, {"variable": "hv"}]},
                                                                  "function": {
                                                                    "typeApplication": {
                                                                      "body": {
                                                                        "typeApplication": {
                                                                          "body": {"function": {"primitive": "hydra.lib.flows.sequence"}},
                                                                          "type": {"variable": "hydra.graph.Graph"}}},
                                                                      "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                              "function": {
                                                                "application": {
                                                                  "argument": {
                                                                    "function": {
                                                                      "lambda": {
                                                                        "body": {
                                                                          "union": {
                                                                            "field": {"name": "tuple", "term": {"variable": "x"}},
                                                                            "typeName": "hydra.ext.haskell.ast.Expression"}},
                                                                        "domain": [{"list": {"variable": "hydra.ext.haskell.ast.Expression"}}],
                                                                        "parameter": "x"}}},
                                                                  "function": {
                                                                    "typeApplication": {
                                                                      "body": {
                                                                        "typeApplication": {
                                                                          "body": {
                                                                            "typeApplication": {
                                                                              "body": {"function": {"primitive": "hydra.lib.flows.map"}},
                                                                              "type": {"list": {"variable": "hydra.ext.haskell.ast.Expression"}}}},
                                                                          "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                      "type": {"variable": "hydra.graph.Graph"}}}}}}}}},
                                                      "domain": [
                                                        {
                                                          "pair": {
                                                            "first": {"variable": "hydra.core.Term"},
                                                            "second": {"variable": "hydra.core.Term"}}}],
                                                      "parameter": "pair"}}},
                                                "type": [
                                                  {
                                                    "constraints": null,
                                                    "type": {
                                                      "function": {
                                                        "codomain": {
                                                          "application": {
                                                            "argument": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                            "function": {
                                                              "application": {
                                                                "argument": {"variable": "hydra.graph.Graph"},
                                                                "function": {"variable": "hydra.compute.Flow"}}}}},
                                                        "domain": {
                                                          "pair": {
                                                            "first": {"variable": "hydra.core.Term"},
                                                            "second": {"variable": "hydra.core.Term"}}}}},
                                                    "variables": []}]}],
                                            "body": {
                                              "application": {
                                                "argument": {
                                                  "function": {
                                                    "lambda": {
                                                      "body": {
                                                        "application": {
                                                          "argument": {
                                                            "application": {
                                                              "argument": {"variable": "rhs"},
                                                              "function": {
                                                                "application": {
                                                                  "argument": {"variable": "lhs"},
                                                                  "function": {"variable": "hydra.ext.haskell.utils.hsapp"}}}}},
                                                          "function": {
                                                            "typeApplication": {
                                                              "body": {
                                                                "typeApplication": {
                                                                  "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                  "type": {"variable": "hydra.graph.Graph"}}},
                                                              "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                      "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                      "parameter": "rhs"}}},
                                                "function": {
                                                  "application": {
                                                    "argument": {
                                                      "application": {
                                                        "argument": {
                                                          "application": {
                                                            "argument": {
                                                              "application": {
                                                                "argument": {"variable": "m"},
                                                                "function": {
                                                                  "typeApplication": {
                                                                    "body": {
                                                                      "typeApplication": {
                                                                        "body": {"function": {"primitive": "hydra.lib.maps.toList"}},
                                                                        "type": {"variable": "hydra.core.Term"}}},
                                                                    "type": {"variable": "hydra.core.Term"}}}}},
                                                            "function": {
                                                              "application": {
                                                                "argument": {"variable": "encodePair"},
                                                                "function": {
                                                                  "typeApplication": {
                                                                    "body": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.mapList"}},
                                                                            "type": {
                                                                              "pair": {
                                                                                "first": {"variable": "hydra.core.Term"},
                                                                                "second": {"variable": "hydra.core.Term"}}}}},
                                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                                    "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}},
                                                        "function": {
                                                          "application": {
                                                            "argument": {
                                                              "function": {
                                                                "lambda": {
                                                                  "body": {
                                                                    "union": {
                                                                      "field": {"name": "list", "term": {"variable": "x"}},
                                                                      "typeName": "hydra.ext.haskell.ast.Expression"}},
                                                                  "domain": [{"list": {"variable": "hydra.ext.haskell.ast.Expression"}}],
                                                                  "parameter": "x"}}},
                                                            "function": {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "typeApplication": {
                                                                    "body": {
                                                                      "typeApplication": {
                                                                        "body": {"function": {"primitive": "hydra.lib.flows.map"}},
                                                                        "type": {"list": {"variable": "hydra.ext.haskell.ast.Expression"}}}},
                                                                    "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                "type": {"variable": "hydra.graph.Graph"}}}}}}},
                                                    "function": {
                                                      "typeApplication": {
                                                        "body": {
                                                          "typeApplication": {
                                                            "body": {
                                                              "typeApplication": {
                                                                "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                "type": {"variable": "hydra.graph.Graph"}}},
                                                            "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}}}},
                                        "domain": [
                                          {
                                            "map": {
                                              "keys": {"variable": "hydra.core.Term"},
                                              "values": {"variable": "hydra.core.Term"}}}],
                                        "parameter": "m"}}},
                                  "type": [
                                    {
                                      "constraints": null,
                                      "type": {
                                        "function": {
                                          "codomain": {
                                            "application": {
                                              "argument": {"variable": "hydra.ext.haskell.ast.Expression"},
                                              "function": {
                                                "application": {
                                                  "argument": {"variable": "hydra.graph.Graph"},
                                                  "function": {"variable": "hydra.compute.Flow"}}}}},
                                          "domain": {
                                            "map": {
                                              "keys": {"variable": "hydra.core.Term"},
                                              "values": {"variable": "hydra.core.Term"}}}}},
                                      "variables": []}]}],
                              "body": {
                                "let": {
                                  "bindings": [
                                    {
                                      "name": "nonemptySet",
                                      "term": {
                                        "function": {
                                          "lambda": {
                                            "body": {
                                              "let": {
                                                "bindings": [
                                                  {
                                                    "name": "lhs",
                                                    "term": {
                                                      "application": {
                                                        "argument": {"literal": {"string": "S.fromList"}},
                                                        "function": {"variable": "hydra.ext.haskell.utils.hsvar"}}},
                                                    "type": [
                                                      {
                                                        "constraints": null,
                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                        "variables": []}]}],
                                                "body": {
                                                  "application": {
                                                    "argument": {
                                                      "function": {
                                                        "lambda": {
                                                          "body": {
                                                            "application": {
                                                              "argument": {
                                                                "application": {
                                                                  "argument": {"variable": "rhs"},
                                                                  "function": {
                                                                    "application": {
                                                                      "argument": {"variable": "lhs"},
                                                                      "function": {"variable": "hydra.ext.haskell.utils.hsapp"}}}}},
                                                              "function": {
                                                                "typeApplication": {
                                                                  "body": {
                                                                    "typeApplication": {
                                                                      "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                      "type": {"variable": "hydra.graph.Graph"}}},
                                                                  "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                          "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                          "parameter": "rhs"}}},
                                                    "function": {
                                                      "application": {
                                                        "argument": {
                                                          "application": {
                                                            "argument": {
                                                              "union": {
                                                                "field": {
                                                                  "name": "list",
                                                                  "term": {
                                                                    "application": {
                                                                      "argument": {"variable": "s"},
                                                                      "function": {
                                                                        "typeApplication": {
                                                                          "body": {"function": {"primitive": "hydra.lib.sets.toList"}},
                                                                          "type": {"variable": "hydra.core.Term"}}}}}},
                                                                "typeName": "hydra.core.Term"}},
                                                            "function": {
                                                              "application": {
                                                                "argument": {"variable": "namespaces"},
                                                                "function": {"variable": "hydra.ext.haskell.coder.encodeTerm"}}}}},
                                                        "function": {
                                                          "typeApplication": {
                                                            "body": {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "typeApplication": {
                                                                    "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                    "type": {"variable": "hydra.graph.Graph"}}},
                                                                "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                            "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}}}},
                                            "domain": [{"set": {"variable": "hydra.core.Term"}}],
                                            "parameter": "s"}}},
                                      "type": [
                                        {
                                          "constraints": null,
                                          "type": {
                                            "function": {
                                              "codomain": {
                                                "application": {
                                                  "argument": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                  "function": {
                                                    "application": {
                                                      "argument": {"variable": "hydra.graph.Graph"},
                                                      "function": {"variable": "hydra.compute.Flow"}}}}},
                                              "domain": {"set": {"variable": "hydra.core.Term"}}}},
                                          "variables": []}]}],
                                  "body": {
                                    "application": {
                                      "argument": {
                                        "application": {
                                          "argument": {"variable": "term"},
                                          "function": {"variable": "hydra.rewriting.deannotateTerm"}}},
                                      "function": {
                                        "function": {
                                          "elimination": {
                                            "union": {
                                              "cases": [
                                                {
                                                  "name": "application",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "let": {
                                                            "bindings": [
                                                              {
                                                                "name": "fun",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "app"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {
                                                                          "record": {"field": "function", "typeName": "hydra.core.Application"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Term"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "arg",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "app"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {
                                                                          "record": {"field": "argument", "typeName": "hydra.core.Application"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Term"},
                                                                    "variables": []}]}],
                                                            "body": {
                                                              "application": {
                                                                "argument": {
                                                                  "function": {
                                                                    "lambda": {
                                                                      "body": {
                                                                        "application": {
                                                                          "argument": {
                                                                            "function": {
                                                                              "lambda": {
                                                                                "body": {
                                                                                  "application": {
                                                                                    "argument": {
                                                                                      "application": {
                                                                                        "argument": {"variable": "harg"},
                                                                                        "function": {
                                                                                          "application": {
                                                                                            "argument": {"variable": "hfun"},
                                                                                            "function": {"variable": "hydra.ext.haskell.utils.hsapp"}}}}},
                                                                                    "function": {
                                                                                      "typeApplication": {
                                                                                        "body": {
                                                                                          "typeApplication": {
                                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                            "type": {"variable": "hydra.graph.Graph"}}},
                                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                                "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                                                "parameter": "harg"}}},
                                                                          "function": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "application": {"argument": {"variable": "arg"}, "function": {"variable": "encode"}}},
                                                                              "function": {
                                                                                "typeApplication": {
                                                                                  "body": {
                                                                                    "typeApplication": {
                                                                                      "body": {
                                                                                        "typeApplication": {
                                                                                          "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                          "type": {"variable": "hydra.graph.Graph"}}},
                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                                  "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}},
                                                                      "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                                      "parameter": "hfun"}}},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {"argument": {"variable": "fun"}, "function": {"variable": "encode"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                "type": {"variable": "hydra.graph.Graph"}}},
                                                                            "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}}}},
                                                        "domain": [{"variable": "hydra.core.Application"}],
                                                        "parameter": "app"}}}},
                                                {
                                                  "name": "either",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {"variable": "e"},
                                                            "function": {
                                                              "application": {
                                                                "argument": {
                                                                  "function": {
                                                                    "lambda": {
                                                                      "body": {
                                                                        "application": {
                                                                          "argument": {
                                                                            "function": {
                                                                              "lambda": {
                                                                                "body": {
                                                                                  "application": {
                                                                                    "argument": {
                                                                                      "application": {
                                                                                        "argument": {"variable": "hr"},
                                                                                        "function": {
                                                                                          "application": {
                                                                                            "argument": {
                                                                                              "application": {
                                                                                                "argument": {"literal": {"string": "Right"}},
                                                                                                "function": {"variable": "hydra.ext.haskell.utils.hsvar"}}},
                                                                                            "function": {"variable": "hydra.ext.haskell.utils.hsapp"}}}}},
                                                                                    "function": {
                                                                                      "typeApplication": {
                                                                                        "body": {
                                                                                          "typeApplication": {
                                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                            "type": {"variable": "hydra.graph.Graph"}}},
                                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                                "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                                                "parameter": "hr"}}},
                                                                          "function": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "application": {"argument": {"variable": "r"}, "function": {"variable": "encode"}}},
                                                                              "function": {
                                                                                "typeApplication": {
                                                                                  "body": {
                                                                                    "typeApplication": {
                                                                                      "body": {
                                                                                        "typeApplication": {
                                                                                          "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                          "type": {"variable": "hydra.graph.Graph"}}},
                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                                  "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}},
                                                                      "domain": [{"variable": "hydra.core.Term"}],
                                                                      "parameter": "r"}}},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "function": {
                                                                        "lambda": {
                                                                          "body": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "function": {
                                                                                  "lambda": {
                                                                                    "body": {
                                                                                      "application": {
                                                                                        "argument": {
                                                                                          "application": {
                                                                                            "argument": {"variable": "hl"},
                                                                                            "function": {
                                                                                              "application": {
                                                                                                "argument": {
                                                                                                  "application": {
                                                                                                    "argument": {"literal": {"string": "Left"}},
                                                                                                    "function": {"variable": "hydra.ext.haskell.utils.hsvar"}}},
                                                                                                "function": {"variable": "hydra.ext.haskell.utils.hsapp"}}}}},
                                                                                        "function": {
                                                                                          "typeApplication": {
                                                                                            "body": {
                                                                                              "typeApplication": {
                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                "type": {"variable": "hydra.graph.Graph"}}},
                                                                                            "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                                    "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                                                    "parameter": "hl"}}},
                                                                              "function": {
                                                                                "application": {
                                                                                  "argument": {
                                                                                    "application": {"argument": {"variable": "l"}, "function": {"variable": "encode"}}},
                                                                                  "function": {
                                                                                    "typeApplication": {
                                                                                      "body": {
                                                                                        "typeApplication": {
                                                                                          "body": {
                                                                                            "typeApplication": {
                                                                                              "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                              "type": {"variable": "hydra.graph.Graph"}}},
                                                                                          "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}},
                                                                          "domain": [{"variable": "hydra.core.Term"}],
                                                                          "parameter": "l"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {"function": {"primitive": "hydra.lib.eithers.either"}},
                                                                                "type": {"variable": "hydra.core.Term"}}},
                                                                            "type": {"variable": "hydra.core.Term"}}},
                                                                        "type": {
                                                                          "application": {
                                                                            "argument": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                                            "function": {
                                                                              "application": {
                                                                                "argument": {"variable": "hydra.graph.Graph"},
                                                                                "function": {"variable": "hydra.compute.Flow"}}}}}}}}}}}}},
                                                        "domain": [
                                                          {
                                                            "either": {
                                                              "left": {"variable": "hydra.core.Term"},
                                                              "right": {"variable": "hydra.core.Term"}}}],
                                                        "parameter": "e"}}}},
                                                {
                                                  "name": "function",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {"variable": "f"},
                                                            "function": {
                                                              "application": {
                                                                "argument": {"variable": "namespaces"},
                                                                "function": {"variable": "hydra.ext.haskell.coder.encodeFunction"}}}}},
                                                        "domain": [{"variable": "hydra.core.Function"}],
                                                        "parameter": "f"}}}},
                                                {
                                                  "name": "let",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "let": {
                                                            "bindings": [
                                                              {
                                                                "name": "bindings",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "letTerm"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {"record": {"field": "bindings", "typeName": "hydra.core.Let"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"list": {"variable": "hydra.core.Binding"}},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "env",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "letTerm"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {"record": {"field": "body", "typeName": "hydra.core.Let"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Term"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "encodeBinding",
                                                                "term": {
                                                                  "function": {
                                                                    "lambda": {
                                                                      "body": {
                                                                        "let": {
                                                                          "bindings": [
                                                                            {
                                                                              "name": "name",
                                                                              "term": {
                                                                                "application": {
                                                                                  "argument": {"variable": "binding"},
                                                                                  "function": {
                                                                                    "function": {
                                                                                      "elimination": {"record": {"field": "name", "typeName": "hydra.core.Binding"}}}}}},
                                                                              "type": [
                                                                                {
                                                                                  "constraints": null,
                                                                                  "type": {"variable": "hydra.core.Name"},
                                                                                  "variables": []}]},
                                                                            {
                                                                              "name": "term'",
                                                                              "term": {
                                                                                "application": {
                                                                                  "argument": {"variable": "binding"},
                                                                                  "function": {
                                                                                    "function": {
                                                                                      "elimination": {"record": {"field": "term", "typeName": "hydra.core.Binding"}}}}}},
                                                                              "type": [
                                                                                {
                                                                                  "constraints": null,
                                                                                  "type": {"variable": "hydra.core.Term"},
                                                                                  "variables": []}]},
                                                                            {
                                                                              "name": "hname",
                                                                              "term": {
                                                                                "application": {
                                                                                  "argument": {
                                                                                    "application": {
                                                                                      "argument": {"variable": "name"},
                                                                                      "function": {"function": {"elimination": {"wrap": "hydra.core.Name"}}}}},
                                                                                  "function": {"variable": "hydra.ext.haskell.utils.simpleName"}}},
                                                                              "type": [
                                                                                {
                                                                                  "constraints": null,
                                                                                  "type": {"variable": "hydra.ext.haskell.ast.Name"},
                                                                                  "variables": []}]}],
                                                                          "body": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "function": {
                                                                                  "lambda": {
                                                                                    "body": {
                                                                                      "application": {
                                                                                        "argument": {
                                                                                          "union": {
                                                                                            "field": {
                                                                                              "name": "value",
                                                                                              "term": {
                                                                                                "application": {
                                                                                                  "argument": {
                                                                                                    "typeApplication": {
                                                                                                      "body": {"maybe": null},
                                                                                                      "type": {"variable": "hydra.ext.haskell.ast.LocalBindings"}}},
                                                                                                  "function": {
                                                                                                    "application": {
                                                                                                      "argument": {"variable": "hexpr"},
                                                                                                      "function": {
                                                                                                        "application": {
                                                                                                          "argument": {"variable": "hname"},
                                                                                                          "function": {"variable": "hydra.ext.haskell.utils.simpleValueBinding"}}}}}}}},
                                                                                            "typeName": "hydra.ext.haskell.ast.LocalBinding"}},
                                                                                        "function": {
                                                                                          "typeApplication": {
                                                                                            "body": {
                                                                                              "typeApplication": {
                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                "type": {"variable": "hydra.graph.Graph"}}},
                                                                                            "type": {"variable": "hydra.ext.haskell.ast.LocalBinding"}}}}},
                                                                                    "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                                                    "parameter": "hexpr"}}},
                                                                              "function": {
                                                                                "application": {
                                                                                  "argument": {
                                                                                    "application": {
                                                                                      "argument": {"variable": "term'"},
                                                                                      "function": {"variable": "encode"}}},
                                                                                  "function": {
                                                                                    "typeApplication": {
                                                                                      "body": {
                                                                                        "typeApplication": {
                                                                                          "body": {
                                                                                            "typeApplication": {
                                                                                              "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                              "type": {"variable": "hydra.graph.Graph"}}},
                                                                                          "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                                      "type": {"variable": "hydra.ext.haskell.ast.LocalBinding"}}}}}}}}},
                                                                      "domain": [{"variable": "hydra.core.Binding"}],
                                                                      "parameter": "binding"}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {
                                                                      "function": {
                                                                        "codomain": {
                                                                          "application": {
                                                                            "argument": {"variable": "hydra.ext.haskell.ast.LocalBinding"},
                                                                            "function": {
                                                                              "application": {
                                                                                "argument": {"variable": "hydra.graph.Graph"},
                                                                                "function": {"variable": "hydra.compute.Flow"}}}}},
                                                                        "domain": {"variable": "hydra.core.Binding"}}},
                                                                    "variables": []}]}],
                                                            "body": {
                                                              "application": {
                                                                "argument": {
                                                                  "function": {
                                                                    "lambda": {
                                                                      "body": {
                                                                        "application": {
                                                                          "argument": {
                                                                            "function": {
                                                                              "lambda": {
                                                                                "body": {
                                                                                  "application": {
                                                                                    "argument": {
                                                                                      "union": {
                                                                                        "field": {
                                                                                          "name": "let",
                                                                                          "term": {
                                                                                            "record": {
                                                                                              "fields": [
                                                                                                {"name": "bindings", "term": {"variable": "hbindings"}},
                                                                                                {"name": "inner", "term": {"variable": "hinner"}}],
                                                                                              "typeName": "hydra.ext.haskell.ast.LetExpression"}}},
                                                                                        "typeName": "hydra.ext.haskell.ast.Expression"}},
                                                                                    "function": {
                                                                                      "typeApplication": {
                                                                                        "body": {
                                                                                          "typeApplication": {
                                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                            "type": {"variable": "hydra.graph.Graph"}}},
                                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                                "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                                                "parameter": "hinner"}}},
                                                                          "function": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "application": {"argument": {"variable": "env"}, "function": {"variable": "encode"}}},
                                                                              "function": {
                                                                                "typeApplication": {
                                                                                  "body": {
                                                                                    "typeApplication": {
                                                                                      "body": {
                                                                                        "typeApplication": {
                                                                                          "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                          "type": {"variable": "hydra.graph.Graph"}}},
                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                                  "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}},
                                                                      "domain": [{"list": {"variable": "hydra.ext.haskell.ast.LocalBinding"}}],
                                                                      "parameter": "hbindings"}}},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {"variable": "bindings"},
                                                                        "function": {
                                                                          "application": {
                                                                            "argument": {"variable": "encodeBinding"},
                                                                            "function": {
                                                                              "typeApplication": {
                                                                                "body": {
                                                                                  "typeApplication": {
                                                                                    "body": {
                                                                                      "typeApplication": {
                                                                                        "body": {"function": {"primitive": "hydra.lib.flows.mapList"}},
                                                                                        "type": {"variable": "hydra.core.Binding"}}},
                                                                                    "type": {"variable": "hydra.graph.Graph"}}},
                                                                                "type": {"variable": "hydra.ext.haskell.ast.LocalBinding"}}}}}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                "type": {"variable": "hydra.graph.Graph"}}},
                                                                            "type": {"list": {"variable": "hydra.ext.haskell.ast.LocalBinding"}}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}}}},
                                                        "domain": [{"variable": "hydra.core.Let"}],
                                                        "parameter": "letTerm"}}}},
                                                {
                                                  "name": "list",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {
                                                              "function": {
                                                                "lambda": {
                                                                  "body": {
                                                                    "application": {
                                                                      "argument": {
                                                                        "union": {
                                                                          "field": {"name": "list", "term": {"variable": "helems"}},
                                                                          "typeName": "hydra.ext.haskell.ast.Expression"}},
                                                                      "function": {
                                                                        "typeApplication": {
                                                                          "body": {
                                                                            "typeApplication": {
                                                                              "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                              "type": {"variable": "hydra.graph.Graph"}}},
                                                                          "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                  "domain": [{"list": {"variable": "hydra.ext.haskell.ast.Expression"}}],
                                                                  "parameter": "helems"}}},
                                                            "function": {
                                                              "application": {
                                                                "argument": {
                                                                  "application": {
                                                                    "argument": {"variable": "els"},
                                                                    "function": {
                                                                      "application": {
                                                                        "argument": {"variable": "encode"},
                                                                        "function": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {
                                                                                  "typeApplication": {
                                                                                    "body": {"function": {"primitive": "hydra.lib.flows.mapList"}},
                                                                                    "type": {"variable": "hydra.core.Term"}}},
                                                                                "type": {"variable": "hydra.graph.Graph"}}},
                                                                            "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}},
                                                                "function": {
                                                                  "typeApplication": {
                                                                    "body": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                            "type": {"variable": "hydra.graph.Graph"}}},
                                                                        "type": {"list": {"variable": "hydra.ext.haskell.ast.Expression"}}}},
                                                                    "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}},
                                                        "domain": [{"list": {"variable": "hydra.core.Term"}}],
                                                        "parameter": "els"}}}},
                                                {
                                                  "name": "literal",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {"variable": "v"},
                                                            "function": {
                                                              "typeApplication": {
                                                                "body": {"variable": "hydra.ext.haskell.coder.encodeLiteral"},
                                                                "type": {"variable": "hydra.graph.Graph"}}}}},
                                                        "domain": [{"variable": "hydra.core.Literal"}],
                                                        "parameter": "v"}}}},
                                                {
                                                  "name": "map",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {
                                                              "application": {
                                                                "argument": {"variable": "m"},
                                                                "function": {"variable": "nonemptyMap"}}},
                                                            "function": {
                                                              "application": {
                                                                "argument": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {"literal": {"string": "M.empty"}},
                                                                        "function": {"variable": "hydra.ext.haskell.utils.hsvar"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                            "type": {"variable": "hydra.graph.Graph"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {"variable": "m"},
                                                                        "function": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {"function": {"primitive": "hydra.lib.maps.null"}},
                                                                                "type": {"variable": "hydra.core.Term"}}},
                                                                            "type": {"variable": "hydra.core.Term"}}}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                                        "type": {
                                                                          "application": {
                                                                            "argument": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                                            "function": {
                                                                              "application": {
                                                                                "argument": {"variable": "hydra.graph.Graph"},
                                                                                "function": {"variable": "hydra.compute.Flow"}}}}}}}}}}}}},
                                                        "domain": [
                                                          {
                                                            "map": {
                                                              "keys": {"variable": "hydra.core.Term"},
                                                              "values": {"variable": "hydra.core.Term"}}}],
                                                        "parameter": "m"}}}},
                                                {
                                                  "name": "maybe",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {
                                                              "function": {
                                                                "lambda": {
                                                                  "body": {
                                                                    "application": {
                                                                      "argument": {
                                                                        "function": {
                                                                          "lambda": {
                                                                            "body": {
                                                                              "application": {
                                                                                "argument": {
                                                                                  "application": {
                                                                                    "argument": {"variable": "ht"},
                                                                                    "function": {
                                                                                      "application": {
                                                                                        "argument": {
                                                                                          "application": {
                                                                                            "argument": {"literal": {"string": "Just"}},
                                                                                            "function": {"variable": "hydra.ext.haskell.utils.hsvar"}}},
                                                                                        "function": {"variable": "hydra.ext.haskell.utils.hsapp"}}}}},
                                                                                "function": {
                                                                                  "typeApplication": {
                                                                                    "body": {
                                                                                      "typeApplication": {
                                                                                        "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                                                    "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                            "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                                            "parameter": "ht"}}},
                                                                      "function": {
                                                                        "application": {
                                                                          "argument": {
                                                                            "application": {"argument": {"variable": "t"}, "function": {"variable": "encode"}}},
                                                                          "function": {
                                                                            "typeApplication": {
                                                                              "body": {
                                                                                "typeApplication": {
                                                                                  "body": {
                                                                                    "typeApplication": {
                                                                                      "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                      "type": {"variable": "hydra.graph.Graph"}}},
                                                                                  "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                              "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}},
                                                                  "domain": [{"variable": "hydra.core.Term"}],
                                                                  "parameter": "t"}}},
                                                            "function": {
                                                              "application": {
                                                                "argument": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {"literal": {"string": "Nothing"}},
                                                                        "function": {"variable": "hydra.ext.haskell.utils.hsvar"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                            "type": {"variable": "hydra.graph.Graph"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {"variable": "m"},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.maybes.cases"}},
                                                                            "type": {"variable": "hydra.core.Term"}}},
                                                                        "type": {
                                                                          "application": {
                                                                            "argument": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                                            "function": {
                                                                              "application": {
                                                                                "argument": {"variable": "hydra.graph.Graph"},
                                                                                "function": {"variable": "hydra.compute.Flow"}}}}}}}}}}}}},
                                                        "domain": [{"maybe": {"variable": "hydra.core.Term"}}],
                                                        "parameter": "m"}}}},
                                                {
                                                  "name": "pair",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {
                                                              "function": {
                                                                "lambda": {
                                                                  "body": {
                                                                    "application": {
                                                                      "argument": {
                                                                        "function": {
                                                                          "lambda": {
                                                                            "body": {
                                                                              "application": {
                                                                                "argument": {
                                                                                  "union": {
                                                                                    "field": {
                                                                                      "name": "tuple",
                                                                                      "term": {"list": [{"variable": "f"}, {"variable": "s"}]}},
                                                                                    "typeName": "hydra.ext.haskell.ast.Expression"}},
                                                                                "function": {
                                                                                  "typeApplication": {
                                                                                    "body": {
                                                                                      "typeApplication": {
                                                                                        "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                                                    "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                            "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                                            "parameter": "s"}}},
                                                                      "function": {
                                                                        "application": {
                                                                          "argument": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "application": {
                                                                                  "argument": {"variable": "p"},
                                                                                  "function": {
                                                                                    "typeApplication": {
                                                                                      "body": {
                                                                                        "typeApplication": {
                                                                                          "body": {"function": {"primitive": "hydra.lib.pairs.second"}},
                                                                                          "type": {"variable": "hydra.core.Term"}}},
                                                                                      "type": {"variable": "hydra.core.Term"}}}}},
                                                                              "function": {"variable": "encode"}}},
                                                                          "function": {
                                                                            "typeApplication": {
                                                                              "body": {
                                                                                "typeApplication": {
                                                                                  "body": {
                                                                                    "typeApplication": {
                                                                                      "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                      "type": {"variable": "hydra.graph.Graph"}}},
                                                                                  "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                              "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}},
                                                                  "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                                  "parameter": "f"}}},
                                                            "function": {
                                                              "application": {
                                                                "argument": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {"variable": "p"},
                                                                        "function": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {"function": {"primitive": "hydra.lib.pairs.first"}},
                                                                                "type": {"variable": "hydra.core.Term"}}},
                                                                            "type": {"variable": "hydra.core.Term"}}}}},
                                                                    "function": {"variable": "encode"}}},
                                                                "function": {
                                                                  "typeApplication": {
                                                                    "body": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                            "type": {"variable": "hydra.graph.Graph"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                    "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}},
                                                        "domain": [
                                                          {
                                                            "pair": {
                                                              "first": {"variable": "hydra.core.Term"},
                                                              "second": {"variable": "hydra.core.Term"}}}],
                                                        "parameter": "p"}}}},
                                                {
                                                  "name": "record",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "let": {
                                                            "bindings": [
                                                              {
                                                                "name": "sname",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "record"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {"record": {"field": "typeName", "typeName": "hydra.core.Record"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Name"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "fields",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "record"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {"record": {"field": "fields", "typeName": "hydra.core.Record"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"list": {"variable": "hydra.core.Field"}},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "toFieldUpdate",
                                                                "term": {
                                                                  "function": {
                                                                    "lambda": {
                                                                      "body": {
                                                                        "let": {
                                                                          "bindings": [
                                                                            {
                                                                              "name": "fn",
                                                                              "term": {
                                                                                "application": {
                                                                                  "argument": {"variable": "field"},
                                                                                  "function": {
                                                                                    "function": {
                                                                                      "elimination": {"record": {"field": "name", "typeName": "hydra.core.Field"}}}}}},
                                                                              "type": [
                                                                                {
                                                                                  "constraints": null,
                                                                                  "type": {"variable": "hydra.core.Name"},
                                                                                  "variables": []}]},
                                                                            {
                                                                              "name": "ft",
                                                                              "term": {
                                                                                "application": {
                                                                                  "argument": {"variable": "field"},
                                                                                  "function": {
                                                                                    "function": {
                                                                                      "elimination": {"record": {"field": "term", "typeName": "hydra.core.Field"}}}}}},
                                                                              "type": [
                                                                                {
                                                                                  "constraints": null,
                                                                                  "type": {"variable": "hydra.core.Term"},
                                                                                  "variables": []}]},
                                                                            {
                                                                              "name": "fieldRef",
                                                                              "term": {
                                                                                "application": {
                                                                                  "argument": {"variable": "fn"},
                                                                                  "function": {
                                                                                    "application": {
                                                                                      "argument": {"variable": "sname"},
                                                                                      "function": {
                                                                                        "application": {
                                                                                          "argument": {"variable": "namespaces"},
                                                                                          "function": {"variable": "hydra.ext.haskell.utils.recordFieldReference"}}}}}}},
                                                                              "type": [
                                                                                {
                                                                                  "constraints": null,
                                                                                  "type": {"variable": "hydra.ext.haskell.ast.Name"},
                                                                                  "variables": []}]}],
                                                                          "body": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "function": {
                                                                                  "lambda": {
                                                                                    "body": {
                                                                                      "application": {
                                                                                        "argument": {
                                                                                          "record": {
                                                                                            "fields": [
                                                                                              {"name": "name", "term": {"variable": "fieldRef"}},
                                                                                              {"name": "value", "term": {"variable": "hft"}}],
                                                                                            "typeName": "hydra.ext.haskell.ast.FieldUpdate"}},
                                                                                        "function": {
                                                                                          "typeApplication": {
                                                                                            "body": {
                                                                                              "typeApplication": {
                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                "type": {"variable": "hydra.graph.Graph"}}},
                                                                                            "type": {"variable": "hydra.ext.haskell.ast.FieldUpdate"}}}}},
                                                                                    "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                                                    "parameter": "hft"}}},
                                                                              "function": {
                                                                                "application": {
                                                                                  "argument": {
                                                                                    "application": {"argument": {"variable": "ft"}, "function": {"variable": "encode"}}},
                                                                                  "function": {
                                                                                    "typeApplication": {
                                                                                      "body": {
                                                                                        "typeApplication": {
                                                                                          "body": {
                                                                                            "typeApplication": {
                                                                                              "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                              "type": {"variable": "hydra.graph.Graph"}}},
                                                                                          "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                                      "type": {"variable": "hydra.ext.haskell.ast.FieldUpdate"}}}}}}}}},
                                                                      "domain": [{"variable": "hydra.core.Field"}],
                                                                      "parameter": "field"}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {
                                                                      "function": {
                                                                        "codomain": {
                                                                          "application": {
                                                                            "argument": {"variable": "hydra.ext.haskell.ast.FieldUpdate"},
                                                                            "function": {
                                                                              "application": {
                                                                                "argument": {"variable": "hydra.graph.Graph"},
                                                                                "function": {"variable": "hydra.compute.Flow"}}}}},
                                                                        "domain": {"variable": "hydra.core.Field"}}},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "typeName",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "sname"},
                                                                    "function": {
                                                                      "application": {
                                                                        "argument": {"variable": "namespaces"},
                                                                        "function": {"variable": "hydra.ext.haskell.utils.elementReference"}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.ext.haskell.ast.Name"},
                                                                    "variables": []}]}],
                                                            "body": {
                                                              "application": {
                                                                "argument": {
                                                                  "function": {
                                                                    "lambda": {
                                                                      "body": {
                                                                        "application": {
                                                                          "argument": {
                                                                            "union": {
                                                                              "field": {
                                                                                "name": "constructRecord",
                                                                                "term": {
                                                                                  "record": {
                                                                                    "fields": [
                                                                                      {"name": "name", "term": {"variable": "typeName"}},
                                                                                      {"name": "fields", "term": {"variable": "updates"}}],
                                                                                    "typeName": "hydra.ext.haskell.ast.ConstructRecordExpression"}}},
                                                                              "typeName": "hydra.ext.haskell.ast.Expression"}},
                                                                          "function": {
                                                                            "typeApplication": {
                                                                              "body": {
                                                                                "typeApplication": {
                                                                                  "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                  "type": {"variable": "hydra.graph.Graph"}}},
                                                                              "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                      "domain": [{"list": {"variable": "hydra.ext.haskell.ast.FieldUpdate"}}],
                                                                      "parameter": "updates"}}},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {"variable": "fields"},
                                                                        "function": {
                                                                          "application": {
                                                                            "argument": {"variable": "toFieldUpdate"},
                                                                            "function": {
                                                                              "typeApplication": {
                                                                                "body": {
                                                                                  "typeApplication": {
                                                                                    "body": {
                                                                                      "typeApplication": {
                                                                                        "body": {"function": {"primitive": "hydra.lib.flows.mapList"}},
                                                                                        "type": {"variable": "hydra.core.Field"}}},
                                                                                    "type": {"variable": "hydra.graph.Graph"}}},
                                                                                "type": {"variable": "hydra.ext.haskell.ast.FieldUpdate"}}}}}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                "type": {"variable": "hydra.graph.Graph"}}},
                                                                            "type": {"list": {"variable": "hydra.ext.haskell.ast.FieldUpdate"}}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}}}},
                                                        "domain": [{"variable": "hydra.core.Record"}],
                                                        "parameter": "record"}}}},
                                                {
                                                  "name": "set",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {
                                                              "application": {
                                                                "argument": {"variable": "s"},
                                                                "function": {"variable": "nonemptySet"}}},
                                                            "function": {
                                                              "application": {
                                                                "argument": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {"literal": {"string": "S.empty"}},
                                                                        "function": {"variable": "hydra.ext.haskell.utils.hsvar"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                            "type": {"variable": "hydra.graph.Graph"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {"variable": "s"},
                                                                        "function": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.sets.null"}},
                                                                            "type": {"variable": "hydra.core.Term"}}}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                                        "type": {
                                                                          "application": {
                                                                            "argument": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                                            "function": {
                                                                              "application": {
                                                                                "argument": {"variable": "hydra.graph.Graph"},
                                                                                "function": {"variable": "hydra.compute.Flow"}}}}}}}}}}}}},
                                                        "domain": [{"set": {"variable": "hydra.core.Term"}}],
                                                        "parameter": "s"}}}},
                                                {
                                                  "name": "typeLambda",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "let": {
                                                            "bindings": [
                                                              {
                                                                "name": "term1",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "abs"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {"record": {"field": "body", "typeName": "hydra.core.TypeLambda"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Term"},
                                                                    "variables": []}]}],
                                                            "body": {
                                                              "application": {
                                                                "argument": {"variable": "term1"},
                                                                "function": {"variable": "encode"}}}}},
                                                        "domain": [{"variable": "hydra.core.TypeLambda"}],
                                                        "parameter": "abs"}}}},
                                                {
                                                  "name": "typeApplication",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "let": {
                                                            "bindings": [
                                                              {
                                                                "name": "term1",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "typed"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {
                                                                          "record": {"field": "body", "typeName": "hydra.core.TypeApplicationTerm"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Term"},
                                                                    "variables": []}]}],
                                                            "body": {
                                                              "application": {
                                                                "argument": {"variable": "term1"},
                                                                "function": {"variable": "encode"}}}}},
                                                        "domain": [{"variable": "hydra.core.TypeApplicationTerm"}],
                                                        "parameter": "typed"}}}},
                                                {
                                                  "name": "union",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "let": {
                                                            "bindings": [
                                                              {
                                                                "name": "sname",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "injection"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {"record": {"field": "typeName", "typeName": "hydra.core.Injection"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Name"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "field",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "injection"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {"record": {"field": "field", "typeName": "hydra.core.Injection"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Field"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "fn",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "field"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {"record": {"field": "name", "typeName": "hydra.core.Field"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Name"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "ft",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "field"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {"record": {"field": "term", "typeName": "hydra.core.Field"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Term"},
                                                                    "variables": []}]}],
                                                            "body": {
                                                              "application": {
                                                                "argument": {
                                                                  "function": {
                                                                    "lambda": {
                                                                      "body": {
                                                                        "let": {
                                                                          "bindings": [
                                                                            {
                                                                              "name": "lhs",
                                                                              "term": {
                                                                                "union": {
                                                                                  "field": {
                                                                                    "name": "variable",
                                                                                    "term": {
                                                                                      "application": {
                                                                                        "argument": {"variable": "fn"},
                                                                                        "function": {
                                                                                          "application": {
                                                                                            "argument": {"variable": "sname"},
                                                                                            "function": {
                                                                                              "application": {
                                                                                                "argument": {"variable": "namespaces"},
                                                                                                "function": {
                                                                                                  "application": {
                                                                                                    "argument": {"variable": "g_ufr2"},
                                                                                                    "function": {"variable": "hydra.ext.haskell.utils.unionFieldReference"}}}}}}}}}},
                                                                                  "typeName": "hydra.ext.haskell.ast.Expression"}},
                                                                              "type": [
                                                                                {
                                                                                  "constraints": null,
                                                                                  "type": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                                                  "variables": []}]},
                                                                            {
                                                                              "name": "dflt",
                                                                              "term": {
                                                                                "application": {
                                                                                  "argument": {
                                                                                    "application": {"argument": {"variable": "ft"}, "function": {"variable": "encode"}}},
                                                                                  "function": {
                                                                                    "application": {
                                                                                      "argument": {
                                                                                        "application": {
                                                                                          "argument": {"variable": "lhs"},
                                                                                          "function": {"variable": "hydra.ext.haskell.utils.hsapp"}}},
                                                                                      "function": {
                                                                                        "typeApplication": {
                                                                                          "body": {
                                                                                            "typeApplication": {
                                                                                              "body": {
                                                                                                "typeApplication": {
                                                                                                  "body": {"function": {"primitive": "hydra.lib.flows.map"}},
                                                                                                  "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                                              "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                                          "type": {"variable": "hydra.graph.Graph"}}}}}}},
                                                                              "type": [
                                                                                {
                                                                                  "constraints": null,
                                                                                  "type": {
                                                                                    "application": {
                                                                                      "argument": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                                                      "function": {
                                                                                        "application": {
                                                                                          "argument": {"variable": "hydra.graph.Graph"},
                                                                                          "function": {"variable": "hydra.compute.Flow"}}}}},
                                                                                  "variables": []}]}],
                                                                          "body": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "function": {
                                                                                  "lambda": {
                                                                                    "body": {
                                                                                      "application": {
                                                                                        "argument": {
                                                                                          "application": {
                                                                                            "argument": {"variable": "ftyp"},
                                                                                            "function": {"variable": "hydra.rewriting.deannotateType"}}},
                                                                                        "function": {
                                                                                          "function": {
                                                                                            "elimination": {
                                                                                              "union": {
                                                                                                "cases": [
                                                                                                  {
                                                                                                    "name": "unit",
                                                                                                    "term": {
                                                                                                      "function": {
                                                                                                        "lambda": {
                                                                                                          "body": {
                                                                                                            "application": {
                                                                                                              "argument": {"variable": "lhs"},
                                                                                                              "function": {
                                                                                                                "typeApplication": {
                                                                                                                  "body": {
                                                                                                                    "typeApplication": {
                                                                                                                      "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                      "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                  "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                                                          "domain": [{"unit": {}}],
                                                                                                          "parameter": "_"}}}}],
                                                                                                "default": [{"variable": "dflt"}],
                                                                                                "typeName": "hydra.core.Type"}}}}}},
                                                                                    "domain": [{"variable": "hydra.core.Type"}],
                                                                                    "parameter": "ftyp"}}},
                                                                              "function": {
                                                                                "application": {
                                                                                  "argument": {
                                                                                    "application": {
                                                                                      "argument": {"variable": "fn"},
                                                                                      "function": {
                                                                                        "application": {
                                                                                          "argument": {"variable": "sname"},
                                                                                          "function": {"variable": "hydra.schemas.requireUnionField"}}}}},
                                                                                  "function": {
                                                                                    "typeApplication": {
                                                                                      "body": {
                                                                                        "typeApplication": {
                                                                                          "body": {
                                                                                            "typeApplication": {
                                                                                              "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                              "type": {"variable": "hydra.graph.Graph"}}},
                                                                                          "type": {"variable": "hydra.core.Type"}}},
                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}}}},
                                                                      "domain": [{"variable": "hydra.graph.Graph"}],
                                                                      "parameter": "g_ufr2"}}},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "typeApplication": {
                                                                        "body": {"variable": "hydra.monads.getState"},
                                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                "type": {"variable": "hydra.graph.Graph"}}},
                                                                            "type": {"variable": "hydra.graph.Graph"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}}}},
                                                        "domain": [{"variable": "hydra.core.Injection"}],
                                                        "parameter": "injection"}}}},
                                                {
                                                  "name": "unit",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {
                                                              "union": {
                                                                "field": {
                                                                  "name": "tuple",
                                                                  "term": {
                                                                    "typeApplication": {
                                                                      "body": {"list": []},
                                                                      "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}},
                                                                "typeName": "hydra.ext.haskell.ast.Expression"}},
                                                            "function": {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "typeApplication": {
                                                                    "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                    "type": {"variable": "hydra.graph.Graph"}}},
                                                                "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                        "domain": [{"unit": {}}],
                                                        "parameter": "_"}}}},
                                                {
                                                  "name": "variable",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {
                                                              "union": {
                                                                "field": {
                                                                  "name": "variable",
                                                                  "term": {
                                                                    "application": {
                                                                      "argument": {"variable": "name"},
                                                                      "function": {
                                                                        "application": {
                                                                          "argument": {"variable": "namespaces"},
                                                                          "function": {"variable": "hydra.ext.haskell.utils.elementReference"}}}}}},
                                                                "typeName": "hydra.ext.haskell.ast.Expression"}},
                                                            "function": {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "typeApplication": {
                                                                    "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                    "type": {"variable": "hydra.graph.Graph"}}},
                                                                "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                        "domain": [{"variable": "hydra.core.Name"}],
                                                        "parameter": "name"}}}},
                                                {
                                                  "name": "wrap",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "let": {
                                                            "bindings": [
                                                              {
                                                                "name": "tname",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "wrapped"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {
                                                                          "record": {"field": "typeName", "typeName": "hydra.core.WrappedTerm"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Name"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "term'",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "wrapped"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {"record": {"field": "body", "typeName": "hydra.core.WrappedTerm"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Term"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "lhs",
                                                                "term": {
                                                                  "union": {
                                                                    "field": {
                                                                      "name": "variable",
                                                                      "term": {
                                                                        "application": {
                                                                          "argument": {"variable": "tname"},
                                                                          "function": {
                                                                            "application": {
                                                                              "argument": {"variable": "namespaces"},
                                                                              "function": {"variable": "hydra.ext.haskell.utils.elementReference"}}}}}},
                                                                    "typeName": "hydra.ext.haskell.ast.Expression"}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                                    "variables": []}]}],
                                                            "body": {
                                                              "application": {
                                                                "argument": {
                                                                  "function": {
                                                                    "lambda": {
                                                                      "body": {
                                                                        "application": {
                                                                          "argument": {
                                                                            "application": {
                                                                              "argument": {"variable": "rhs"},
                                                                              "function": {
                                                                                "application": {
                                                                                  "argument": {"variable": "lhs"},
                                                                                  "function": {"variable": "hydra.ext.haskell.utils.hsapp"}}}}},
                                                                          "function": {
                                                                            "typeApplication": {
                                                                              "body": {
                                                                                "typeApplication": {
                                                                                  "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                  "type": {"variable": "hydra.graph.Graph"}}},
                                                                              "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}},
                                                                      "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                                      "parameter": "rhs"}}},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {"variable": "term'"},
                                                                        "function": {"variable": "encode"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                "type": {"variable": "hydra.graph.Graph"}}},
                                                                            "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}}}},
                                                        "domain": [{"variable": "hydra.core.WrappedTerm"}],
                                                        "parameter": "wrapped"}}}}],
                                              "default": [
                                                {
                                                  "application": {
                                                    "argument": {
                                                      "application": {
                                                        "argument": {
                                                          "application": {
                                                            "argument": {"variable": "term"},
                                                            "function": {"variable": "hydra.show.core.term"}}},
                                                        "function": {
                                                          "application": {
                                                            "argument": {"literal": {"string": "unexpected term: "}},
                                                            "function": {"function": {"primitive": "hydra.lib.strings.cat2"}}}}}},
                                                    "function": {
                                                      "typeApplication": {
                                                        "body": {
                                                          "typeApplication": {
                                                            "body": {"function": {"primitive": "hydra.lib.flows.fail"}},
                                                            "type": {"variable": "hydra.graph.Graph"}}},
                                                        "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}],
                                              "typeName": "hydra.core.Term"}}}}}}}}}}}},
                      "domain": [{"variable": "hydra.core.Term"}],
                      "parameter": "term"}}},
                "domain": [
                  {
                    "application": {
                      "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                      "function": {"variable": "hydra.module.Namespaces"}}}],
                "parameter": "namespaces"}}}}},
      "type": [
        {
          "constraints": null,
          "type": {
            "function": {
              "codomain": {
                "function": {
                  "codomain": {
                    "application": {
                      "argument": {"variable": "hydra.ext.haskell.ast.Expression"},
                      "function": {
                        "application": {
                          "argument": {"variable": "hydra.graph.Graph"},
                          "function": {"variable": "hydra.compute.Flow"}}}}},
                  "domain": {"variable": "hydra.core.Term"}}},
              "domain": {
                "application": {
                  "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                  "function": {"variable": "hydra.module.Namespaces"}}}}},
          "variables": []}]},
    {
      "name": "hydra.ext.haskell.coder.encodeType",
      "term": {
        "typeLambda": {
          "body": {
            "annotated": {
              "annotation": [
                {
                  "@key": "description",
                  "@value": {"literal": {"string": "Encode a Hydra type as a Haskell type"}}}],
              "body": {
                "function": {
                  "lambda": {
                    "body": {
                      "function": {
                        "lambda": {
                          "body": {
                            "let": {
                              "bindings": [
                                {
                                  "name": "encode",
                                  "term": {
                                    "application": {
                                      "argument": {"variable": "namespaces"},
                                      "function": {
                                        "typeApplication": {
                                          "body": {"variable": "hydra.ext.haskell.coder.encodeType"},
                                          "type": {"variable": "t0"}}}}},
                                  "type": [
                                    {
                                      "constraints": null,
                                      "type": {
                                        "function": {
                                          "codomain": {
                                            "application": {
                                              "argument": {"variable": "hydra.ext.haskell.ast.Type"},
                                              "function": {
                                                "application": {
                                                  "argument": {"variable": "t0"},
                                                  "function": {"variable": "hydra.compute.Flow"}}}}},
                                          "domain": {"variable": "hydra.core.Type"}}},
                                      "variables": []}]},
                                {
                                  "name": "ref",
                                  "term": {
                                    "typeLambda": {
                                      "body": {
                                        "function": {
                                          "lambda": {
                                            "body": {
                                              "application": {
                                                "argument": {
                                                  "union": {
                                                    "field": {
                                                      "name": "variable",
                                                      "term": {
                                                        "application": {
                                                          "argument": {"variable": "name"},
                                                          "function": {
                                                            "application": {
                                                              "argument": {"variable": "namespaces"},
                                                              "function": {"variable": "hydra.ext.haskell.utils.elementReference"}}}}}},
                                                    "typeName": "hydra.ext.haskell.ast.Type"}},
                                                "function": {
                                                  "typeApplication": {
                                                    "body": {
                                                      "typeApplication": {
                                                        "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                        "type": {"variable": "t1"}}},
                                                    "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                            "domain": [{"variable": "hydra.core.Name"}],
                                            "parameter": "name"}}},
                                      "parameter": "t1"}},
                                  "type": [
                                    {
                                      "constraints": null,
                                      "type": {
                                        "function": {
                                          "codomain": {
                                            "application": {
                                              "argument": {"variable": "hydra.ext.haskell.ast.Type"},
                                              "function": {
                                                "application": {
                                                  "argument": {"variable": "t1"},
                                                  "function": {"variable": "hydra.compute.Flow"}}}}},
                                          "domain": {"variable": "hydra.core.Name"}}},
                                      "variables": ["t1"]}]},
                                {
                                  "name": "unitTuple",
                                  "term": {
                                    "union": {
                                      "field": {
                                        "name": "tuple",
                                        "term": {
                                          "typeApplication": {
                                            "body": {"list": []},
                                            "type": {"variable": "hydra.ext.haskell.ast.Type"}}}},
                                      "typeName": "hydra.ext.haskell.ast.Type"}},
                                  "type": [
                                    {
                                      "constraints": null,
                                      "type": {"variable": "hydra.ext.haskell.ast.Type"},
                                      "variables": []}]}],
                              "body": {
                                "application": {
                                  "argument": {
                                    "application": {
                                      "argument": {
                                        "application": {
                                          "argument": {"variable": "typ"},
                                          "function": {"variable": "hydra.rewriting.deannotateType"}}},
                                      "function": {
                                        "function": {
                                          "elimination": {
                                            "union": {
                                              "cases": [
                                                {
                                                  "name": "application",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "let": {
                                                            "bindings": [
                                                              {
                                                                "name": "lhs",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "app"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {
                                                                          "record": {"field": "function", "typeName": "hydra.core.ApplicationType"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Type"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "rhs",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "app"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {
                                                                          "record": {"field": "argument", "typeName": "hydra.core.ApplicationType"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Type"},
                                                                    "variables": []}]}],
                                                            "body": {
                                                              "application": {
                                                                "argument": {
                                                                  "function": {
                                                                    "lambda": {
                                                                      "body": {
                                                                        "application": {
                                                                          "argument": {
                                                                            "function": {
                                                                              "lambda": {
                                                                                "body": {
                                                                                  "application": {
                                                                                    "argument": {
                                                                                      "application": {
                                                                                        "argument": {"list": [{"variable": "hlhs"}, {"variable": "hrhs"}]},
                                                                                        "function": {"variable": "hydra.ext.haskell.utils.toTypeApplication"}}},
                                                                                    "function": {
                                                                                      "typeApplication": {
                                                                                        "body": {
                                                                                          "typeApplication": {
                                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                            "type": {"variable": "t0"}}},
                                                                                        "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                                "domain": [{"variable": "hydra.ext.haskell.ast.Type"}],
                                                                                "parameter": "hrhs"}}},
                                                                          "function": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "application": {"argument": {"variable": "rhs"}, "function": {"variable": "encode"}}},
                                                                              "function": {
                                                                                "typeApplication": {
                                                                                  "body": {
                                                                                    "typeApplication": {
                                                                                      "body": {
                                                                                        "typeApplication": {
                                                                                          "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                          "type": {"variable": "t0"}}},
                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                                                  "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}}}},
                                                                      "domain": [{"variable": "hydra.ext.haskell.ast.Type"}],
                                                                      "parameter": "hlhs"}}},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {"argument": {"variable": "lhs"}, "function": {"variable": "encode"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                "type": {"variable": "t0"}}},
                                                                            "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}}}}}},
                                                        "domain": [{"variable": "hydra.core.ApplicationType"}],
                                                        "parameter": "app"}}}},
                                                {
                                                  "name": "either",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "let": {
                                                            "bindings": [
                                                              {
                                                                "name": "left",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "eitherType"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {"record": {"field": "left", "typeName": "hydra.core.EitherType"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Type"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "right",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "eitherType"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {"record": {"field": "right", "typeName": "hydra.core.EitherType"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Type"},
                                                                    "variables": []}]}],
                                                            "body": {
                                                              "application": {
                                                                "argument": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "list": [
                                                                        {
                                                                          "application": {
                                                                            "argument": {
                                                                              "union": {
                                                                                "field": {
                                                                                  "name": "variable",
                                                                                  "term": {
                                                                                    "application": {
                                                                                      "argument": {"literal": {"string": "Either"}},
                                                                                      "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                                                "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                            "function": {
                                                                              "typeApplication": {
                                                                                "body": {
                                                                                  "typeApplication": {
                                                                                    "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                    "type": {"variable": "t0"}}},
                                                                                "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                        {
                                                                          "application": {"argument": {"variable": "left"}, "function": {"variable": "encode"}}},
                                                                        {
                                                                          "application": {
                                                                            "argument": {"variable": "right"},
                                                                            "function": {"variable": "encode"}}}]},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.sequence"}},
                                                                            "type": {"variable": "t0"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {"variable": "hydra.ext.haskell.utils.toTypeApplication"},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {"function": {"primitive": "hydra.lib.flows.map"}},
                                                                                "type": {"list": {"variable": "hydra.ext.haskell.ast.Type"}}}},
                                                                            "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                                        "type": {"variable": "t0"}}}}}}}}},
                                                        "domain": [{"variable": "hydra.core.EitherType"}],
                                                        "parameter": "eitherType"}}}},
                                                {
                                                  "name": "function",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "let": {
                                                            "bindings": [
                                                              {
                                                                "name": "dom",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "funType"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {"record": {"field": "domain", "typeName": "hydra.core.FunctionType"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Type"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "cod",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "funType"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {
                                                                          "record": {"field": "codomain", "typeName": "hydra.core.FunctionType"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Type"},
                                                                    "variables": []}]}],
                                                            "body": {
                                                              "application": {
                                                                "argument": {
                                                                  "function": {
                                                                    "lambda": {
                                                                      "body": {
                                                                        "application": {
                                                                          "argument": {
                                                                            "function": {
                                                                              "lambda": {
                                                                                "body": {
                                                                                  "application": {
                                                                                    "argument": {
                                                                                      "union": {
                                                                                        "field": {
                                                                                          "name": "function",
                                                                                          "term": {
                                                                                            "record": {
                                                                                              "fields": [
                                                                                                {"name": "domain", "term": {"variable": "hdom"}},
                                                                                                {"name": "codomain", "term": {"variable": "hcod"}}],
                                                                                              "typeName": "hydra.ext.haskell.ast.FunctionType"}}},
                                                                                        "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                                    "function": {
                                                                                      "typeApplication": {
                                                                                        "body": {
                                                                                          "typeApplication": {
                                                                                            "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                            "type": {"variable": "t0"}}},
                                                                                        "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                                "domain": [{"variable": "hydra.ext.haskell.ast.Type"}],
                                                                                "parameter": "hcod"}}},
                                                                          "function": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "application": {"argument": {"variable": "cod"}, "function": {"variable": "encode"}}},
                                                                              "function": {
                                                                                "typeApplication": {
                                                                                  "body": {
                                                                                    "typeApplication": {
                                                                                      "body": {
                                                                                        "typeApplication": {
                                                                                          "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                          "type": {"variable": "t0"}}},
                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                                                  "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}}}},
                                                                      "domain": [{"variable": "hydra.ext.haskell.ast.Type"}],
                                                                      "parameter": "hdom"}}},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {"argument": {"variable": "dom"}, "function": {"variable": "encode"}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                "type": {"variable": "t0"}}},
                                                                            "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}}}}}},
                                                        "domain": [{"variable": "hydra.core.FunctionType"}],
                                                        "parameter": "funType"}}}},
                                                {
                                                  "name": "forall",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "let": {
                                                            "bindings": [
                                                              {
                                                                "name": "v",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "forallType"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {
                                                                          "record": {"field": "parameter", "typeName": "hydra.core.ForallType"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Name"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "body",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "forallType"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {"record": {"field": "body", "typeName": "hydra.core.ForallType"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Type"},
                                                                    "variables": []}]}],
                                                            "body": {
                                                              "application": {"argument": {"variable": "body"}, "function": {"variable": "encode"}}}}},
                                                        "domain": [{"variable": "hydra.core.ForallType"}],
                                                        "parameter": "forallType"}}}},
                                                {
                                                  "name": "list",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {
                                                              "function": {
                                                                "lambda": {
                                                                  "body": {
                                                                    "application": {
                                                                      "argument": {
                                                                        "union": {
                                                                          "field": {"name": "list", "term": {"variable": "hlt"}},
                                                                          "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                      "function": {
                                                                        "typeApplication": {
                                                                          "body": {
                                                                            "typeApplication": {
                                                                              "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                              "type": {"variable": "t0"}}},
                                                                          "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                  "domain": [{"variable": "hydra.ext.haskell.ast.Type"}],
                                                                  "parameter": "hlt"}}},
                                                            "function": {
                                                              "application": {
                                                                "argument": {
                                                                  "application": {"argument": {"variable": "lt"}, "function": {"variable": "encode"}}},
                                                                "function": {
                                                                  "typeApplication": {
                                                                    "body": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                            "type": {"variable": "t0"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                                    "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}}}},
                                                        "domain": [{"variable": "hydra.core.Type"}],
                                                        "parameter": "lt"}}}},
                                                {
                                                  "name": "literal",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {"variable": "lt"},
                                                            "function": {
                                                              "function": {
                                                                "elimination": {
                                                                  "union": {
                                                                    "cases": [
                                                                      {
                                                                        "name": "binary",
                                                                        "term": {
                                                                          "function": {
                                                                            "lambda": {
                                                                              "body": {
                                                                                "application": {
                                                                                  "argument": {
                                                                                    "union": {
                                                                                      "field": {
                                                                                        "name": "variable",
                                                                                        "term": {
                                                                                          "application": {
                                                                                            "argument": {"literal": {"string": "B.ByteString"}},
                                                                                            "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                                                      "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                                  "function": {
                                                                                    "typeApplication": {
                                                                                      "body": {
                                                                                        "typeApplication": {
                                                                                          "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                          "type": {"variable": "t0"}}},
                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                              "domain": [{"unit": {}}],
                                                                              "parameter": "_"}}}},
                                                                      {
                                                                        "name": "boolean",
                                                                        "term": {
                                                                          "function": {
                                                                            "lambda": {
                                                                              "body": {
                                                                                "application": {
                                                                                  "argument": {
                                                                                    "union": {
                                                                                      "field": {
                                                                                        "name": "variable",
                                                                                        "term": {
                                                                                          "application": {
                                                                                            "argument": {"literal": {"string": "Bool"}},
                                                                                            "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                                                      "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                                  "function": {
                                                                                    "typeApplication": {
                                                                                      "body": {
                                                                                        "typeApplication": {
                                                                                          "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                          "type": {"variable": "t0"}}},
                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                              "domain": [{"unit": {}}],
                                                                              "parameter": "_"}}}},
                                                                      {
                                                                        "name": "float",
                                                                        "term": {
                                                                          "function": {
                                                                            "lambda": {
                                                                              "body": {
                                                                                "application": {
                                                                                  "argument": {"variable": "ft"},
                                                                                  "function": {
                                                                                    "function": {
                                                                                      "elimination": {
                                                                                        "union": {
                                                                                          "cases": [
                                                                                            {
                                                                                              "name": "float32",
                                                                                              "term": {
                                                                                                "function": {
                                                                                                  "lambda": {
                                                                                                    "body": {
                                                                                                      "application": {
                                                                                                        "argument": {
                                                                                                          "union": {
                                                                                                            "field": {
                                                                                                              "name": "variable",
                                                                                                              "term": {
                                                                                                                "application": {
                                                                                                                  "argument": {"literal": {"string": "Float"}},
                                                                                                                  "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                                                                            "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                                                        "function": {
                                                                                                          "typeApplication": {
                                                                                                            "body": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                "type": {"variable": "t0"}}},
                                                                                                            "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                                                    "domain": [{"unit": {}}],
                                                                                                    "parameter": "_"}}}},
                                                                                            {
                                                                                              "name": "float64",
                                                                                              "term": {
                                                                                                "function": {
                                                                                                  "lambda": {
                                                                                                    "body": {
                                                                                                      "application": {
                                                                                                        "argument": {
                                                                                                          "union": {
                                                                                                            "field": {
                                                                                                              "name": "variable",
                                                                                                              "term": {
                                                                                                                "application": {
                                                                                                                  "argument": {"literal": {"string": "Double"}},
                                                                                                                  "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                                                                            "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                                                        "function": {
                                                                                                          "typeApplication": {
                                                                                                            "body": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                "type": {"variable": "t0"}}},
                                                                                                            "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                                                    "domain": [{"unit": {}}],
                                                                                                    "parameter": "_"}}}},
                                                                                            {
                                                                                              "name": "bigfloat",
                                                                                              "term": {
                                                                                                "function": {
                                                                                                  "lambda": {
                                                                                                    "body": {
                                                                                                      "application": {
                                                                                                        "argument": {
                                                                                                          "union": {
                                                                                                            "field": {
                                                                                                              "name": "variable",
                                                                                                              "term": {
                                                                                                                "application": {
                                                                                                                  "argument": {"literal": {"string": "Double"}},
                                                                                                                  "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                                                                            "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                                                        "function": {
                                                                                                          "typeApplication": {
                                                                                                            "body": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                "type": {"variable": "t0"}}},
                                                                                                            "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                                                    "domain": [{"unit": {}}],
                                                                                                    "parameter": "_"}}}}],
                                                                                          "default": null,
                                                                                          "typeName": "hydra.core.FloatType"}}}}}},
                                                                              "domain": [{"variable": "hydra.core.FloatType"}],
                                                                              "parameter": "ft"}}}},
                                                                      {
                                                                        "name": "integer",
                                                                        "term": {
                                                                          "function": {
                                                                            "lambda": {
                                                                              "body": {
                                                                                "application": {
                                                                                  "argument": {"variable": "it"},
                                                                                  "function": {
                                                                                    "function": {
                                                                                      "elimination": {
                                                                                        "union": {
                                                                                          "cases": [
                                                                                            {
                                                                                              "name": "bigint",
                                                                                              "term": {
                                                                                                "function": {
                                                                                                  "lambda": {
                                                                                                    "body": {
                                                                                                      "application": {
                                                                                                        "argument": {
                                                                                                          "union": {
                                                                                                            "field": {
                                                                                                              "name": "variable",
                                                                                                              "term": {
                                                                                                                "application": {
                                                                                                                  "argument": {"literal": {"string": "Integer"}},
                                                                                                                  "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                                                                            "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                                                        "function": {
                                                                                                          "typeApplication": {
                                                                                                            "body": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                "type": {"variable": "t0"}}},
                                                                                                            "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                                                    "domain": [{"unit": {}}],
                                                                                                    "parameter": "_"}}}},
                                                                                            {
                                                                                              "name": "int8",
                                                                                              "term": {
                                                                                                "function": {
                                                                                                  "lambda": {
                                                                                                    "body": {
                                                                                                      "application": {
                                                                                                        "argument": {
                                                                                                          "union": {
                                                                                                            "field": {
                                                                                                              "name": "variable",
                                                                                                              "term": {
                                                                                                                "application": {
                                                                                                                  "argument": {"literal": {"string": "I.Int8"}},
                                                                                                                  "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                                                                            "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                                                        "function": {
                                                                                                          "typeApplication": {
                                                                                                            "body": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                "type": {"variable": "t0"}}},
                                                                                                            "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                                                    "domain": [{"unit": {}}],
                                                                                                    "parameter": "_"}}}},
                                                                                            {
                                                                                              "name": "int16",
                                                                                              "term": {
                                                                                                "function": {
                                                                                                  "lambda": {
                                                                                                    "body": {
                                                                                                      "application": {
                                                                                                        "argument": {
                                                                                                          "union": {
                                                                                                            "field": {
                                                                                                              "name": "variable",
                                                                                                              "term": {
                                                                                                                "application": {
                                                                                                                  "argument": {"literal": {"string": "I.Int16"}},
                                                                                                                  "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                                                                            "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                                                        "function": {
                                                                                                          "typeApplication": {
                                                                                                            "body": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                "type": {"variable": "t0"}}},
                                                                                                            "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                                                    "domain": [{"unit": {}}],
                                                                                                    "parameter": "_"}}}},
                                                                                            {
                                                                                              "name": "int32",
                                                                                              "term": {
                                                                                                "function": {
                                                                                                  "lambda": {
                                                                                                    "body": {
                                                                                                      "application": {
                                                                                                        "argument": {
                                                                                                          "union": {
                                                                                                            "field": {
                                                                                                              "name": "variable",
                                                                                                              "term": {
                                                                                                                "application": {
                                                                                                                  "argument": {"literal": {"string": "Int"}},
                                                                                                                  "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                                                                            "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                                                        "function": {
                                                                                                          "typeApplication": {
                                                                                                            "body": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                "type": {"variable": "t0"}}},
                                                                                                            "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                                                    "domain": [{"unit": {}}],
                                                                                                    "parameter": "_"}}}},
                                                                                            {
                                                                                              "name": "int64",
                                                                                              "term": {
                                                                                                "function": {
                                                                                                  "lambda": {
                                                                                                    "body": {
                                                                                                      "application": {
                                                                                                        "argument": {
                                                                                                          "union": {
                                                                                                            "field": {
                                                                                                              "name": "variable",
                                                                                                              "term": {
                                                                                                                "application": {
                                                                                                                  "argument": {"literal": {"string": "I.Int64"}},
                                                                                                                  "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                                                                            "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                                                        "function": {
                                                                                                          "typeApplication": {
                                                                                                            "body": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                "type": {"variable": "t0"}}},
                                                                                                            "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                                                    "domain": [{"unit": {}}],
                                                                                                    "parameter": "_"}}}}],
                                                                                          "default": [
                                                                                            {
                                                                                              "application": {
                                                                                                "argument": {
                                                                                                  "application": {
                                                                                                    "argument": {
                                                                                                      "application": {
                                                                                                        "argument": {"variable": "it"},
                                                                                                        "function": {"variable": "hydra.show.core.integerType"}}},
                                                                                                    "function": {
                                                                                                      "application": {
                                                                                                        "argument": {"literal": {"string": "unexpected integer type: "}},
                                                                                                        "function": {"function": {"primitive": "hydra.lib.strings.cat2"}}}}}},
                                                                                                "function": {
                                                                                                  "typeApplication": {
                                                                                                    "body": {
                                                                                                      "typeApplication": {
                                                                                                        "body": {"function": {"primitive": "hydra.lib.flows.fail"}},
                                                                                                        "type": {"variable": "t0"}}},
                                                                                                    "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}}],
                                                                                          "typeName": "hydra.core.IntegerType"}}}}}},
                                                                              "domain": [{"variable": "hydra.core.IntegerType"}],
                                                                              "parameter": "it"}}}},
                                                                      {
                                                                        "name": "string",
                                                                        "term": {
                                                                          "function": {
                                                                            "lambda": {
                                                                              "body": {
                                                                                "application": {
                                                                                  "argument": {
                                                                                    "union": {
                                                                                      "field": {
                                                                                        "name": "variable",
                                                                                        "term": {
                                                                                          "application": {
                                                                                            "argument": {"literal": {"string": "String"}},
                                                                                            "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                                                      "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                                  "function": {
                                                                                    "typeApplication": {
                                                                                      "body": {
                                                                                        "typeApplication": {
                                                                                          "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                          "type": {"variable": "t0"}}},
                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                              "domain": [{"unit": {}}],
                                                                              "parameter": "_"}}}}],
                                                                    "default": [
                                                                      {
                                                                        "application": {
                                                                          "argument": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "application": {
                                                                                  "argument": {"variable": "lt"},
                                                                                  "function": {"variable": "hydra.show.core.literalType"}}},
                                                                              "function": {
                                                                                "application": {
                                                                                  "argument": {"literal": {"string": "unexpected literal type: "}},
                                                                                  "function": {"function": {"primitive": "hydra.lib.strings.cat2"}}}}}},
                                                                          "function": {
                                                                            "typeApplication": {
                                                                              "body": {
                                                                                "typeApplication": {
                                                                                  "body": {"function": {"primitive": "hydra.lib.flows.fail"}},
                                                                                  "type": {"variable": "t0"}}},
                                                                              "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}}],
                                                                    "typeName": "hydra.core.LiteralType"}}}}}},
                                                        "domain": [{"variable": "hydra.core.LiteralType"}],
                                                        "parameter": "lt"}}}},
                                                {
                                                  "name": "map",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "let": {
                                                            "bindings": [
                                                              {
                                                                "name": "kt",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "mapType"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {"record": {"field": "keys", "typeName": "hydra.core.MapType"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Type"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "vt",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "mapType"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {"record": {"field": "values", "typeName": "hydra.core.MapType"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Type"},
                                                                    "variables": []}]}],
                                                            "body": {
                                                              "application": {
                                                                "argument": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "list": [
                                                                        {
                                                                          "application": {
                                                                            "argument": {
                                                                              "union": {
                                                                                "field": {
                                                                                  "name": "variable",
                                                                                  "term": {
                                                                                    "application": {
                                                                                      "argument": {"literal": {"string": "M.Map"}},
                                                                                      "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                                                "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                            "function": {
                                                                              "typeApplication": {
                                                                                "body": {
                                                                                  "typeApplication": {
                                                                                    "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                    "type": {"variable": "t0"}}},
                                                                                "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                        {
                                                                          "application": {"argument": {"variable": "kt"}, "function": {"variable": "encode"}}},
                                                                        {
                                                                          "application": {"argument": {"variable": "vt"}, "function": {"variable": "encode"}}}]},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.sequence"}},
                                                                            "type": {"variable": "t0"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {"variable": "hydra.ext.haskell.utils.toTypeApplication"},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {"function": {"primitive": "hydra.lib.flows.map"}},
                                                                                "type": {"list": {"variable": "hydra.ext.haskell.ast.Type"}}}},
                                                                            "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                                        "type": {"variable": "t0"}}}}}}}}},
                                                        "domain": [{"variable": "hydra.core.MapType"}],
                                                        "parameter": "mapType"}}}},
                                                {
                                                  "name": "maybe",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {
                                                              "application": {
                                                                "argument": {
                                                                  "list": [
                                                                    {
                                                                      "application": {
                                                                        "argument": {
                                                                          "union": {
                                                                            "field": {
                                                                              "name": "variable",
                                                                              "term": {
                                                                                "application": {
                                                                                  "argument": {"literal": {"string": "Maybe"}},
                                                                                  "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                                            "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                        "function": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                "type": {"variable": "t0"}}},
                                                                            "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                    {
                                                                      "application": {"argument": {"variable": "ot"}, "function": {"variable": "encode"}}}]},
                                                                "function": {
                                                                  "typeApplication": {
                                                                    "body": {
                                                                      "typeApplication": {
                                                                        "body": {"function": {"primitive": "hydra.lib.flows.sequence"}},
                                                                        "type": {"variable": "t0"}}},
                                                                    "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                            "function": {
                                                              "application": {
                                                                "argument": {"variable": "hydra.ext.haskell.utils.toTypeApplication"},
                                                                "function": {
                                                                  "typeApplication": {
                                                                    "body": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.map"}},
                                                                            "type": {"list": {"variable": "hydra.ext.haskell.ast.Type"}}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                                    "type": {"variable": "t0"}}}}}}},
                                                        "domain": [{"variable": "hydra.core.Type"}],
                                                        "parameter": "ot"}}}},
                                                {
                                                  "name": "pair",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {
                                                              "function": {
                                                                "lambda": {
                                                                  "body": {
                                                                    "application": {
                                                                      "argument": {
                                                                        "function": {
                                                                          "lambda": {
                                                                            "body": {
                                                                              "application": {
                                                                                "argument": {
                                                                                  "union": {
                                                                                    "field": {
                                                                                      "name": "tuple",
                                                                                      "term": {"list": [{"variable": "f"}, {"variable": "s"}]}},
                                                                                    "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                                "function": {
                                                                                  "typeApplication": {
                                                                                    "body": {
                                                                                      "typeApplication": {
                                                                                        "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                        "type": {"variable": "t0"}}},
                                                                                    "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                            "domain": [{"variable": "hydra.ext.haskell.ast.Type"}],
                                                                            "parameter": "s"}}},
                                                                      "function": {
                                                                        "application": {
                                                                          "argument": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "application": {
                                                                                  "argument": {"variable": "pt"},
                                                                                  "function": {
                                                                                    "function": {
                                                                                      "elimination": {"record": {"field": "second", "typeName": "hydra.core.PairType"}}}}}},
                                                                              "function": {"variable": "encode"}}},
                                                                          "function": {
                                                                            "typeApplication": {
                                                                              "body": {
                                                                                "typeApplication": {
                                                                                  "body": {
                                                                                    "typeApplication": {
                                                                                      "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                      "type": {"variable": "t0"}}},
                                                                                  "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                                              "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}}}},
                                                                  "domain": [{"variable": "hydra.ext.haskell.ast.Type"}],
                                                                  "parameter": "f"}}},
                                                            "function": {
                                                              "application": {
                                                                "argument": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {"variable": "pt"},
                                                                        "function": {
                                                                          "function": {
                                                                            "elimination": {"record": {"field": "first", "typeName": "hydra.core.PairType"}}}}}},
                                                                    "function": {"variable": "encode"}}},
                                                                "function": {
                                                                  "typeApplication": {
                                                                    "body": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                            "type": {"variable": "t0"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                                    "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}}}},
                                                        "domain": [{"variable": "hydra.core.PairType"}],
                                                        "parameter": "pt"}}}},
                                                {
                                                  "name": "record",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {
                                                              "application": {
                                                                "argument": {"variable": "rt"},
                                                                "function": {
                                                                  "function": {
                                                                    "elimination": {"record": {"field": "typeName", "typeName": "hydra.core.RowType"}}}}}},
                                                            "function": {
                                                              "typeApplication": {"body": {"variable": "ref"}, "type": {"variable": "t0"}}}}},
                                                        "domain": [{"variable": "hydra.core.RowType"}],
                                                        "parameter": "rt"}}}},
                                                {
                                                  "name": "set",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {
                                                              "application": {
                                                                "argument": {
                                                                  "list": [
                                                                    {
                                                                      "application": {
                                                                        "argument": {
                                                                          "union": {
                                                                            "field": {
                                                                              "name": "variable",
                                                                              "term": {
                                                                                "application": {
                                                                                  "argument": {"literal": {"string": "S.Set"}},
                                                                                  "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                                            "typeName": "hydra.ext.haskell.ast.Type"}},
                                                                        "function": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                "type": {"variable": "t0"}}},
                                                                            "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                                    {
                                                                      "application": {"argument": {"variable": "st"}, "function": {"variable": "encode"}}}]},
                                                                "function": {
                                                                  "typeApplication": {
                                                                    "body": {
                                                                      "typeApplication": {
                                                                        "body": {"function": {"primitive": "hydra.lib.flows.sequence"}},
                                                                        "type": {"variable": "t0"}}},
                                                                    "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                            "function": {
                                                              "application": {
                                                                "argument": {"variable": "hydra.ext.haskell.utils.toTypeApplication"},
                                                                "function": {
                                                                  "typeApplication": {
                                                                    "body": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.flows.map"}},
                                                                            "type": {"list": {"variable": "hydra.ext.haskell.ast.Type"}}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                                    "type": {"variable": "t0"}}}}}}},
                                                        "domain": [{"variable": "hydra.core.Type"}],
                                                        "parameter": "st"}}}},
                                                {
                                                  "name": "union",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "let": {
                                                            "bindings": [
                                                              {
                                                                "name": "typeName",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "rt"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {"record": {"field": "typeName", "typeName": "hydra.core.RowType"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Name"},
                                                                    "variables": []}]}],
                                                            "body": {
                                                              "application": {
                                                                "argument": {"variable": "typeName"},
                                                                "function": {
                                                                  "typeApplication": {"body": {"variable": "ref"}, "type": {"variable": "t0"}}}}}}},
                                                        "domain": [{"variable": "hydra.core.RowType"}],
                                                        "parameter": "rt"}}}},
                                                {
                                                  "name": "unit",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {"variable": "unitTuple"},
                                                            "function": {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "typeApplication": {
                                                                    "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                    "type": {"variable": "t0"}}},
                                                                "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                        "domain": [{"unit": {}}],
                                                        "parameter": "_"}}}},
                                                {
                                                  "name": "variable",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "application": {
                                                            "argument": {"variable": "v1"},
                                                            "function": {
                                                              "typeApplication": {"body": {"variable": "ref"}, "type": {"variable": "t0"}}}}},
                                                        "domain": [{"variable": "hydra.core.Name"}],
                                                        "parameter": "v1"}}}},
                                                {
                                                  "name": "wrap",
                                                  "term": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "let": {
                                                            "bindings": [
                                                              {
                                                                "name": "name",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "wrapped"},
                                                                    "function": {
                                                                      "function": {
                                                                        "elimination": {
                                                                          "record": {"field": "typeName", "typeName": "hydra.core.WrappedType"}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Name"},
                                                                    "variables": []}]}],
                                                            "body": {
                                                              "application": {
                                                                "argument": {"variable": "name"},
                                                                "function": {
                                                                  "typeApplication": {"body": {"variable": "ref"}, "type": {"variable": "t0"}}}}}}},
                                                        "domain": [{"variable": "hydra.core.WrappedType"}],
                                                        "parameter": "wrapped"}}}}],
                                              "default": [
                                                {
                                                  "application": {
                                                    "argument": {
                                                      "application": {
                                                        "argument": {
                                                          "application": {
                                                            "argument": {"variable": "typ"},
                                                            "function": {"variable": "hydra.show.core.type"}}},
                                                        "function": {
                                                          "application": {
                                                            "argument": {"literal": {"string": "unexpected type: "}},
                                                            "function": {"function": {"primitive": "hydra.lib.strings.cat2"}}}}}},
                                                    "function": {
                                                      "typeApplication": {
                                                        "body": {
                                                          "typeApplication": {
                                                            "body": {"function": {"primitive": "hydra.lib.flows.fail"}},
                                                            "type": {"variable": "t0"}}},
                                                        "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}}],
                                              "typeName": "hydra.core.Type"}}}}}},
                                  "function": {
                                    "application": {
                                      "argument": {"literal": {"string": "encode type"}},
                                      "function": {
                                        "typeApplication": {
                                          "body": {
                                            "typeApplication": {
                                              "body": {"variable": "hydra.monads.withTrace"},
                                              "type": {"variable": "t0"}}},
                                          "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}}}}}},
                          "domain": [{"variable": "hydra.core.Type"}],
                          "parameter": "typ"}}},
                    "domain": [
                      {
                        "application": {
                          "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                          "function": {"variable": "hydra.module.Namespaces"}}}],
                    "parameter": "namespaces"}}}}},
          "parameter": "t0"}},
      "type": [
        {
          "constraints": null,
          "type": {
            "function": {
              "codomain": {
                "function": {
                  "codomain": {
                    "application": {
                      "argument": {"variable": "hydra.ext.haskell.ast.Type"},
                      "function": {
                        "application": {
                          "argument": {"variable": "t0"},
                          "function": {"variable": "hydra.compute.Flow"}}}}},
                  "domain": {"variable": "hydra.core.Type"}}},
              "domain": {
                "application": {
                  "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                  "function": {"variable": "hydra.module.Namespaces"}}}}},
          "variables": ["t0"]}]},
    {
      "name": "hydra.ext.haskell.coder.encodeTypeWithClassAssertions",
      "term": {
        "annotated": {
          "annotation": [
            {
              "@key": "description",
              "@value": {
                "literal": {
                  "string": "Encode a Hydra type as a Haskell type with typeclass assertions"}}}],
          "body": {
            "function": {
              "lambda": {
                "body": {
                  "function": {
                    "lambda": {
                      "body": {
                        "function": {
                          "lambda": {
                            "body": {
                              "let": {
                                "bindings": [
                                  {
                                    "name": "classes",
                                    "term": {
                                      "application": {
                                        "argument": {
                                          "application": {
                                            "argument": {"variable": "typ"},
                                            "function": {"variable": "hydra.ext.haskell.coder.getImplicitTypeClasses"}}},
                                        "function": {
                                          "application": {
                                            "argument": {"variable": "explicitClasses"},
                                            "function": {
                                              "typeApplication": {
                                                "body": {
                                                  "typeApplication": {
                                                    "body": {"function": {"primitive": "hydra.lib.maps.union"}},
                                                    "type": {"variable": "hydra.core.Name"}}},
                                                "type": {"set": {"variable": "hydra.classes.TypeClass"}}}}}}}},
                                    "type": [
                                      {
                                        "constraints": null,
                                        "type": {
                                          "map": {
                                            "keys": {"variable": "hydra.core.Name"},
                                            "values": {"set": {"variable": "hydra.classes.TypeClass"}}}},
                                        "variables": []}]},
                                  {
                                    "name": "implicitClasses",
                                    "term": {
                                      "application": {
                                        "argument": {"variable": "typ"},
                                        "function": {"variable": "hydra.ext.haskell.coder.getImplicitTypeClasses"}}},
                                    "type": [
                                      {
                                        "constraints": null,
                                        "type": {
                                          "map": {
                                            "keys": {"variable": "hydra.core.Name"},
                                            "values": {"set": {"variable": "hydra.classes.TypeClass"}}}},
                                        "variables": []}]},
                                  {
                                    "name": "encodeAssertion",
                                    "term": {
                                      "function": {
                                        "lambda": {
                                          "body": {
                                            "let": {
                                              "bindings": [
                                                {
                                                  "name": "name",
                                                  "term": {
                                                    "application": {
                                                      "argument": {"variable": "pair"},
                                                      "function": {
                                                        "typeApplication": {
                                                          "body": {
                                                            "typeApplication": {
                                                              "body": {"function": {"primitive": "hydra.lib.pairs.first"}},
                                                              "type": {"variable": "hydra.core.Name"}}},
                                                          "type": {"variable": "hydra.classes.TypeClass"}}}}},
                                                  "type": [
                                                    {
                                                      "constraints": null,
                                                      "type": {"variable": "hydra.core.Name"},
                                                      "variables": []}]},
                                                {
                                                  "name": "cls",
                                                  "term": {
                                                    "application": {
                                                      "argument": {"variable": "pair"},
                                                      "function": {
                                                        "typeApplication": {
                                                          "body": {
                                                            "typeApplication": {
                                                              "body": {"function": {"primitive": "hydra.lib.pairs.second"}},
                                                              "type": {"variable": "hydra.core.Name"}}},
                                                          "type": {"variable": "hydra.classes.TypeClass"}}}}},
                                                  "type": [
                                                    {
                                                      "constraints": null,
                                                      "type": {"variable": "hydra.classes.TypeClass"},
                                                      "variables": []}]},
                                                {
                                                  "name": "hname",
                                                  "term": {
                                                    "application": {
                                                      "argument": {
                                                        "application": {
                                                          "argument": {"variable": "cls"},
                                                          "function": {
                                                            "function": {
                                                              "elimination": {
                                                                "union": {
                                                                  "cases": [
                                                                    {
                                                                      "name": "equality",
                                                                      "term": {
                                                                        "function": {
                                                                          "lambda": {
                                                                            "body": {"literal": {"string": "Eq"}},
                                                                            "domain": [{"unit": {}}],
                                                                            "parameter": "_"}}}},
                                                                    {
                                                                      "name": "ordering",
                                                                      "term": {
                                                                        "function": {
                                                                          "lambda": {
                                                                            "body": {"literal": {"string": "Ord"}},
                                                                            "domain": [{"unit": {}}],
                                                                            "parameter": "_"}}}}],
                                                                  "default": null,
                                                                  "typeName": "hydra.classes.TypeClass"}}}}}},
                                                      "function": {"variable": "hydra.ext.haskell.utils.rawName"}}},
                                                  "type": [
                                                    {
                                                      "constraints": null,
                                                      "type": {"variable": "hydra.ext.haskell.ast.Name"},
                                                      "variables": []}]},
                                                {
                                                  "name": "htype",
                                                  "term": {
                                                    "union": {
                                                      "field": {
                                                        "name": "variable",
                                                        "term": {
                                                          "application": {
                                                            "argument": {
                                                              "application": {
                                                                "argument": {"variable": "name"},
                                                                "function": {"function": {"elimination": {"wrap": "hydra.core.Name"}}}}},
                                                            "function": {"variable": "hydra.ext.haskell.utils.rawName"}}}},
                                                      "typeName": "hydra.ext.haskell.ast.Type"}},
                                                  "type": [
                                                    {
                                                      "constraints": null,
                                                      "type": {"variable": "hydra.ext.haskell.ast.Type"},
                                                      "variables": []}]}],
                                              "body": {
                                                "union": {
                                                  "field": {
                                                    "name": "class",
                                                    "term": {
                                                      "record": {
                                                        "fields": [
                                                          {"name": "name", "term": {"variable": "hname"}},
                                                          {"name": "types", "term": {"list": [{"variable": "htype"}]}}],
                                                        "typeName": "hydra.ext.haskell.ast.ClassAssertion"}}},
                                                  "typeName": "hydra.ext.haskell.ast.Assertion"}}}},
                                          "domain": [
                                            {
                                              "pair": {
                                                "first": {"variable": "hydra.core.Name"},
                                                "second": {"variable": "hydra.classes.TypeClass"}}}],
                                          "parameter": "pair"}}},
                                    "type": [
                                      {
                                        "constraints": null,
                                        "type": {
                                          "function": {
                                            "codomain": {"variable": "hydra.ext.haskell.ast.Assertion"},
                                            "domain": {
                                              "pair": {
                                                "first": {"variable": "hydra.core.Name"},
                                                "second": {"variable": "hydra.classes.TypeClass"}}}}},
                                        "variables": []}]},
                                  {
                                    "name": "assertPairs",
                                    "term": {
                                      "application": {
                                        "argument": {
                                          "application": {
                                            "argument": {
                                              "application": {
                                                "argument": {"variable": "classes"},
                                                "function": {
                                                  "typeApplication": {
                                                    "body": {
                                                      "typeApplication": {
                                                        "body": {"function": {"primitive": "hydra.lib.maps.toList"}},
                                                        "type": {"variable": "hydra.core.Name"}}},
                                                    "type": {"set": {"variable": "hydra.classes.TypeClass"}}}}}},
                                            "function": {
                                              "application": {
                                                "argument": {
                                                  "typeApplication": {
                                                    "body": {
                                                      "typeApplication": {
                                                        "body": {"variable": "toPairs"},
                                                        "type": {"variable": "hydra.core.Name"}}},
                                                    "type": {"variable": "hydra.classes.TypeClass"}}},
                                                "function": {
                                                  "typeApplication": {
                                                    "body": {
                                                      "typeApplication": {
                                                        "body": {"function": {"primitive": "hydra.lib.lists.map"}},
                                                        "type": {
                                                          "pair": {
                                                            "first": {"variable": "hydra.core.Name"},
                                                            "second": {"set": {"variable": "hydra.classes.TypeClass"}}}}}},
                                                    "type": {
                                                      "list": {
                                                        "pair": {
                                                          "first": {"variable": "hydra.core.Name"},
                                                          "second": {"variable": "hydra.classes.TypeClass"}}}}}}}}}},
                                        "function": {
                                          "typeApplication": {
                                            "body": {"function": {"primitive": "hydra.lib.lists.concat"}},
                                            "type": {
                                              "pair": {
                                                "first": {"variable": "hydra.core.Name"},
                                                "second": {"variable": "hydra.classes.TypeClass"}}}}}}},
                                    "type": [
                                      {
                                        "constraints": null,
                                        "type": {
                                          "list": {
                                            "pair": {
                                              "first": {"variable": "hydra.core.Name"},
                                              "second": {"variable": "hydra.classes.TypeClass"}}}},
                                        "variables": []}]},
                                  {
                                    "name": "toPairs",
                                    "term": {
                                      "typeLambda": {
                                        "body": {
                                          "typeLambda": {
                                            "body": {
                                              "function": {
                                                "lambda": {
                                                  "body": {
                                                    "let": {
                                                      "bindings": [
                                                        {
                                                          "name": "name",
                                                          "term": {
                                                            "application": {
                                                              "argument": {"variable": "mapEntry"},
                                                              "function": {
                                                                "typeApplication": {
                                                                  "body": {
                                                                    "typeApplication": {
                                                                      "body": {"function": {"primitive": "hydra.lib.pairs.first"}},
                                                                      "type": {"variable": "t0"}}},
                                                                  "type": {"set": {"variable": "t1"}}}}}},
                                                          "type": [{"constraints": null, "type": {"variable": "t0"}, "variables": []}]},
                                                        {
                                                          "name": "clsSet",
                                                          "term": {
                                                            "application": {
                                                              "argument": {"variable": "mapEntry"},
                                                              "function": {
                                                                "typeApplication": {
                                                                  "body": {
                                                                    "typeApplication": {
                                                                      "body": {"function": {"primitive": "hydra.lib.pairs.second"}},
                                                                      "type": {"variable": "t0"}}},
                                                                  "type": {"set": {"variable": "t1"}}}}}},
                                                          "type": [
                                                            {
                                                              "constraints": null,
                                                              "type": {"set": {"variable": "t1"}},
                                                              "variables": []}]},
                                                        {
                                                          "name": "toPair",
                                                          "term": {
                                                            "typeLambda": {
                                                              "body": {
                                                                "function": {
                                                                  "lambda": {
                                                                    "body": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "pair": {"@first": {"variable": "name"}, "@second": {"variable": "c"}}},
                                                                            "type": {"variable": "t0"}}},
                                                                        "type": {"variable": "t2"}}},
                                                                    "domain": [{"variable": "t2"}],
                                                                    "parameter": "c"}}},
                                                              "parameter": "t2"}},
                                                          "type": [
                                                            {
                                                              "constraints": null,
                                                              "type": {
                                                                "function": {
                                                                  "codomain": {"pair": {"first": {"variable": "t0"}, "second": {"variable": "t2"}}},
                                                                  "domain": {"variable": "t2"}}},
                                                              "variables": ["t2"]}]}],
                                                      "body": {
                                                        "application": {
                                                          "argument": {
                                                            "application": {
                                                              "argument": {"variable": "clsSet"},
                                                              "function": {
                                                                "typeApplication": {
                                                                  "body": {"function": {"primitive": "hydra.lib.sets.toList"}},
                                                                  "type": {"variable": "t1"}}}}},
                                                          "function": {
                                                            "application": {
                                                              "argument": {
                                                                "typeApplication": {"body": {"variable": "toPair"}, "type": {"variable": "t1"}}},
                                                              "function": {
                                                                "typeApplication": {
                                                                  "body": {
                                                                    "typeApplication": {
                                                                      "body": {"function": {"primitive": "hydra.lib.lists.map"}},
                                                                      "type": {"variable": "t1"}}},
                                                                  "type": {"pair": {"first": {"variable": "t0"}, "second": {"variable": "t1"}}}}}}}}}}},
                                                  "domain": [
                                                    {
                                                      "pair": {"first": {"variable": "t0"}, "second": {"set": {"variable": "t1"}}}}],
                                                  "parameter": "mapEntry"}}},
                                            "parameter": "t1"}},
                                        "parameter": "t0"}},
                                    "type": [
                                      {
                                        "constraints": [[{"@key": "t1", "@value": {"classes": ["ordering"]}}]],
                                        "type": {
                                          "function": {
                                            "codomain": {
                                              "list": {"pair": {"first": {"variable": "t0"}, "second": {"variable": "t1"}}}},
                                            "domain": {
                                              "pair": {"first": {"variable": "t0"}, "second": {"set": {"variable": "t1"}}}}}},
                                        "variables": ["t0", "t1"]}]}],
                                "body": {
                                  "application": {
                                    "argument": {
                                      "application": {
                                        "argument": {
                                          "function": {
                                            "lambda": {
                                              "body": {
                                                "application": {
                                                  "argument": {
                                                    "let": {
                                                      "bindings": [
                                                        {
                                                          "name": "encoded",
                                                          "term": {
                                                            "application": {
                                                              "argument": {"variable": "assertPairs"},
                                                              "function": {
                                                                "application": {
                                                                  "argument": {"variable": "encodeAssertion"},
                                                                  "function": {
                                                                    "typeApplication": {
                                                                      "body": {
                                                                        "typeApplication": {
                                                                          "body": {"function": {"primitive": "hydra.lib.lists.map"}},
                                                                          "type": {
                                                                            "pair": {
                                                                              "first": {"variable": "hydra.core.Name"},
                                                                              "second": {"variable": "hydra.classes.TypeClass"}}}}},
                                                                      "type": {"variable": "hydra.ext.haskell.ast.Assertion"}}}}}}},
                                                          "type": [
                                                            {
                                                              "constraints": null,
                                                              "type": {"list": {"variable": "hydra.ext.haskell.ast.Assertion"}},
                                                              "variables": []}]},
                                                        {
                                                          "name": "hassert",
                                                          "term": {
                                                            "application": {
                                                              "argument": {
                                                                "union": {
                                                                  "field": {"name": "tuple", "term": {"variable": "encoded"}},
                                                                  "typeName": "hydra.ext.haskell.ast.Assertion"}},
                                                              "function": {
                                                                "application": {
                                                                  "argument": {
                                                                    "application": {
                                                                      "argument": {"variable": "encoded"},
                                                                      "function": {
                                                                        "typeApplication": {
                                                                          "body": {"function": {"primitive": "hydra.lib.lists.head"}},
                                                                          "type": {"variable": "hydra.ext.haskell.ast.Assertion"}}}}},
                                                                  "function": {
                                                                    "application": {
                                                                      "argument": {
                                                                        "application": {
                                                                          "argument": {"literal": {"integer": {"int32": 1}}},
                                                                          "function": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "application": {
                                                                                  "argument": {"variable": "encoded"},
                                                                                  "function": {
                                                                                    "typeApplication": {
                                                                                      "body": {"function": {"primitive": "hydra.lib.lists.length"}},
                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Assertion"}}}}},
                                                                              "function": {
                                                                                "typeApplication": {
                                                                                  "body": {"function": {"primitive": "hydra.lib.equality.equal"}},
                                                                                  "type": {"literal": {"integer": {"int32": {}}}}}}}}}},
                                                                      "function": {
                                                                        "typeApplication": {
                                                                          "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                                          "type": {"variable": "hydra.ext.haskell.ast.Assertion"}}}}}}}}},
                                                          "type": [
                                                            {
                                                              "constraints": null,
                                                              "type": {"variable": "hydra.ext.haskell.ast.Assertion"},
                                                              "variables": []}]}],
                                                      "body": {
                                                        "application": {
                                                          "argument": {
                                                            "union": {
                                                              "field": {
                                                                "name": "ctx",
                                                                "term": {
                                                                  "record": {
                                                                    "fields": [
                                                                      {"name": "ctx", "term": {"variable": "hassert"}},
                                                                      {"name": "type", "term": {"variable": "htyp"}}],
                                                                    "typeName": "hydra.ext.haskell.ast.ContextType"}}},
                                                              "typeName": "hydra.ext.haskell.ast.Type"}},
                                                          "function": {
                                                            "typeApplication": {
                                                              "body": {
                                                                "typeApplication": {
                                                                  "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                  "type": {"variable": "hydra.graph.Graph"}}},
                                                              "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}}}},
                                                  "function": {
                                                    "application": {
                                                      "argument": {
                                                        "application": {
                                                          "argument": {"variable": "htyp"},
                                                          "function": {
                                                            "typeApplication": {
                                                              "body": {
                                                                "typeApplication": {
                                                                  "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                  "type": {"variable": "hydra.graph.Graph"}}},
                                                              "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}},
                                                      "function": {
                                                        "application": {
                                                          "argument": {
                                                            "application": {
                                                              "argument": {"variable": "assertPairs"},
                                                              "function": {
                                                                "typeApplication": {
                                                                  "body": {"function": {"primitive": "hydra.lib.lists.null"}},
                                                                  "type": {
                                                                    "pair": {
                                                                      "first": {"variable": "hydra.core.Name"},
                                                                      "second": {"variable": "hydra.classes.TypeClass"}}}}}}},
                                                          "function": {
                                                            "typeApplication": {
                                                              "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                              "type": {
                                                                "application": {
                                                                  "argument": {"variable": "hydra.ext.haskell.ast.Type"},
                                                                  "function": {
                                                                    "application": {
                                                                      "argument": {"variable": "hydra.graph.Graph"},
                                                                      "function": {"variable": "hydra.compute.Flow"}}}}}}}}}}}}},
                                              "domain": [{"variable": "hydra.ext.haskell.ast.Type"}],
                                              "parameter": "htyp"}}},
                                        "function": {
                                          "application": {
                                            "argument": {
                                              "application": {
                                                "argument": {"variable": "typ"},
                                                "function": {
                                                  "application": {
                                                    "argument": {"variable": "namespaces"},
                                                    "function": {"variable": "hydra.ext.haskell.coder.adaptTypeToHaskellAndEncode"}}}}},
                                            "function": {
                                              "typeApplication": {
                                                "body": {
                                                  "typeApplication": {
                                                    "body": {
                                                      "typeApplication": {
                                                        "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                    "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}}}},
                                    "function": {
                                      "application": {
                                        "argument": {"literal": {"string": "encode with assertions"}},
                                        "function": {
                                          "typeApplication": {
                                            "body": {
                                              "typeApplication": {
                                                "body": {"variable": "hydra.monads.withTrace"},
                                                "type": {"variable": "hydra.graph.Graph"}}},
                                            "type": {"variable": "hydra.ext.haskell.ast.Type"}}}}}}}}},
                            "domain": [{"variable": "hydra.core.Type"}],
                            "parameter": "typ"}}},
                      "domain": [
                        {
                          "map": {
                            "keys": {"variable": "hydra.core.Name"},
                            "values": {"set": {"variable": "hydra.classes.TypeClass"}}}}],
                      "parameter": "explicitClasses"}}},
                "domain": [
                  {
                    "application": {
                      "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                      "function": {"variable": "hydra.module.Namespaces"}}}],
                "parameter": "namespaces"}}}}},
      "type": [
        {
          "constraints": null,
          "type": {
            "function": {
              "codomain": {
                "function": {
                  "codomain": {
                    "function": {
                      "codomain": {
                        "application": {
                          "argument": {"variable": "hydra.ext.haskell.ast.Type"},
                          "function": {
                            "application": {
                              "argument": {"variable": "hydra.graph.Graph"},
                              "function": {"variable": "hydra.compute.Flow"}}}}},
                      "domain": {"variable": "hydra.core.Type"}}},
                  "domain": {
                    "map": {
                      "keys": {"variable": "hydra.core.Name"},
                      "values": {"set": {"variable": "hydra.classes.TypeClass"}}}}}},
              "domain": {
                "application": {
                  "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                  "function": {"variable": "hydra.module.Namespaces"}}}}},
          "variables": []}]},
    {
      "name": "hydra.ext.haskell.coder.findOrdVariables",
      "term": {
        "annotated": {
          "annotation": [
            {
              "@key": "description",
              "@value": {
                "literal": {
                  "string": "Find type variables that require an Ord constraint (used in maps or sets)"}}}],
          "body": {
            "function": {
              "lambda": {
                "body": {
                  "let": {
                    "bindings": [
                      {
                        "name": "fold",
                        "term": {
                          "function": {
                            "lambda": {
                              "body": {
                                "function": {
                                  "lambda": {
                                    "body": {
                                      "application": {
                                        "argument": {"variable": "typ'"},
                                        "function": {
                                          "function": {
                                            "elimination": {
                                              "union": {
                                                "cases": [
                                                  {
                                                    "name": "map",
                                                    "term": {
                                                      "function": {
                                                        "lambda": {
                                                          "body": {
                                                            "let": {
                                                              "bindings": [
                                                                {
                                                                  "name": "kt",
                                                                  "term": {
                                                                    "application": {
                                                                      "argument": {"variable": "mapType"},
                                                                      "function": {
                                                                        "function": {
                                                                          "elimination": {"record": {"field": "keys", "typeName": "hydra.core.MapType"}}}}}},
                                                                  "type": [
                                                                    {
                                                                      "constraints": null,
                                                                      "type": {"variable": "hydra.core.Type"},
                                                                      "variables": []}]}],
                                                              "body": {
                                                                "application": {
                                                                  "argument": {"variable": "kt"},
                                                                  "function": {
                                                                    "application": {
                                                                      "argument": {"variable": "names"},
                                                                      "function": {"variable": "tryType"}}}}}}},
                                                          "domain": [{"variable": "hydra.core.MapType"}],
                                                          "parameter": "mapType"}}}},
                                                  {
                                                    "name": "set",
                                                    "term": {
                                                      "function": {
                                                        "lambda": {
                                                          "body": {
                                                            "application": {
                                                              "argument": {"variable": "et"},
                                                              "function": {
                                                                "application": {
                                                                  "argument": {"variable": "names"},
                                                                  "function": {"variable": "tryType"}}}}},
                                                          "domain": [{"variable": "hydra.core.Type"}],
                                                          "parameter": "et"}}}}],
                                                "default": [{"variable": "names"}],
                                                "typeName": "hydra.core.Type"}}}}}},
                                    "domain": [{"variable": "hydra.core.Type"}],
                                    "parameter": "typ'"}}},
                              "domain": [{"set": {"variable": "hydra.core.Name"}}],
                              "parameter": "names"}}},
                        "type": [
                          {
                            "constraints": null,
                            "type": {
                              "function": {
                                "codomain": {
                                  "function": {
                                    "codomain": {"set": {"variable": "hydra.core.Name"}},
                                    "domain": {"variable": "hydra.core.Type"}}},
                                "domain": {"set": {"variable": "hydra.core.Name"}}}},
                            "variables": []}]},
                      {
                        "name": "isTypeVariable",
                        "term": {
                          "function": {
                            "lambda": {
                              "body": {
                                "let": {
                                  "bindings": [
                                    {
                                      "name": "nameStr",
                                      "term": {
                                        "application": {
                                          "argument": {"variable": "v"},
                                          "function": {"function": {"elimination": {"wrap": "hydra.core.Name"}}}}},
                                      "type": [
                                        {
                                          "constraints": null,
                                          "type": {"literal": {"string": {}}},
                                          "variables": []}]},
                                    {
                                      "name": "hasNoNamespace",
                                      "term": {
                                        "application": {
                                          "argument": {
                                            "application": {
                                              "argument": {"variable": "v"},
                                              "function": {"variable": "hydra.names.namespaceOf"}}},
                                          "function": {
                                            "typeApplication": {
                                              "body": {"function": {"primitive": "hydra.lib.maybes.isNothing"}},
                                              "type": {"variable": "hydra.module.Namespace"}}}}},
                                      "type": [
                                        {
                                          "constraints": null,
                                          "type": {"literal": {"boolean": {}}},
                                          "variables": []}]},
                                    {
                                      "name": "startsWithT",
                                      "term": {
                                        "application": {
                                          "argument": {"literal": {"integer": {"int32": 116}}},
                                          "function": {
                                            "application": {
                                              "argument": {
                                                "application": {
                                                  "argument": {"variable": "nameStr"},
                                                  "function": {
                                                    "application": {
                                                      "argument": {"literal": {"integer": {"int32": 0}}},
                                                      "function": {"function": {"primitive": "hydra.lib.strings.charAt"}}}}}},
                                              "function": {
                                                "typeApplication": {
                                                  "body": {"function": {"primitive": "hydra.lib.equality.equal"}},
                                                  "type": {"literal": {"integer": {"int32": {}}}}}}}}}},
                                      "type": [
                                        {
                                          "constraints": null,
                                          "type": {"literal": {"boolean": {}}},
                                          "variables": []}]}],
                                  "body": {
                                    "application": {
                                      "argument": {"variable": "startsWithT"},
                                      "function": {
                                        "application": {
                                          "argument": {"variable": "hasNoNamespace"},
                                          "function": {"function": {"primitive": "hydra.lib.logic.and"}}}}}}}},
                              "domain": [{"variable": "hydra.core.Name"}],
                              "parameter": "v"}}},
                        "type": [
                          {
                            "constraints": null,
                            "type": {
                              "function": {
                                "codomain": {"literal": {"boolean": {}}},
                                "domain": {"variable": "hydra.core.Name"}}},
                            "variables": []}]},
                      {
                        "name": "tryType",
                        "term": {
                          "function": {
                            "lambda": {
                              "body": {
                                "function": {
                                  "lambda": {
                                    "body": {
                                      "application": {
                                        "argument": {
                                          "application": {
                                            "argument": {"variable": "t"},
                                            "function": {"variable": "hydra.rewriting.deannotateType"}}},
                                        "function": {
                                          "function": {
                                            "elimination": {
                                              "union": {
                                                "cases": [
                                                  {
                                                    "name": "variable",
                                                    "term": {
                                                      "function": {
                                                        "lambda": {
                                                          "body": {
                                                            "application": {
                                                              "argument": {"variable": "names"},
                                                              "function": {
                                                                "application": {
                                                                  "argument": {
                                                                    "application": {
                                                                      "argument": {"variable": "names"},
                                                                      "function": {
                                                                        "application": {
                                                                          "argument": {"variable": "v"},
                                                                          "function": {
                                                                            "typeApplication": {
                                                                              "body": {"function": {"primitive": "hydra.lib.sets.insert"}},
                                                                              "type": {"variable": "hydra.core.Name"}}}}}}},
                                                                  "function": {
                                                                    "application": {
                                                                      "argument": {
                                                                        "application": {
                                                                          "argument": {"variable": "v"},
                                                                          "function": {"variable": "isTypeVariable"}}},
                                                                      "function": {
                                                                        "typeApplication": {
                                                                          "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                                          "type": {"set": {"variable": "hydra.core.Name"}}}}}}}}}},
                                                          "domain": [{"variable": "hydra.core.Name"}],
                                                          "parameter": "v"}}}}],
                                                "default": [{"variable": "names"}],
                                                "typeName": "hydra.core.Type"}}}}}},
                                    "domain": [{"variable": "hydra.core.Type"}],
                                    "parameter": "t"}}},
                              "domain": [{"set": {"variable": "hydra.core.Name"}}],
                              "parameter": "names"}}},
                        "type": [
                          {
                            "constraints": null,
                            "type": {
                              "function": {
                                "codomain": {
                                  "function": {
                                    "codomain": {"set": {"variable": "hydra.core.Name"}},
                                    "domain": {"variable": "hydra.core.Type"}}},
                                "domain": {"set": {"variable": "hydra.core.Name"}}}},
                            "variables": []}]}],
                    "body": {
                      "application": {
                        "argument": {"variable": "typ"},
                        "function": {
                          "application": {
                            "argument": {
                              "typeApplication": {
                                "body": {"function": {"primitive": "hydra.lib.sets.empty"}},
                                "type": {"variable": "hydra.core.Name"}}},
                            "function": {
                              "application": {
                                "argument": {"variable": "fold"},
                                "function": {
                                  "application": {
                                    "argument": {
                                      "union": {
                                        "field": {"name": "pre", "term": {"unit": {}}},
                                        "typeName": "hydra.coders.TraversalOrder"}},
                                    "function": {
                                      "typeApplication": {
                                        "body": {"variable": "hydra.rewriting.foldOverType"},
                                        "type": {"set": {"variable": "hydra.core.Name"}}}}}}}}}}}}}},
                "domain": [{"variable": "hydra.core.Type"}],
                "parameter": "typ"}}}}},
      "type": [
        {
          "constraints": null,
          "type": {
            "function": {
              "codomain": {"set": {"variable": "hydra.core.Name"}},
              "domain": {"variable": "hydra.core.Type"}}},
          "variables": []}]},
    {
      "name": "hydra.ext.haskell.coder.getImplicitTypeClasses",
      "term": {
        "annotated": {
          "annotation": [
            {
              "@key": "description",
              "@value": {
                "literal": {
                  "string": "Get implicit typeclass constraints for type variables that need Ord"}}}],
          "body": {
            "function": {
              "lambda": {
                "body": {
                  "let": {
                    "bindings": [
                      {
                        "name": "toPair",
                        "term": {
                          "typeLambda": {
                            "body": {
                              "function": {
                                "lambda": {
                                  "body": {
                                    "typeApplication": {
                                      "body": {
                                        "typeApplication": {
                                          "body": {
                                            "pair": {
                                              "@first": {"variable": "name"},
                                              "@second": {
                                                "application": {
                                                  "argument": {
                                                    "list": [
                                                      {
                                                        "union": {
                                                          "field": {"name": "ordering", "term": {"unit": {}}},
                                                          "typeName": "hydra.classes.TypeClass"}}]},
                                                  "function": {
                                                    "typeApplication": {
                                                      "body": {"function": {"primitive": "hydra.lib.sets.fromList"}},
                                                      "type": {"variable": "hydra.classes.TypeClass"}}}}}}},
                                          "type": {"variable": "t0"}}},
                                      "type": {"set": {"variable": "hydra.classes.TypeClass"}}}},
                                  "domain": [{"variable": "t0"}],
                                  "parameter": "name"}}},
                            "parameter": "t0"}},
                        "type": [
                          {
                            "constraints": null,
                            "type": {
                              "function": {
                                "codomain": {
                                  "pair": {
                                    "first": {"variable": "t0"},
                                    "second": {"set": {"variable": "hydra.classes.TypeClass"}}}},
                                "domain": {"variable": "t0"}}},
                            "variables": ["t0"]}]}],
                    "body": {
                      "application": {
                        "argument": {
                          "application": {
                            "argument": {
                              "application": {
                                "argument": {
                                  "application": {
                                    "argument": {"variable": "typ"},
                                    "function": {"variable": "hydra.ext.haskell.coder.findOrdVariables"}}},
                                "function": {
                                  "typeApplication": {
                                    "body": {"function": {"primitive": "hydra.lib.sets.toList"}},
                                    "type": {"variable": "hydra.core.Name"}}}}},
                            "function": {
                              "application": {
                                "argument": {
                                  "typeApplication": {
                                    "body": {"variable": "toPair"},
                                    "type": {"variable": "hydra.core.Name"}}},
                                "function": {
                                  "typeApplication": {
                                    "body": {
                                      "typeApplication": {
                                        "body": {"function": {"primitive": "hydra.lib.lists.map"}},
                                        "type": {"variable": "hydra.core.Name"}}},
                                    "type": {
                                      "pair": {
                                        "first": {"variable": "hydra.core.Name"},
                                        "second": {"set": {"variable": "hydra.classes.TypeClass"}}}}}}}}}},
                        "function": {
                          "typeApplication": {
                            "body": {
                              "typeApplication": {
                                "body": {"function": {"primitive": "hydra.lib.maps.fromList"}},
                                "type": {"variable": "hydra.core.Name"}}},
                            "type": {"set": {"variable": "hydra.classes.TypeClass"}}}}}}}},
                "domain": [{"variable": "hydra.core.Type"}],
                "parameter": "typ"}}}}},
      "type": [
        {
          "constraints": null,
          "type": {
            "function": {
              "codomain": {
                "map": {
                  "keys": {"variable": "hydra.core.Name"},
                  "values": {"set": {"variable": "hydra.classes.TypeClass"}}}},
              "domain": {"variable": "hydra.core.Type"}}},
          "variables": []}]},
    {
      "name": "hydra.ext.haskell.coder.moduleToHaskellModule",
      "term": {
        "annotated": {
          "annotation": [
            {
              "@key": "description",
              "@value": {
                "literal": {
                  "string": "Convert a Hydra module and definitions to a Haskell module AST"}}}],
          "body": {
            "function": {
              "lambda": {
                "body": {
                  "function": {
                    "lambda": {
                      "body": {
                        "application": {
                          "argument": {
                            "function": {
                              "lambda": {
                                "body": {
                                  "application": {
                                    "argument": {"variable": "defs"},
                                    "function": {
                                      "application": {
                                        "argument": {"variable": "mod"},
                                        "function": {
                                          "application": {
                                            "argument": {"variable": "namespaces"},
                                            "function": {"variable": "hydra.ext.haskell.coder.constructModule"}}}}}}},
                                "domain": [
                                  {
                                    "application": {
                                      "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                                      "function": {"variable": "hydra.module.Namespaces"}}}],
                                "parameter": "namespaces"}}},
                          "function": {
                            "application": {
                              "argument": {
                                "application": {
                                  "argument": {"variable": "mod"},
                                  "function": {"variable": "hydra.ext.haskell.utils.namespacesForModule"}}},
                              "function": {
                                "typeApplication": {
                                  "body": {
                                    "typeApplication": {
                                      "body": {
                                        "typeApplication": {
                                          "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                          "type": {"variable": "hydra.graph.Graph"}}},
                                      "type": {
                                        "application": {
                                          "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                                          "function": {"variable": "hydra.module.Namespaces"}}}}},
                                  "type": {"variable": "hydra.ext.haskell.ast.Module"}}}}}}},
                      "domain": [{"list": {"variable": "hydra.module.Definition"}}],
                      "parameter": "defs"}}},
                "domain": [{"variable": "hydra.module.Module"}],
                "parameter": "mod"}}}}},
      "type": [
        {
          "constraints": null,
          "type": {
            "function": {
              "codomain": {
                "function": {
                  "codomain": {
                    "application": {
                      "argument": {"variable": "hydra.ext.haskell.ast.Module"},
                      "function": {
                        "application": {
                          "argument": {"variable": "hydra.graph.Graph"},
                          "function": {"variable": "hydra.compute.Flow"}}}}},
                  "domain": {"list": {"variable": "hydra.module.Definition"}}}},
              "domain": {"variable": "hydra.module.Module"}}},
          "variables": []}]},
    {
      "name": "hydra.ext.haskell.coder.moduleToHaskell",
      "term": {
        "annotated": {
          "annotation": [
            {
              "@key": "description",
              "@value": {
                "literal": {
                  "string": "Convert a Hydra module to Haskell source code as a filepath-to-content map"}}}],
          "body": {
            "function": {
              "lambda": {
                "body": {
                  "function": {
                    "lambda": {
                      "body": {
                        "application": {
                          "argument": {
                            "function": {
                              "lambda": {
                                "body": {
                                  "let": {
                                    "bindings": [
                                      {
                                        "name": "s",
                                        "term": {
                                          "application": {
                                            "argument": {
                                              "application": {
                                                "argument": {
                                                  "application": {
                                                    "argument": {"variable": "hsmod"},
                                                    "function": {"variable": "hydra.ext.haskell.serde.moduleToExpr"}}},
                                                "function": {"variable": "hydra.serialization.parenthesize"}}},
                                            "function": {"variable": "hydra.serialization.printExpr"}}},
                                        "type": [
                                          {
                                            "constraints": null,
                                            "type": {"literal": {"string": {}}},
                                            "variables": []}]},
                                      {
                                        "name": "filepath",
                                        "term": {
                                          "application": {
                                            "argument": {
                                              "application": {
                                                "argument": {"variable": "mod"},
                                                "function": {
                                                  "function": {
                                                    "elimination": {"record": {"field": "namespace", "typeName": "hydra.module.Module"}}}}}},
                                            "function": {
                                              "application": {
                                                "argument": {
                                                  "wrap": {
                                                    "body": {"literal": {"string": "hs"}},
                                                    "typeName": "hydra.module.FileExtension"}},
                                                "function": {
                                                  "application": {
                                                    "argument": {
                                                      "union": {
                                                        "field": {"name": "pascal", "term": {"unit": {}}},
                                                        "typeName": "hydra.util.CaseConvention"}},
                                                    "function": {"variable": "hydra.names.namespaceToFilePath"}}}}}}},
                                        "type": [
                                          {
                                            "constraints": null,
                                            "type": {"literal": {"string": {}}},
                                            "variables": []}]}],
                                    "body": {
                                      "application": {
                                        "argument": {
                                          "application": {
                                            "argument": {"variable": "s"},
                                            "function": {
                                              "application": {
                                                "argument": {"variable": "filepath"},
                                                "function": {
                                                  "typeApplication": {
                                                    "body": {
                                                      "typeApplication": {
                                                        "body": {"function": {"primitive": "hydra.lib.maps.singleton"}},
                                                        "type": {"literal": {"string": {}}}}},
                                                    "type": {"literal": {"string": {}}}}}}}}},
                                        "function": {
                                          "typeApplication": {
                                            "body": {
                                              "typeApplication": {
                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                "type": {"variable": "hydra.graph.Graph"}}},
                                            "type": {
                                              "map": {
                                                "keys": {"literal": {"string": {}}},
                                                "values": {"literal": {"string": {}}}}}}}}}}},
                                "domain": [{"variable": "hydra.ext.haskell.ast.Module"}],
                                "parameter": "hsmod"}}},
                          "function": {
                            "application": {
                              "argument": {
                                "application": {
                                  "argument": {"variable": "defs"},
                                  "function": {
                                    "application": {
                                      "argument": {"variable": "mod"},
                                      "function": {"variable": "hydra.ext.haskell.coder.moduleToHaskellModule"}}}}},
                              "function": {
                                "typeApplication": {
                                  "body": {
                                    "typeApplication": {
                                      "body": {
                                        "typeApplication": {
                                          "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                          "type": {"variable": "hydra.graph.Graph"}}},
                                      "type": {"variable": "hydra.ext.haskell.ast.Module"}}},
                                  "type": {
                                    "map": {
                                      "keys": {"literal": {"string": {}}},
                                      "values": {"literal": {"string": {}}}}}}}}}}},
                      "domain": [{"list": {"variable": "hydra.module.Definition"}}],
                      "parameter": "defs"}}},
                "domain": [{"variable": "hydra.module.Module"}],
                "parameter": "mod"}}}}},
      "type": [
        {
          "constraints": null,
          "type": {
            "function": {
              "codomain": {
                "function": {
                  "codomain": {
                    "application": {
                      "argument": {
                        "map": {
                          "keys": {"literal": {"string": {}}},
                          "values": {"literal": {"string": {}}}}},
                      "function": {
                        "application": {
                          "argument": {"variable": "hydra.graph.Graph"},
                          "function": {"variable": "hydra.compute.Flow"}}}}},
                  "domain": {"list": {"variable": "hydra.module.Definition"}}}},
              "domain": {"variable": "hydra.module.Module"}}},
          "variables": []}]},
    {
      "name": "hydra.ext.haskell.coder.nameDecls",
      "term": {
        "typeLambda": {
          "body": {
            "annotated": {
              "annotation": [
                {
                  "@key": "description",
                  "@value": {
                    "literal": {
                      "string": "Generate Haskell declarations for type and field name constants"}}}],
              "body": {
                "function": {
                  "lambda": {
                    "body": {
                      "function": {
                        "lambda": {
                          "body": {
                            "function": {
                              "lambda": {
                                "body": {
                                  "function": {
                                    "lambda": {
                                      "body": {
                                        "let": {
                                          "bindings": [
                                            {
                                              "name": "nm",
                                              "term": {
                                                "application": {
                                                  "argument": {"variable": "name"},
                                                  "function": {"function": {"elimination": {"wrap": "hydra.core.Name"}}}}},
                                              "type": [
                                                {
                                                  "constraints": null,
                                                  "type": {"literal": {"string": {}}},
                                                  "variables": []}]},
                                            {
                                              "name": "toDecl",
                                              "term": {
                                                "function": {
                                                  "lambda": {
                                                    "body": {
                                                      "function": {
                                                        "lambda": {
                                                          "body": {
                                                            "let": {
                                                              "bindings": [
                                                                {
                                                                  "name": "k",
                                                                  "term": {
                                                                    "application": {
                                                                      "argument": {"variable": "pair"},
                                                                      "function": {
                                                                        "typeApplication": {
                                                                          "body": {
                                                                            "typeApplication": {
                                                                              "body": {"function": {"primitive": "hydra.lib.pairs.first"}},
                                                                              "type": {"literal": {"string": {}}}}},
                                                                          "type": {"literal": {"string": {}}}}}}},
                                                                  "type": [
                                                                    {
                                                                      "constraints": null,
                                                                      "type": {"literal": {"string": {}}},
                                                                      "variables": []}]},
                                                                {
                                                                  "name": "v",
                                                                  "term": {
                                                                    "application": {
                                                                      "argument": {"variable": "pair"},
                                                                      "function": {
                                                                        "typeApplication": {
                                                                          "body": {
                                                                            "typeApplication": {
                                                                              "body": {"function": {"primitive": "hydra.lib.pairs.second"}},
                                                                              "type": {"literal": {"string": {}}}}},
                                                                          "type": {"literal": {"string": {}}}}}}},
                                                                  "type": [
                                                                    {
                                                                      "constraints": null,
                                                                      "type": {"literal": {"string": {}}},
                                                                      "variables": []}]},
                                                                {
                                                                  "name": "decl",
                                                                  "term": {
                                                                    "union": {
                                                                      "field": {
                                                                        "name": "valueBinding",
                                                                        "term": {
                                                                          "union": {
                                                                            "field": {
                                                                              "name": "simple",
                                                                              "term": {
                                                                                "record": {
                                                                                  "fields": [
                                                                                    {
                                                                                      "name": "pattern",
                                                                                      "term": {
                                                                                        "application": {
                                                                                          "argument": {
                                                                                            "typeApplication": {
                                                                                              "body": {"list": []},
                                                                                              "type": {"variable": "hydra.ext.haskell.ast.Pattern"}}},
                                                                                          "function": {
                                                                                            "application": {
                                                                                              "argument": {
                                                                                                "application": {
                                                                                                  "argument": {"variable": "k"},
                                                                                                  "function": {"variable": "hydra.ext.haskell.utils.simpleName"}}},
                                                                                              "function": {"variable": "hydra.ext.haskell.utils.applicationPattern"}}}}}},
                                                                                    {
                                                                                      "name": "rhs",
                                                                                      "term": {
                                                                                        "wrap": {
                                                                                          "body": {
                                                                                            "union": {
                                                                                              "field": {
                                                                                                "name": "application",
                                                                                                "term": {
                                                                                                  "record": {
                                                                                                    "fields": [
                                                                                                      {
                                                                                                        "name": "function",
                                                                                                        "term": {
                                                                                                          "union": {
                                                                                                            "field": {
                                                                                                              "name": "variable",
                                                                                                              "term": {
                                                                                                                "application": {
                                                                                                                  "argument": {"variable": "n"},
                                                                                                                  "function": {
                                                                                                                    "application": {
                                                                                                                      "argument": {"variable": "namespaces"},
                                                                                                                      "function": {"variable": "hydra.ext.haskell.utils.elementReference"}}}}}},
                                                                                                            "typeName": "hydra.ext.haskell.ast.Expression"}}},
                                                                                                      {
                                                                                                        "name": "argument",
                                                                                                        "term": {
                                                                                                          "union": {
                                                                                                            "field": {
                                                                                                              "name": "literal",
                                                                                                              "term": {
                                                                                                                "union": {
                                                                                                                  "field": {"name": "string", "term": {"variable": "v"}},
                                                                                                                  "typeName": "hydra.ext.haskell.ast.Literal"}}},
                                                                                                            "typeName": "hydra.ext.haskell.ast.Expression"}}}],
                                                                                                    "typeName": "hydra.ext.haskell.ast.ApplicationExpression"}}},
                                                                                              "typeName": "hydra.ext.haskell.ast.Expression"}},
                                                                                          "typeName": "hydra.ext.haskell.ast.RightHandSide"}}},
                                                                                    {
                                                                                      "name": "localBindings",
                                                                                      "term": {
                                                                                        "typeApplication": {
                                                                                          "body": {"maybe": null},
                                                                                          "type": {"variable": "hydra.ext.haskell.ast.LocalBindings"}}}}],
                                                                                  "typeName": "hydra.ext.haskell.ast.SimpleValueBinding"}}},
                                                                            "typeName": "hydra.ext.haskell.ast.ValueBinding"}}},
                                                                      "typeName": "hydra.ext.haskell.ast.Declaration"}},
                                                                  "type": [
                                                                    {
                                                                      "constraints": null,
                                                                      "type": {"variable": "hydra.ext.haskell.ast.Declaration"},
                                                                      "variables": []}]}],
                                                              "body": {
                                                                "record": {
                                                                  "fields": [
                                                                    {"name": "body", "term": {"variable": "decl"}},
                                                                    {
                                                                      "name": "comments",
                                                                      "term": {
                                                                        "typeApplication": {"body": {"maybe": null}, "type": {"literal": {"string": {}}}}}}],
                                                                  "typeName": "hydra.ext.haskell.ast.DeclarationWithComments"}}}},
                                                          "domain": [
                                                            {
                                                              "pair": {
                                                                "first": {"literal": {"string": {}}},
                                                                "second": {"literal": {"string": {}}}}}],
                                                          "parameter": "pair"}}},
                                                    "domain": [{"variable": "hydra.core.Name"}],
                                                    "parameter": "n"}}},
                                              "type": [
                                                {
                                                  "constraints": null,
                                                  "type": {
                                                    "function": {
                                                      "codomain": {
                                                        "function": {
                                                          "codomain": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"},
                                                          "domain": {
                                                            "pair": {
                                                              "first": {"literal": {"string": {}}},
                                                              "second": {"literal": {"string": {}}}}}}},
                                                      "domain": {"variable": "hydra.core.Name"}}},
                                                  "variables": []}]},
                                            {
                                              "name": "nameDecl",
                                              "term": {
                                                "typeApplication": {
                                                  "body": {
                                                    "typeApplication": {
                                                      "body": {
                                                        "pair": {
                                                          "@first": {
                                                            "application": {
                                                              "argument": {"variable": "name"},
                                                              "function": {"variable": "hydra.ext.haskell.coder.constantForTypeName"}}},
                                                          "@second": {"variable": "nm"}}},
                                                      "type": {"literal": {"string": {}}}}},
                                                  "type": {"literal": {"string": {}}}}},
                                              "type": [
                                                {
                                                  "constraints": null,
                                                  "type": {
                                                    "pair": {
                                                      "first": {"literal": {"string": {}}},
                                                      "second": {"literal": {"string": {}}}}},
                                                  "variables": []}]},
                                            {
                                              "name": "fieldDecls",
                                              "term": {
                                                "application": {
                                                  "argument": {
                                                    "application": {
                                                      "argument": {"variable": "typ"},
                                                      "function": {"variable": "hydra.lexical.fieldsOf"}}},
                                                  "function": {
                                                    "application": {
                                                      "argument": {"variable": "toConstant"},
                                                      "function": {
                                                        "typeApplication": {
                                                          "body": {
                                                            "typeApplication": {
                                                              "body": {"function": {"primitive": "hydra.lib.lists.map"}},
                                                              "type": {"variable": "hydra.core.FieldType"}}},
                                                          "type": {
                                                            "pair": {
                                                              "first": {"literal": {"string": {}}},
                                                              "second": {"literal": {"string": {}}}}}}}}}}},
                                              "type": [
                                                {
                                                  "constraints": null,
                                                  "type": {
                                                    "list": {
                                                      "pair": {
                                                        "first": {"literal": {"string": {}}},
                                                        "second": {"literal": {"string": {}}}}}},
                                                  "variables": []}]},
                                            {
                                              "name": "toConstant",
                                              "term": {
                                                "function": {
                                                  "lambda": {
                                                    "body": {
                                                      "let": {
                                                        "bindings": [
                                                          {
                                                            "name": "fname",
                                                            "term": {
                                                              "application": {
                                                                "argument": {"variable": "fieldType"},
                                                                "function": {
                                                                  "function": {
                                                                    "elimination": {"record": {"field": "name", "typeName": "hydra.core.FieldType"}}}}}},
                                                            "type": [
                                                              {
                                                                "constraints": null,
                                                                "type": {"variable": "hydra.core.Name"},
                                                                "variables": []}]}],
                                                        "body": {
                                                          "typeApplication": {
                                                            "body": {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "pair": {
                                                                    "@first": {
                                                                      "application": {
                                                                        "argument": {"variable": "fname"},
                                                                        "function": {
                                                                          "application": {
                                                                            "argument": {"variable": "name"},
                                                                            "function": {"variable": "hydra.ext.haskell.coder.constantForFieldName"}}}}},
                                                                    "@second": {
                                                                      "application": {
                                                                        "argument": {"variable": "fname"},
                                                                        "function": {"function": {"elimination": {"wrap": "hydra.core.Name"}}}}}}},
                                                                "type": {"literal": {"string": {}}}}},
                                                            "type": {"literal": {"string": {}}}}}}},
                                                    "domain": [{"variable": "hydra.core.FieldType"}],
                                                    "parameter": "fieldType"}}},
                                              "type": [
                                                {
                                                  "constraints": null,
                                                  "type": {
                                                    "function": {
                                                      "codomain": {
                                                        "pair": {
                                                          "first": {"literal": {"string": {}}},
                                                          "second": {"literal": {"string": {}}}}},
                                                      "domain": {"variable": "hydra.core.FieldType"}}},
                                                  "variables": []}]}],
                                          "body": {
                                            "application": {
                                              "argument": {
                                                "typeApplication": {
                                                  "body": {"list": []},
                                                  "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}},
                                              "function": {
                                                "application": {
                                                  "argument": {
                                                    "application": {
                                                      "argument": {
                                                        "application": {
                                                          "argument": {"variable": "fieldDecls"},
                                                          "function": {
                                                            "application": {
                                                              "argument": {
                                                                "application": {
                                                                  "argument": {
                                                                    "wrap": {
                                                                      "body": {"literal": {"string": "hydra.core.Name"}},
                                                                      "typeName": "hydra.core.Name"}},
                                                                  "function": {"variable": "toDecl"}}},
                                                              "function": {
                                                                "typeApplication": {
                                                                  "body": {
                                                                    "typeApplication": {
                                                                      "body": {"function": {"primitive": "hydra.lib.lists.map"}},
                                                                      "type": {
                                                                        "pair": {
                                                                          "first": {"literal": {"string": {}}},
                                                                          "second": {"literal": {"string": {}}}}}}},
                                                                  "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}},
                                                      "function": {
                                                        "application": {
                                                          "argument": {
                                                            "application": {
                                                              "argument": {"variable": "nameDecl"},
                                                              "function": {
                                                                "application": {
                                                                  "argument": {
                                                                    "wrap": {
                                                                      "body": {"literal": {"string": "hydra.core.Name"}},
                                                                      "typeName": "hydra.core.Name"}},
                                                                  "function": {"variable": "toDecl"}}}}},
                                                          "function": {
                                                            "typeApplication": {
                                                              "body": {"function": {"primitive": "hydra.lib.lists.cons"}},
                                                              "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}},
                                                  "function": {
                                                    "application": {
                                                      "argument": {"variable": "hydra.ext.haskell.coder.useCoreImport"},
                                                      "function": {
                                                        "typeApplication": {
                                                          "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                          "type": {
                                                            "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}}}}}}},
                                      "domain": [{"variable": "hydra.core.Type"}],
                                      "parameter": "typ"}}},
                                "domain": [{"variable": "hydra.core.Name"}],
                                "parameter": "name"}}},
                          "domain": [
                            {
                              "application": {
                                "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                                "function": {"variable": "hydra.module.Namespaces"}}}],
                          "parameter": "namespaces"}}},
                    "domain": [{"variable": "t0"}],
                    "parameter": "g"}}}}},
          "parameter": "t0"}},
      "type": [
        {
          "constraints": null,
          "type": {
            "function": {
              "codomain": {
                "function": {
                  "codomain": {
                    "function": {
                      "codomain": {
                        "function": {
                          "codomain": {
                            "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}},
                          "domain": {"variable": "hydra.core.Type"}}},
                      "domain": {"variable": "hydra.core.Name"}}},
                  "domain": {
                    "application": {
                      "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                      "function": {"variable": "hydra.module.Namespaces"}}}}},
              "domain": {"variable": "t0"}}},
          "variables": ["t0"]}]},
    {
      "name": "hydra.ext.haskell.coder.toDataDeclaration",
      "term": {
        "annotated": {
          "annotation": [
            {
              "@key": "description",
              "@value": {
                "literal": {
                  "string": "Convert a Hydra term definition to a Haskell declaration with comments"}}}],
          "body": {
            "function": {
              "lambda": {
                "body": {
                  "function": {
                    "lambda": {
                      "body": {
                        "let": {
                          "bindings": [
                            {
                              "name": "name",
                              "term": {
                                "application": {
                                  "argument": {"variable": "def"},
                                  "function": {
                                    "function": {
                                      "elimination": {
                                        "record": {"field": "name", "typeName": "hydra.module.TermDefinition"}}}}}},
                              "type": [
                                {
                                  "constraints": null,
                                  "type": {"variable": "hydra.core.Name"},
                                  "variables": []}]},
                            {
                              "name": "term",
                              "term": {
                                "application": {
                                  "argument": {"variable": "def"},
                                  "function": {
                                    "function": {
                                      "elimination": {
                                        "record": {"field": "term", "typeName": "hydra.module.TermDefinition"}}}}}},
                              "type": [
                                {
                                  "constraints": null,
                                  "type": {"variable": "hydra.core.Term"},
                                  "variables": []}]},
                            {
                              "name": "typ",
                              "term": {
                                "application": {
                                  "argument": {"variable": "def"},
                                  "function": {
                                    "function": {
                                      "elimination": {
                                        "record": {"field": "type", "typeName": "hydra.module.TermDefinition"}}}}}},
                              "type": [
                                {
                                  "constraints": null,
                                  "type": {"variable": "hydra.core.TypeScheme"},
                                  "variables": []}]},
                            {
                              "name": "hname",
                              "term": {
                                "application": {
                                  "argument": {
                                    "application": {
                                      "argument": {"variable": "name"},
                                      "function": {"variable": "hydra.names.localNameOf"}}},
                                  "function": {"variable": "hydra.ext.haskell.utils.simpleName"}}},
                              "type": [
                                {
                                  "constraints": null,
                                  "type": {"variable": "hydra.ext.haskell.ast.Name"},
                                  "variables": []}]},
                            {
                              "name": "rewriteValueBinding",
                              "term": {
                                "function": {
                                  "lambda": {
                                    "body": {
                                      "application": {
                                        "argument": {"variable": "vb"},
                                        "function": {
                                          "function": {
                                            "elimination": {
                                              "union": {
                                                "cases": [
                                                  {
                                                    "name": "simple",
                                                    "term": {
                                                      "function": {
                                                        "lambda": {
                                                          "body": {
                                                            "let": {
                                                              "bindings": [
                                                                {
                                                                  "name": "pattern'",
                                                                  "term": {
                                                                    "application": {
                                                                      "argument": {"variable": "simple"},
                                                                      "function": {
                                                                        "function": {
                                                                          "elimination": {
                                                                            "record": {
                                                                              "field": "pattern",
                                                                              "typeName": "hydra.ext.haskell.ast.SimpleValueBinding"}}}}}},
                                                                  "type": [
                                                                    {
                                                                      "constraints": null,
                                                                      "type": {"variable": "hydra.ext.haskell.ast.Pattern"},
                                                                      "variables": []}]},
                                                                {
                                                                  "name": "rhs",
                                                                  "term": {
                                                                    "application": {
                                                                      "argument": {"variable": "simple"},
                                                                      "function": {
                                                                        "function": {
                                                                          "elimination": {
                                                                            "record": {
                                                                              "field": "rhs",
                                                                              "typeName": "hydra.ext.haskell.ast.SimpleValueBinding"}}}}}},
                                                                  "type": [
                                                                    {
                                                                      "constraints": null,
                                                                      "type": {"variable": "hydra.ext.haskell.ast.RightHandSide"},
                                                                      "variables": []}]},
                                                                {
                                                                  "name": "bindings",
                                                                  "term": {
                                                                    "application": {
                                                                      "argument": {"variable": "simple"},
                                                                      "function": {
                                                                        "function": {
                                                                          "elimination": {
                                                                            "record": {
                                                                              "field": "localBindings",
                                                                              "typeName": "hydra.ext.haskell.ast.SimpleValueBinding"}}}}}},
                                                                  "type": [
                                                                    {
                                                                      "constraints": null,
                                                                      "type": {"maybe": {"variable": "hydra.ext.haskell.ast.LocalBindings"}},
                                                                      "variables": []}]}],
                                                              "body": {
                                                                "application": {
                                                                  "argument": {"variable": "pattern'"},
                                                                  "function": {
                                                                    "function": {
                                                                      "elimination": {
                                                                        "union": {
                                                                          "cases": [
                                                                            {
                                                                              "name": "application",
                                                                              "term": {
                                                                                "function": {
                                                                                  "lambda": {
                                                                                    "body": {
                                                                                      "let": {
                                                                                        "bindings": [
                                                                                          {
                                                                                            "name": "name'",
                                                                                            "term": {
                                                                                              "application": {
                                                                                                "argument": {"variable": "appPat"},
                                                                                                "function": {
                                                                                                  "function": {
                                                                                                    "elimination": {
                                                                                                      "record": {
                                                                                                        "field": "name",
                                                                                                        "typeName": "hydra.ext.haskell.ast.ApplicationPattern"}}}}}},
                                                                                            "type": [
                                                                                              {
                                                                                                "constraints": null,
                                                                                                "type": {"variable": "hydra.ext.haskell.ast.Name"},
                                                                                                "variables": []}]},
                                                                                          {
                                                                                            "name": "args",
                                                                                            "term": {
                                                                                              "application": {
                                                                                                "argument": {"variable": "appPat"},
                                                                                                "function": {
                                                                                                  "function": {
                                                                                                    "elimination": {
                                                                                                      "record": {
                                                                                                        "field": "args",
                                                                                                        "typeName": "hydra.ext.haskell.ast.ApplicationPattern"}}}}}},
                                                                                            "type": [
                                                                                              {
                                                                                                "constraints": null,
                                                                                                "type": {"list": {"variable": "hydra.ext.haskell.ast.Pattern"}},
                                                                                                "variables": []}]},
                                                                                          {
                                                                                            "name": "rhsExpr",
                                                                                            "term": {
                                                                                              "application": {
                                                                                                "argument": {"variable": "rhs"},
                                                                                                "function": {
                                                                                                  "function": {"elimination": {"wrap": "hydra.ext.haskell.ast.RightHandSide"}}}}},
                                                                                            "type": [
                                                                                              {
                                                                                                "constraints": null,
                                                                                                "type": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                                                                "variables": []}]}],
                                                                                        "body": {
                                                                                          "application": {
                                                                                            "argument": {"variable": "rhsExpr"},
                                                                                            "function": {
                                                                                              "function": {
                                                                                                "elimination": {
                                                                                                  "union": {
                                                                                                    "cases": [
                                                                                                      {
                                                                                                        "name": "lambda",
                                                                                                        "term": {
                                                                                                          "function": {
                                                                                                            "lambda": {
                                                                                                              "body": {
                                                                                                                "let": {
                                                                                                                  "bindings": [
                                                                                                                    {
                                                                                                                      "name": "vars",
                                                                                                                      "term": {
                                                                                                                        "application": {
                                                                                                                          "argument": {"variable": "lambda'"},
                                                                                                                          "function": {
                                                                                                                            "function": {
                                                                                                                              "elimination": {
                                                                                                                                "record": {
                                                                                                                                  "field": "bindings",
                                                                                                                                  "typeName": "hydra.ext.haskell.ast.LambdaExpression"}}}}}},
                                                                                                                      "type": [
                                                                                                                        {
                                                                                                                          "constraints": null,
                                                                                                                          "type": {"list": {"variable": "hydra.ext.haskell.ast.Pattern"}},
                                                                                                                          "variables": []}]},
                                                                                                                    {
                                                                                                                      "name": "body",
                                                                                                                      "term": {
                                                                                                                        "application": {
                                                                                                                          "argument": {"variable": "lambda'"},
                                                                                                                          "function": {
                                                                                                                            "function": {
                                                                                                                              "elimination": {
                                                                                                                                "record": {
                                                                                                                                  "field": "inner",
                                                                                                                                  "typeName": "hydra.ext.haskell.ast.LambdaExpression"}}}}}},
                                                                                                                      "type": [
                                                                                                                        {
                                                                                                                          "constraints": null,
                                                                                                                          "type": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                                                                                          "variables": []}]},
                                                                                                                    {
                                                                                                                      "name": "newPattern",
                                                                                                                      "term": {
                                                                                                                        "application": {
                                                                                                                          "argument": {
                                                                                                                            "application": {
                                                                                                                              "argument": {"variable": "vars"},
                                                                                                                              "function": {
                                                                                                                                "application": {
                                                                                                                                  "argument": {"variable": "args"},
                                                                                                                                  "function": {
                                                                                                                                    "typeApplication": {
                                                                                                                                      "body": {"function": {"primitive": "hydra.lib.lists.concat2"}},
                                                                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Pattern"}}}}}}},
                                                                                                                          "function": {
                                                                                                                            "application": {
                                                                                                                              "argument": {"variable": "name'"},
                                                                                                                              "function": {"variable": "hydra.ext.haskell.utils.applicationPattern"}}}}},
                                                                                                                      "type": [
                                                                                                                        {
                                                                                                                          "constraints": null,
                                                                                                                          "type": {"variable": "hydra.ext.haskell.ast.Pattern"},
                                                                                                                          "variables": []}]},
                                                                                                                    {
                                                                                                                      "name": "newRhs",
                                                                                                                      "term": {
                                                                                                                        "wrap": {
                                                                                                                          "body": {"variable": "body"},
                                                                                                                          "typeName": "hydra.ext.haskell.ast.RightHandSide"}},
                                                                                                                      "type": [
                                                                                                                        {
                                                                                                                          "constraints": null,
                                                                                                                          "type": {"variable": "hydra.ext.haskell.ast.RightHandSide"},
                                                                                                                          "variables": []}]}],
                                                                                                                  "body": {
                                                                                                                    "application": {
                                                                                                                      "argument": {
                                                                                                                        "union": {
                                                                                                                          "field": {
                                                                                                                            "name": "simple",
                                                                                                                            "term": {
                                                                                                                              "record": {
                                                                                                                                "fields": [
                                                                                                                                  {"name": "pattern", "term": {"variable": "newPattern"}},
                                                                                                                                  {"name": "rhs", "term": {"variable": "newRhs"}},
                                                                                                                                  {"name": "localBindings", "term": {"variable": "bindings"}}],
                                                                                                                                "typeName": "hydra.ext.haskell.ast.SimpleValueBinding"}}},
                                                                                                                          "typeName": "hydra.ext.haskell.ast.ValueBinding"}},
                                                                                                                      "function": {"variable": "rewriteValueBinding"}}}}},
                                                                                                              "domain": [{"variable": "hydra.ext.haskell.ast.LambdaExpression"}],
                                                                                                              "parameter": "lambda'"}}}}],
                                                                                                    "default": [{"variable": "vb"}],
                                                                                                    "typeName": "hydra.ext.haskell.ast.Expression"}}}}}}}},
                                                                                    "domain": [{"variable": "hydra.ext.haskell.ast.ApplicationPattern"}],
                                                                                    "parameter": "appPat"}}}}],
                                                                          "default": [{"variable": "vb"}],
                                                                          "typeName": "hydra.ext.haskell.ast.Pattern"}}}}}}}},
                                                          "domain": [{"variable": "hydra.ext.haskell.ast.SimpleValueBinding"}],
                                                          "parameter": "simple"}}}}],
                                                "default": null,
                                                "typeName": "hydra.ext.haskell.ast.ValueBinding"}}}}}},
                                    "domain": [{"variable": "hydra.ext.haskell.ast.ValueBinding"}],
                                    "parameter": "vb"}}},
                              "type": [
                                {
                                  "constraints": null,
                                  "type": {
                                    "function": {
                                      "codomain": {"variable": "hydra.ext.haskell.ast.ValueBinding"},
                                      "domain": {"variable": "hydra.ext.haskell.ast.ValueBinding"}}},
                                  "variables": []}]},
                            {
                              "name": "toDecl",
                              "term": {
                                "function": {
                                  "lambda": {
                                    "body": {
                                      "function": {
                                        "lambda": {
                                          "body": {
                                            "function": {
                                              "lambda": {
                                                "body": {
                                                  "function": {
                                                    "lambda": {
                                                      "body": {
                                                        "application": {
                                                          "argument": {
                                                            "application": {
                                                              "argument": {"variable": "term'"},
                                                              "function": {"variable": "hydra.rewriting.deannotateTerm"}}},
                                                          "function": {
                                                            "function": {
                                                              "elimination": {
                                                                "union": {
                                                                  "cases": [
                                                                    {
                                                                      "name": "let",
                                                                      "term": {
                                                                        "function": {
                                                                          "lambda": {
                                                                            "body": {
                                                                              "let": {
                                                                                "bindings": [
                                                                                  {
                                                                                    "name": "lbindings",
                                                                                    "term": {
                                                                                      "application": {
                                                                                        "argument": {"variable": "letTerm"},
                                                                                        "function": {
                                                                                          "function": {
                                                                                            "elimination": {"record": {"field": "bindings", "typeName": "hydra.core.Let"}}}}}},
                                                                                    "type": [
                                                                                      {
                                                                                        "constraints": null,
                                                                                        "type": {"list": {"variable": "hydra.core.Binding"}},
                                                                                        "variables": []}]},
                                                                                  {
                                                                                    "name": "env",
                                                                                    "term": {
                                                                                      "application": {
                                                                                        "argument": {"variable": "letTerm"},
                                                                                        "function": {
                                                                                          "function": {
                                                                                            "elimination": {"record": {"field": "body", "typeName": "hydra.core.Let"}}}}}},
                                                                                    "type": [
                                                                                      {
                                                                                        "constraints": null,
                                                                                        "type": {"variable": "hydra.core.Term"},
                                                                                        "variables": []}]},
                                                                                  {
                                                                                    "name": "toBinding",
                                                                                    "term": {
                                                                                      "function": {
                                                                                        "lambda": {
                                                                                          "body": {
                                                                                            "function": {
                                                                                              "lambda": {
                                                                                                "body": {
                                                                                                  "union": {
                                                                                                    "field": {
                                                                                                      "name": "value",
                                                                                                      "term": {
                                                                                                        "application": {
                                                                                                          "argument": {
                                                                                                            "typeApplication": {
                                                                                                              "body": {"maybe": null},
                                                                                                              "type": {"variable": "hydra.ext.haskell.ast.LocalBindings"}}},
                                                                                                          "function": {
                                                                                                            "application": {
                                                                                                              "argument": {"variable": "hterm'"},
                                                                                                              "function": {
                                                                                                                "application": {
                                                                                                                  "argument": {"variable": "hname''"},
                                                                                                                  "function": {"variable": "hydra.ext.haskell.utils.simpleValueBinding"}}}}}}}},
                                                                                                    "typeName": "hydra.ext.haskell.ast.LocalBinding"}},
                                                                                                "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                                                                "parameter": "hterm'"}}},
                                                                                          "domain": [{"variable": "hydra.ext.haskell.ast.Name"}],
                                                                                          "parameter": "hname''"}}},
                                                                                    "type": [
                                                                                      {
                                                                                        "constraints": null,
                                                                                        "type": {
                                                                                          "function": {
                                                                                            "codomain": {
                                                                                              "function": {
                                                                                                "codomain": {"variable": "hydra.ext.haskell.ast.LocalBinding"},
                                                                                                "domain": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                                            "domain": {"variable": "hydra.ext.haskell.ast.Name"}}},
                                                                                        "variables": []}]},
                                                                                  {
                                                                                    "name": "hnames",
                                                                                    "term": {
                                                                                      "application": {
                                                                                        "argument": {"variable": "lbindings"},
                                                                                        "function": {
                                                                                          "application": {
                                                                                            "argument": {
                                                                                              "function": {
                                                                                                "lambda": {
                                                                                                  "body": {
                                                                                                    "application": {
                                                                                                      "argument": {
                                                                                                        "application": {
                                                                                                          "argument": {
                                                                                                            "application": {
                                                                                                              "argument": {"variable": "binding"},
                                                                                                              "function": {
                                                                                                                "function": {
                                                                                                                  "elimination": {"record": {"field": "name", "typeName": "hydra.core.Binding"}}}}}},
                                                                                                          "function": {"function": {"elimination": {"wrap": "hydra.core.Name"}}}}},
                                                                                                      "function": {"variable": "hydra.ext.haskell.utils.simpleName"}}},
                                                                                                  "domain": [{"variable": "hydra.core.Binding"}],
                                                                                                  "parameter": "binding"}}},
                                                                                            "function": {
                                                                                              "typeApplication": {
                                                                                                "body": {
                                                                                                  "typeApplication": {
                                                                                                    "body": {"function": {"primitive": "hydra.lib.lists.map"}},
                                                                                                    "type": {"variable": "hydra.core.Binding"}}},
                                                                                                "type": {"variable": "hydra.ext.haskell.ast.Name"}}}}}}},
                                                                                    "type": [
                                                                                      {
                                                                                        "constraints": null,
                                                                                        "type": {"list": {"variable": "hydra.ext.haskell.ast.Name"}},
                                                                                        "variables": []}]},
                                                                                  {
                                                                                    "name": "terms",
                                                                                    "term": {
                                                                                      "application": {
                                                                                        "argument": {"variable": "lbindings"},
                                                                                        "function": {
                                                                                          "application": {
                                                                                            "argument": {
                                                                                              "function": {
                                                                                                "elimination": {"record": {"field": "term", "typeName": "hydra.core.Binding"}}}},
                                                                                            "function": {
                                                                                              "typeApplication": {
                                                                                                "body": {
                                                                                                  "typeApplication": {
                                                                                                    "body": {"function": {"primitive": "hydra.lib.lists.map"}},
                                                                                                    "type": {"variable": "hydra.core.Binding"}}},
                                                                                                "type": {"variable": "hydra.core.Term"}}}}}}},
                                                                                    "type": [
                                                                                      {
                                                                                        "constraints": null,
                                                                                        "type": {"list": {"variable": "hydra.core.Term"}},
                                                                                        "variables": []}]}],
                                                                                "body": {
                                                                                  "application": {
                                                                                    "argument": {
                                                                                      "function": {
                                                                                        "lambda": {
                                                                                          "body": {
                                                                                            "let": {
                                                                                              "bindings": [
                                                                                                {
                                                                                                  "name": "hbindings",
                                                                                                  "term": {
                                                                                                    "application": {
                                                                                                      "argument": {"variable": "hterms"},
                                                                                                      "function": {
                                                                                                        "application": {
                                                                                                          "argument": {"variable": "hnames"},
                                                                                                          "function": {
                                                                                                            "application": {
                                                                                                              "argument": {"variable": "toBinding"},
                                                                                                              "function": {
                                                                                                                "typeApplication": {
                                                                                                                  "body": {
                                                                                                                    "typeApplication": {
                                                                                                                      "body": {
                                                                                                                        "typeApplication": {
                                                                                                                          "body": {"function": {"primitive": "hydra.lib.lists.zipWith"}},
                                                                                                                          "type": {"variable": "hydra.ext.haskell.ast.Name"}}},
                                                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                                                                  "type": {"variable": "hydra.ext.haskell.ast.LocalBinding"}}}}}}}}},
                                                                                                  "type": [
                                                                                                    {
                                                                                                      "constraints": null,
                                                                                                      "type": {"list": {"variable": "hydra.ext.haskell.ast.LocalBinding"}},
                                                                                                      "variables": []}]}],
                                                                                              "body": {
                                                                                                "application": {
                                                                                                  "argument": {
                                                                                                    "maybe": [
                                                                                                      {
                                                                                                        "wrap": {
                                                                                                          "body": {"variable": "hbindings"},
                                                                                                          "typeName": "hydra.ext.haskell.ast.LocalBindings"}}]},
                                                                                                  "function": {
                                                                                                    "application": {
                                                                                                      "argument": {"variable": "env"},
                                                                                                      "function": {
                                                                                                        "application": {
                                                                                                          "argument": {"variable": "hname'"},
                                                                                                          "function": {
                                                                                                            "application": {
                                                                                                              "argument": {"variable": "comments"},
                                                                                                              "function": {"variable": "toDecl"}}}}}}}}}}},
                                                                                          "domain": [{"list": {"variable": "hydra.ext.haskell.ast.Expression"}}],
                                                                                          "parameter": "hterms"}}},
                                                                                    "function": {
                                                                                      "application": {
                                                                                        "argument": {
                                                                                          "application": {
                                                                                            "argument": {"variable": "terms"},
                                                                                            "function": {
                                                                                              "application": {
                                                                                                "argument": {
                                                                                                  "application": {
                                                                                                    "argument": {"variable": "namespaces"},
                                                                                                    "function": {"variable": "hydra.ext.haskell.coder.encodeTerm"}}},
                                                                                                "function": {
                                                                                                  "typeApplication": {
                                                                                                    "body": {
                                                                                                      "typeApplication": {
                                                                                                        "body": {
                                                                                                          "typeApplication": {
                                                                                                            "body": {"function": {"primitive": "hydra.lib.flows.mapList"}},
                                                                                                            "type": {"variable": "hydra.core.Term"}}},
                                                                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                    "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}},
                                                                                        "function": {
                                                                                          "typeApplication": {
                                                                                            "body": {
                                                                                              "typeApplication": {
                                                                                                "body": {
                                                                                                  "typeApplication": {
                                                                                                    "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                                    "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                "type": {"list": {"variable": "hydra.ext.haskell.ast.Expression"}}}},
                                                                                            "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}}}},
                                                                            "domain": [{"variable": "hydra.core.Let"}],
                                                                            "parameter": "letTerm"}}}}],
                                                                  "default": [
                                                                    {
                                                                      "application": {
                                                                        "argument": {
                                                                          "function": {
                                                                            "lambda": {
                                                                              "body": {
                                                                                "let": {
                                                                                  "bindings": [
                                                                                    {
                                                                                      "name": "vb",
                                                                                      "term": {
                                                                                        "application": {
                                                                                          "argument": {"variable": "bindings"},
                                                                                          "function": {
                                                                                            "application": {
                                                                                              "argument": {"variable": "hterm"},
                                                                                              "function": {
                                                                                                "application": {
                                                                                                  "argument": {"variable": "hname'"},
                                                                                                  "function": {"variable": "hydra.ext.haskell.utils.simpleValueBinding"}}}}}}},
                                                                                      "type": [
                                                                                        {
                                                                                          "constraints": null,
                                                                                          "type": {"variable": "hydra.ext.haskell.ast.ValueBinding"},
                                                                                          "variables": []}]},
                                                                                    {
                                                                                      "name": "schemeConstraints",
                                                                                      "term": {
                                                                                        "application": {
                                                                                          "argument": {"variable": "typ"},
                                                                                          "function": {
                                                                                            "function": {
                                                                                              "elimination": {
                                                                                                "record": {"field": "constraints", "typeName": "hydra.core.TypeScheme"}}}}}},
                                                                                      "type": [
                                                                                        {
                                                                                          "constraints": null,
                                                                                          "type": {
                                                                                            "maybe": {
                                                                                              "map": {
                                                                                                "keys": {"variable": "hydra.core.Name"},
                                                                                                "values": {"variable": "hydra.core.TypeVariableMetadata"}}}},
                                                                                          "variables": []}]},
                                                                                    {
                                                                                      "name": "schemeClasses",
                                                                                      "term": {
                                                                                        "application": {
                                                                                          "argument": {"variable": "schemeConstraints"},
                                                                                          "function": {
                                                                                            "typeApplication": {
                                                                                              "body": {
                                                                                                "variable": "hydra.ext.haskell.coder.typeSchemeConstraintsToClassMap"},
                                                                                              "type": {"variable": "hydra.core.Name"}}}}},
                                                                                      "type": [
                                                                                        {
                                                                                          "constraints": null,
                                                                                          "type": {
                                                                                            "map": {
                                                                                              "keys": {"variable": "hydra.core.Name"},
                                                                                              "values": {"set": {"variable": "hydra.classes.TypeClass"}}}},
                                                                                          "variables": []}]}],
                                                                                  "body": {
                                                                                    "application": {
                                                                                      "argument": {
                                                                                        "function": {
                                                                                          "lambda": {
                                                                                            "body": {
                                                                                              "let": {
                                                                                                "bindings": [
                                                                                                  {
                                                                                                    "name": "combinedClasses",
                                                                                                    "term": {
                                                                                                      "application": {
                                                                                                        "argument": {"variable": "explicitClasses"},
                                                                                                        "function": {
                                                                                                          "application": {
                                                                                                            "argument": {"variable": "schemeClasses"},
                                                                                                            "function": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {
                                                                                                                  "typeApplication": {
                                                                                                                    "body": {"function": {"primitive": "hydra.lib.maps.union"}},
                                                                                                                    "type": {"variable": "hydra.core.Name"}}},
                                                                                                                "type": {"set": {"variable": "hydra.classes.TypeClass"}}}}}}}},
                                                                                                    "type": [
                                                                                                      {
                                                                                                        "constraints": null,
                                                                                                        "type": {
                                                                                                          "map": {
                                                                                                            "keys": {"variable": "hydra.core.Name"},
                                                                                                            "values": {"set": {"variable": "hydra.classes.TypeClass"}}}},
                                                                                                        "variables": []}]}],
                                                                                                "body": {
                                                                                                  "application": {
                                                                                                    "argument": {
                                                                                                      "function": {
                                                                                                        "lambda": {
                                                                                                          "body": {
                                                                                                            "let": {
                                                                                                              "bindings": [
                                                                                                                {
                                                                                                                  "name": "decl",
                                                                                                                  "term": {
                                                                                                                    "union": {
                                                                                                                      "field": {
                                                                                                                        "name": "typedBinding",
                                                                                                                        "term": {
                                                                                                                          "record": {
                                                                                                                            "fields": [
                                                                                                                              {
                                                                                                                                "name": "typeSignature",
                                                                                                                                "term": {
                                                                                                                                  "record": {
                                                                                                                                    "fields": [
                                                                                                                                      {"name": "name", "term": {"variable": "hname'"}},
                                                                                                                                      {"name": "type", "term": {"variable": "htype"}}],
                                                                                                                                    "typeName": "hydra.ext.haskell.ast.TypeSignature"}}},
                                                                                                                              {
                                                                                                                                "name": "valueBinding",
                                                                                                                                "term": {
                                                                                                                                  "application": {
                                                                                                                                    "argument": {"variable": "vb"},
                                                                                                                                    "function": {"variable": "rewriteValueBinding"}}}}],
                                                                                                                            "typeName": "hydra.ext.haskell.ast.TypedBinding"}}},
                                                                                                                      "typeName": "hydra.ext.haskell.ast.Declaration"}},
                                                                                                                  "type": [
                                                                                                                    {
                                                                                                                      "constraints": null,
                                                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Declaration"},
                                                                                                                      "variables": []}]}],
                                                                                                              "body": {
                                                                                                                "application": {
                                                                                                                  "argument": {
                                                                                                                    "record": {
                                                                                                                      "fields": [
                                                                                                                        {"name": "body", "term": {"variable": "decl"}},
                                                                                                                        {"name": "comments", "term": {"variable": "comments"}}],
                                                                                                                      "typeName": "hydra.ext.haskell.ast.DeclarationWithComments"}},
                                                                                                                  "function": {
                                                                                                                    "typeApplication": {
                                                                                                                      "body": {
                                                                                                                        "typeApplication": {
                                                                                                                          "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                          "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                      "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}},
                                                                                                          "domain": [{"variable": "hydra.ext.haskell.ast.Type"}],
                                                                                                          "parameter": "htype"}}},
                                                                                                    "function": {
                                                                                                      "application": {
                                                                                                        "argument": {
                                                                                                          "application": {
                                                                                                            "argument": {
                                                                                                              "application": {
                                                                                                                "argument": {"variable": "typ"},
                                                                                                                "function": {
                                                                                                                  "function": {
                                                                                                                    "elimination": {"record": {"field": "type", "typeName": "hydra.core.TypeScheme"}}}}}},
                                                                                                            "function": {
                                                                                                              "application": {
                                                                                                                "argument": {"variable": "combinedClasses"},
                                                                                                                "function": {
                                                                                                                  "application": {
                                                                                                                    "argument": {"variable": "namespaces"},
                                                                                                                    "function": {"variable": "hydra.ext.haskell.coder.encodeTypeWithClassAssertions"}}}}}}},
                                                                                                        "function": {
                                                                                                          "typeApplication": {
                                                                                                            "body": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {
                                                                                                                  "typeApplication": {
                                                                                                                    "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                                                    "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                                                                            "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}}}},
                                                                                            "domain": [
                                                                                              {
                                                                                                "map": {
                                                                                                  "keys": {"variable": "hydra.core.Name"},
                                                                                                  "values": {"set": {"variable": "hydra.classes.TypeClass"}}}}],
                                                                                            "parameter": "explicitClasses"}}},
                                                                                      "function": {
                                                                                        "application": {
                                                                                          "argument": {
                                                                                            "application": {
                                                                                              "argument": {
                                                                                                "application": {
                                                                                                  "argument": {"variable": "term"},
                                                                                                  "function": {"variable": "hydra.rewriting.removeTypesFromTerm"}}},
                                                                                              "function": {"variable": "hydra.annotations.getTypeClasses"}}},
                                                                                          "function": {
                                                                                            "typeApplication": {
                                                                                              "body": {
                                                                                                "typeApplication": {
                                                                                                  "body": {
                                                                                                    "typeApplication": {
                                                                                                      "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                                      "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                  "type": {
                                                                                                    "map": {
                                                                                                      "keys": {"variable": "hydra.core.Name"},
                                                                                                      "values": {"set": {"variable": "hydra.classes.TypeClass"}}}}}},
                                                                                              "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}}}},
                                                                              "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                                              "parameter": "hterm"}}},
                                                                        "function": {
                                                                          "application": {
                                                                            "argument": {
                                                                              "application": {
                                                                                "argument": {"variable": "term'"},
                                                                                "function": {
                                                                                  "application": {
                                                                                    "argument": {"variable": "namespaces"},
                                                                                    "function": {"variable": "hydra.ext.haskell.coder.encodeTerm"}}}}},
                                                                            "function": {
                                                                              "typeApplication": {
                                                                                "body": {
                                                                                  "typeApplication": {
                                                                                    "body": {
                                                                                      "typeApplication": {
                                                                                        "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                                                    "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                                                "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}}],
                                                                  "typeName": "hydra.core.Term"}}}}}},
                                                      "domain": [{"maybe": {"variable": "hydra.ext.haskell.ast.LocalBindings"}}],
                                                      "parameter": "bindings"}}},
                                                "domain": [{"variable": "hydra.core.Term"}],
                                                "parameter": "term'"}}},
                                          "domain": [{"variable": "hydra.ext.haskell.ast.Name"}],
                                          "parameter": "hname'"}}},
                                    "domain": [{"maybe": {"literal": {"string": {}}}}],
                                    "parameter": "comments"}}},
                              "type": [
                                {
                                  "constraints": null,
                                  "type": {
                                    "function": {
                                      "codomain": {
                                        "function": {
                                          "codomain": {
                                            "function": {
                                              "codomain": {
                                                "function": {
                                                  "codomain": {
                                                    "application": {
                                                      "argument": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"},
                                                      "function": {
                                                        "application": {
                                                          "argument": {"variable": "hydra.graph.Graph"},
                                                          "function": {"variable": "hydra.compute.Flow"}}}}},
                                                  "domain": {"maybe": {"variable": "hydra.ext.haskell.ast.LocalBindings"}}}},
                                              "domain": {"variable": "hydra.core.Term"}}},
                                          "domain": {"variable": "hydra.ext.haskell.ast.Name"}}},
                                      "domain": {"maybe": {"literal": {"string": {}}}}}},
                                  "variables": []}]}],
                          "body": {
                            "application": {
                              "argument": {
                                "function": {
                                  "lambda": {
                                    "body": {
                                      "application": {
                                        "argument": {
                                          "typeApplication": {
                                            "body": {"maybe": null},
                                            "type": {"variable": "hydra.ext.haskell.ast.LocalBindings"}}},
                                        "function": {
                                          "application": {
                                            "argument": {"variable": "term"},
                                            "function": {
                                              "application": {
                                                "argument": {"variable": "hname"},
                                                "function": {
                                                  "application": {
                                                    "argument": {"variable": "comments"},
                                                    "function": {"variable": "toDecl"}}}}}}}}},
                                    "domain": [{"maybe": {"literal": {"string": {}}}}],
                                    "parameter": "comments"}}},
                              "function": {
                                "application": {
                                  "argument": {
                                    "application": {
                                      "argument": {"variable": "term"},
                                      "function": {"variable": "hydra.annotations.getTermDescription"}}},
                                  "function": {
                                    "typeApplication": {
                                      "body": {
                                        "typeApplication": {
                                          "body": {
                                            "typeApplication": {
                                              "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                              "type": {"variable": "hydra.graph.Graph"}}},
                                          "type": {"maybe": {"literal": {"string": {}}}}}},
                                      "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}}}},
                      "domain": [{"variable": "hydra.module.TermDefinition"}],
                      "parameter": "def"}}},
                "domain": [
                  {
                    "application": {
                      "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                      "function": {"variable": "hydra.module.Namespaces"}}}],
                "parameter": "namespaces"}}}}},
      "type": [
        {
          "constraints": null,
          "type": {
            "function": {
              "codomain": {
                "function": {
                  "codomain": {
                    "application": {
                      "argument": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"},
                      "function": {
                        "application": {
                          "argument": {"variable": "hydra.graph.Graph"},
                          "function": {"variable": "hydra.compute.Flow"}}}}},
                  "domain": {"variable": "hydra.module.TermDefinition"}}},
              "domain": {
                "application": {
                  "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                  "function": {"variable": "hydra.module.Namespaces"}}}}},
          "variables": []}]},
    {
      "name": "hydra.ext.haskell.coder.toTypeDeclarationsFrom",
      "term": {
        "annotated": {
          "annotation": [
            {
              "@key": "description",
              "@value": {
                "literal": {"string": "Convert a Hydra type definition to Haskell declarations"}}}],
          "body": {
            "function": {
              "lambda": {
                "body": {
                  "function": {
                    "lambda": {
                      "body": {
                        "function": {
                          "lambda": {
                            "body": {
                              "let": {
                                "bindings": [
                                  {
                                    "name": "lname",
                                    "term": {
                                      "application": {
                                        "argument": {"variable": "elementName"},
                                        "function": {"variable": "hydra.names.localNameOf"}}},
                                    "type": [
                                      {
                                        "constraints": null,
                                        "type": {"literal": {"string": {}}},
                                        "variables": []}]},
                                  {
                                    "name": "hname",
                                    "term": {
                                      "application": {
                                        "argument": {"variable": "lname"},
                                        "function": {"variable": "hydra.ext.haskell.utils.simpleName"}}},
                                    "type": [
                                      {
                                        "constraints": null,
                                        "type": {"variable": "hydra.ext.haskell.ast.Name"},
                                        "variables": []}]},
                                  {
                                    "name": "declHead",
                                    "term": {
                                      "function": {
                                        "lambda": {
                                          "body": {
                                            "function": {
                                              "lambda": {
                                                "body": {
                                                  "application": {
                                                    "argument": {
                                                      "let": {
                                                        "bindings": [
                                                          {
                                                            "name": "h",
                                                            "term": {
                                                              "application": {
                                                                "argument": {"variable": "vars'"},
                                                                "function": {
                                                                  "typeApplication": {
                                                                    "body": {"function": {"primitive": "hydra.lib.lists.head"}},
                                                                    "type": {"variable": "hydra.core.Name"}}}}},
                                                            "type": [
                                                              {
                                                                "constraints": null,
                                                                "type": {"variable": "hydra.core.Name"},
                                                                "variables": []}]},
                                                          {
                                                            "name": "rest",
                                                            "term": {
                                                              "application": {
                                                                "argument": {"variable": "vars'"},
                                                                "function": {
                                                                  "typeApplication": {
                                                                    "body": {"function": {"primitive": "hydra.lib.lists.tail"}},
                                                                    "type": {"variable": "hydra.core.Name"}}}}},
                                                            "type": [
                                                              {
                                                                "constraints": null,
                                                                "type": {"list": {"variable": "hydra.core.Name"}},
                                                                "variables": []}]},
                                                          {
                                                            "name": "hvar",
                                                            "term": {
                                                              "wrap": {
                                                                "body": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {"variable": "h"},
                                                                        "function": {"function": {"elimination": {"wrap": "hydra.core.Name"}}}}},
                                                                    "function": {"variable": "hydra.ext.haskell.utils.simpleName"}}},
                                                                "typeName": "hydra.ext.haskell.ast.Variable"}},
                                                            "type": [
                                                              {
                                                                "constraints": null,
                                                                "type": {"variable": "hydra.ext.haskell.ast.Variable"},
                                                                "variables": []}]}],
                                                        "body": {
                                                          "union": {
                                                            "field": {
                                                              "name": "application",
                                                              "term": {
                                                                "record": {
                                                                  "fields": [
                                                                    {
                                                                      "name": "function",
                                                                      "term": {
                                                                        "application": {
                                                                          "argument": {"variable": "rest"},
                                                                          "function": {
                                                                            "application": {
                                                                              "argument": {"variable": "name"},
                                                                              "function": {"variable": "declHead"}}}}}},
                                                                    {"name": "operand", "term": {"variable": "hvar"}}],
                                                                  "typeName": "hydra.ext.haskell.ast.ApplicationDeclarationHead"}}},
                                                            "typeName": "hydra.ext.haskell.ast.DeclarationHead"}}}},
                                                    "function": {
                                                      "application": {
                                                        "argument": {
                                                          "union": {
                                                            "field": {"name": "simple", "term": {"variable": "name"}},
                                                            "typeName": "hydra.ext.haskell.ast.DeclarationHead"}},
                                                        "function": {
                                                          "application": {
                                                            "argument": {
                                                              "application": {
                                                                "argument": {"variable": "vars'"},
                                                                "function": {
                                                                  "typeApplication": {
                                                                    "body": {"function": {"primitive": "hydra.lib.lists.null"}},
                                                                    "type": {"variable": "hydra.core.Name"}}}}},
                                                            "function": {
                                                              "typeApplication": {
                                                                "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                                "type": {"variable": "hydra.ext.haskell.ast.DeclarationHead"}}}}}}}}},
                                                "domain": [{"list": {"variable": "hydra.core.Name"}}],
                                                "parameter": "vars'"}}},
                                          "domain": [{"variable": "hydra.ext.haskell.ast.Name"}],
                                          "parameter": "name"}}},
                                    "type": [
                                      {
                                        "constraints": null,
                                        "type": {
                                          "function": {
                                            "codomain": {
                                              "function": {
                                                "codomain": {"variable": "hydra.ext.haskell.ast.DeclarationHead"},
                                                "domain": {"list": {"variable": "hydra.core.Name"}}}},
                                            "domain": {"variable": "hydra.ext.haskell.ast.Name"}}},
                                        "variables": []}]},
                                  {
                                    "name": "newtypeCons",
                                    "term": {
                                      "function": {
                                        "lambda": {
                                          "body": {
                                            "function": {
                                              "lambda": {
                                                "body": {
                                                  "let": {
                                                    "bindings": [
                                                      {
                                                        "name": "hname",
                                                        "term": {
                                                          "application": {
                                                            "argument": {
                                                              "application": {
                                                                "argument": {"variable": "tname"},
                                                                "function": {"variable": "hydra.ext.haskell.utils.newtypeAccessorName"}}},
                                                            "function": {"variable": "hydra.ext.haskell.utils.simpleName"}}},
                                                        "type": [
                                                          {
                                                            "constraints": null,
                                                            "type": {"variable": "hydra.ext.haskell.ast.Name"},
                                                            "variables": []}]}],
                                                    "body": {
                                                      "application": {
                                                        "argument": {
                                                          "function": {
                                                            "lambda": {
                                                              "body": {
                                                                "let": {
                                                                  "bindings": [
                                                                    {
                                                                      "name": "hfield",
                                                                      "term": {
                                                                        "record": {
                                                                          "fields": [
                                                                            {
                                                                              "name": "field",
                                                                              "term": {
                                                                                "record": {
                                                                                  "fields": [
                                                                                    {"name": "name", "term": {"variable": "hname"}},
                                                                                    {"name": "type", "term": {"variable": "htype"}}],
                                                                                  "typeName": "hydra.ext.haskell.ast.Field"}}},
                                                                            {
                                                                              "name": "comments",
                                                                              "term": {
                                                                                "typeApplication": {"body": {"maybe": null}, "type": {"literal": {"string": {}}}}}}],
                                                                          "typeName": "hydra.ext.haskell.ast.FieldWithComments"}},
                                                                      "type": [
                                                                        {
                                                                          "constraints": null,
                                                                          "type": {"variable": "hydra.ext.haskell.ast.FieldWithComments"},
                                                                          "variables": []}]},
                                                                    {
                                                                      "name": "constructorName",
                                                                      "term": {
                                                                        "application": {
                                                                          "argument": {
                                                                            "application": {
                                                                              "argument": {"variable": "tname"},
                                                                              "function": {"variable": "hydra.names.localNameOf"}}},
                                                                          "function": {"variable": "hydra.ext.haskell.utils.simpleName"}}},
                                                                      "type": [
                                                                        {
                                                                          "constraints": null,
                                                                          "type": {"variable": "hydra.ext.haskell.ast.Name"},
                                                                          "variables": []}]}],
                                                                  "body": {
                                                                    "application": {
                                                                      "argument": {
                                                                        "record": {
                                                                          "fields": [
                                                                            {
                                                                              "name": "body",
                                                                              "term": {
                                                                                "union": {
                                                                                  "field": {
                                                                                    "name": "record",
                                                                                    "term": {
                                                                                      "record": {
                                                                                        "fields": [
                                                                                          {"name": "name", "term": {"variable": "constructorName"}},
                                                                                          {"name": "fields", "term": {"list": [{"variable": "hfield"}]}}],
                                                                                        "typeName": "hydra.ext.haskell.ast.RecordConstructor"}}},
                                                                                  "typeName": "hydra.ext.haskell.ast.Constructor"}}},
                                                                            {
                                                                              "name": "comments",
                                                                              "term": {
                                                                                "typeApplication": {"body": {"maybe": null}, "type": {"literal": {"string": {}}}}}}],
                                                                          "typeName": "hydra.ext.haskell.ast.ConstructorWithComments"}},
                                                                      "function": {
                                                                        "typeApplication": {
                                                                          "body": {
                                                                            "typeApplication": {
                                                                              "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                              "type": {"variable": "hydra.graph.Graph"}}},
                                                                          "type": {"variable": "hydra.ext.haskell.ast.ConstructorWithComments"}}}}}}},
                                                              "domain": [{"variable": "hydra.ext.haskell.ast.Type"}],
                                                              "parameter": "htype"}}},
                                                        "function": {
                                                          "application": {
                                                            "argument": {
                                                              "application": {
                                                                "argument": {"variable": "typ'"},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {"variable": "namespaces"},
                                                                    "function": {"variable": "hydra.ext.haskell.coder.adaptTypeToHaskellAndEncode"}}}}},
                                                            "function": {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "typeApplication": {
                                                                    "body": {
                                                                      "typeApplication": {
                                                                        "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                                    "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                                "type": {"variable": "hydra.ext.haskell.ast.ConstructorWithComments"}}}}}}}}},
                                                "domain": [{"variable": "hydra.core.Type"}],
                                                "parameter": "typ'"}}},
                                          "domain": [{"variable": "hydra.core.Name"}],
                                          "parameter": "tname"}}},
                                    "type": [
                                      {
                                        "constraints": null,
                                        "type": {
                                          "function": {
                                            "codomain": {
                                              "function": {
                                                "codomain": {
                                                  "application": {
                                                    "argument": {"variable": "hydra.ext.haskell.ast.ConstructorWithComments"},
                                                    "function": {
                                                      "application": {
                                                        "argument": {"variable": "hydra.graph.Graph"},
                                                        "function": {"variable": "hydra.compute.Flow"}}}}},
                                                "domain": {"variable": "hydra.core.Type"}}},
                                            "domain": {"variable": "hydra.core.Name"}}},
                                        "variables": []}]},
                                  {
                                    "name": "recordCons",
                                    "term": {
                                      "function": {
                                        "lambda": {
                                          "body": {
                                            "function": {
                                              "lambda": {
                                                "body": {
                                                  "let": {
                                                    "bindings": [
                                                      {
                                                        "name": "toField",
                                                        "term": {
                                                          "function": {
                                                            "lambda": {
                                                              "body": {
                                                                "let": {
                                                                  "bindings": [
                                                                    {
                                                                      "name": "fname",
                                                                      "term": {
                                                                        "application": {
                                                                          "argument": {"variable": "fieldType"},
                                                                          "function": {
                                                                            "function": {
                                                                              "elimination": {"record": {"field": "name", "typeName": "hydra.core.FieldType"}}}}}},
                                                                      "type": [
                                                                        {
                                                                          "constraints": null,
                                                                          "type": {"variable": "hydra.core.Name"},
                                                                          "variables": []}]},
                                                                    {
                                                                      "name": "ftype",
                                                                      "term": {
                                                                        "application": {
                                                                          "argument": {"variable": "fieldType"},
                                                                          "function": {
                                                                            "function": {
                                                                              "elimination": {"record": {"field": "type", "typeName": "hydra.core.FieldType"}}}}}},
                                                                      "type": [
                                                                        {
                                                                          "constraints": null,
                                                                          "type": {"variable": "hydra.core.Type"},
                                                                          "variables": []}]},
                                                                    {
                                                                      "name": "hname'",
                                                                      "term": {
                                                                        "application": {
                                                                          "argument": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "application": {
                                                                                  "argument": {
                                                                                    "application": {
                                                                                      "argument": {"variable": "fname"},
                                                                                      "function": {"function": {"elimination": {"wrap": "hydra.core.Name"}}}}},
                                                                                  "function": {"variable": "hydra.formatting.capitalize"}}},
                                                                              "function": {
                                                                                "application": {
                                                                                  "argument": {
                                                                                    "application": {
                                                                                      "argument": {"variable": "lname'"},
                                                                                      "function": {"variable": "hydra.formatting.decapitalize"}}},
                                                                                  "function": {"function": {"primitive": "hydra.lib.strings.cat2"}}}}}},
                                                                          "function": {"variable": "hydra.ext.haskell.utils.simpleName"}}},
                                                                      "type": [
                                                                        {
                                                                          "constraints": null,
                                                                          "type": {"variable": "hydra.ext.haskell.ast.Name"},
                                                                          "variables": []}]}],
                                                                  "body": {
                                                                    "application": {
                                                                      "argument": {
                                                                        "function": {
                                                                          "lambda": {
                                                                            "body": {
                                                                              "application": {
                                                                                "argument": {
                                                                                  "function": {
                                                                                    "lambda": {
                                                                                      "body": {
                                                                                        "application": {
                                                                                          "argument": {
                                                                                            "record": {
                                                                                              "fields": [
                                                                                                {
                                                                                                  "name": "field",
                                                                                                  "term": {
                                                                                                    "record": {
                                                                                                      "fields": [
                                                                                                        {"name": "name", "term": {"variable": "hname'"}},
                                                                                                        {"name": "type", "term": {"variable": "htype"}}],
                                                                                                      "typeName": "hydra.ext.haskell.ast.Field"}}},
                                                                                                {"name": "comments", "term": {"variable": "comments"}}],
                                                                                              "typeName": "hydra.ext.haskell.ast.FieldWithComments"}},
                                                                                          "function": {
                                                                                            "typeApplication": {
                                                                                              "body": {
                                                                                                "typeApplication": {
                                                                                                  "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                  "type": {"variable": "hydra.graph.Graph"}}},
                                                                                              "type": {"variable": "hydra.ext.haskell.ast.FieldWithComments"}}}}},
                                                                                      "domain": [{"maybe": {"literal": {"string": {}}}}],
                                                                                      "parameter": "comments"}}},
                                                                                "function": {
                                                                                  "application": {
                                                                                    "argument": {
                                                                                      "application": {
                                                                                        "argument": {"variable": "ftype"},
                                                                                        "function": {"variable": "hydra.annotations.getTypeDescription"}}},
                                                                                    "function": {
                                                                                      "typeApplication": {
                                                                                        "body": {
                                                                                          "typeApplication": {
                                                                                            "body": {
                                                                                              "typeApplication": {
                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                                "type": {"variable": "hydra.graph.Graph"}}},
                                                                                            "type": {"maybe": {"literal": {"string": {}}}}}},
                                                                                        "type": {"variable": "hydra.ext.haskell.ast.FieldWithComments"}}}}}}},
                                                                            "domain": [{"variable": "hydra.ext.haskell.ast.Type"}],
                                                                            "parameter": "htype"}}},
                                                                      "function": {
                                                                        "application": {
                                                                          "argument": {
                                                                            "application": {
                                                                              "argument": {"variable": "ftype"},
                                                                              "function": {
                                                                                "application": {
                                                                                  "argument": {"variable": "namespaces"},
                                                                                  "function": {"variable": "hydra.ext.haskell.coder.adaptTypeToHaskellAndEncode"}}}}},
                                                                          "function": {
                                                                            "typeApplication": {
                                                                              "body": {
                                                                                "typeApplication": {
                                                                                  "body": {
                                                                                    "typeApplication": {
                                                                                      "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                      "type": {"variable": "hydra.graph.Graph"}}},
                                                                                  "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                                              "type": {"variable": "hydra.ext.haskell.ast.FieldWithComments"}}}}}}}}},
                                                              "domain": [{"variable": "hydra.core.FieldType"}],
                                                              "parameter": "fieldType"}}},
                                                        "type": [
                                                          {
                                                            "constraints": null,
                                                            "type": {
                                                              "function": {
                                                                "codomain": {
                                                                  "application": {
                                                                    "argument": {"variable": "hydra.ext.haskell.ast.FieldWithComments"},
                                                                    "function": {
                                                                      "application": {
                                                                        "argument": {"variable": "hydra.graph.Graph"},
                                                                        "function": {"variable": "hydra.compute.Flow"}}}}},
                                                                "domain": {"variable": "hydra.core.FieldType"}}},
                                                            "variables": []}]}],
                                                    "body": {
                                                      "application": {
                                                        "argument": {
                                                          "function": {
                                                            "lambda": {
                                                              "body": {
                                                                "application": {
                                                                  "argument": {
                                                                    "record": {
                                                                      "fields": [
                                                                        {
                                                                          "name": "body",
                                                                          "term": {
                                                                            "union": {
                                                                              "field": {
                                                                                "name": "record",
                                                                                "term": {
                                                                                  "record": {
                                                                                    "fields": [
                                                                                      {
                                                                                        "name": "name",
                                                                                        "term": {
                                                                                          "application": {
                                                                                            "argument": {"variable": "lname'"},
                                                                                            "function": {"variable": "hydra.ext.haskell.utils.simpleName"}}}},
                                                                                      {"name": "fields", "term": {"variable": "hFields"}}],
                                                                                    "typeName": "hydra.ext.haskell.ast.RecordConstructor"}}},
                                                                              "typeName": "hydra.ext.haskell.ast.Constructor"}}},
                                                                        {
                                                                          "name": "comments",
                                                                          "term": {
                                                                            "typeApplication": {"body": {"maybe": null}, "type": {"literal": {"string": {}}}}}}],
                                                                      "typeName": "hydra.ext.haskell.ast.ConstructorWithComments"}},
                                                                  "function": {
                                                                    "typeApplication": {
                                                                      "body": {
                                                                        "typeApplication": {
                                                                          "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                          "type": {"variable": "hydra.graph.Graph"}}},
                                                                      "type": {"variable": "hydra.ext.haskell.ast.ConstructorWithComments"}}}}},
                                                              "domain": [{"list": {"variable": "hydra.ext.haskell.ast.FieldWithComments"}}],
                                                              "parameter": "hFields"}}},
                                                        "function": {
                                                          "application": {
                                                            "argument": {
                                                              "application": {
                                                                "argument": {"variable": "fields"},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {"variable": "toField"},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {"function": {"primitive": "hydra.lib.flows.mapList"}},
                                                                                "type": {"variable": "hydra.core.FieldType"}}},
                                                                            "type": {"variable": "hydra.graph.Graph"}}},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.FieldWithComments"}}}}}}},
                                                            "function": {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "typeApplication": {
                                                                    "body": {
                                                                      "typeApplication": {
                                                                        "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                                    "type": {"list": {"variable": "hydra.ext.haskell.ast.FieldWithComments"}}}},
                                                                "type": {"variable": "hydra.ext.haskell.ast.ConstructorWithComments"}}}}}}}}},
                                                "domain": [{"list": {"variable": "hydra.core.FieldType"}}],
                                                "parameter": "fields"}}},
                                          "domain": [{"literal": {"string": {}}}],
                                          "parameter": "lname'"}}},
                                    "type": [
                                      {
                                        "constraints": null,
                                        "type": {
                                          "function": {
                                            "codomain": {
                                              "function": {
                                                "codomain": {
                                                  "application": {
                                                    "argument": {"variable": "hydra.ext.haskell.ast.ConstructorWithComments"},
                                                    "function": {
                                                      "application": {
                                                        "argument": {"variable": "hydra.graph.Graph"},
                                                        "function": {"variable": "hydra.compute.Flow"}}}}},
                                                "domain": {"list": {"variable": "hydra.core.FieldType"}}}},
                                            "domain": {"literal": {"string": {}}}}},
                                        "variables": []}]},
                                  {
                                    "name": "unionCons",
                                    "term": {
                                      "function": {
                                        "lambda": {
                                          "body": {
                                            "function": {
                                              "lambda": {
                                                "body": {
                                                  "function": {
                                                    "lambda": {
                                                      "body": {
                                                        "let": {
                                                          "bindings": [
                                                            {
                                                              "name": "fname",
                                                              "term": {
                                                                "application": {
                                                                  "argument": {"variable": "fieldType"},
                                                                  "function": {
                                                                    "function": {
                                                                      "elimination": {"record": {"field": "name", "typeName": "hydra.core.FieldType"}}}}}},
                                                              "type": [
                                                                {
                                                                  "constraints": null,
                                                                  "type": {"variable": "hydra.core.Name"},
                                                                  "variables": []}]},
                                                            {
                                                              "name": "ftype",
                                                              "term": {
                                                                "application": {
                                                                  "argument": {"variable": "fieldType"},
                                                                  "function": {
                                                                    "function": {
                                                                      "elimination": {"record": {"field": "type", "typeName": "hydra.core.FieldType"}}}}}},
                                                              "type": [
                                                                {
                                                                  "constraints": null,
                                                                  "type": {"variable": "hydra.core.Type"},
                                                                  "variables": []}]},
                                                            {
                                                              "name": "deconflict",
                                                              "term": {
                                                                "function": {
                                                                  "lambda": {
                                                                    "body": {
                                                                      "let": {
                                                                        "bindings": [
                                                                          {
                                                                            "name": "tname",
                                                                            "term": {
                                                                              "application": {
                                                                                "argument": {
                                                                                  "record": {
                                                                                    "fields": [
                                                                                      {
                                                                                        "name": "namespace",
                                                                                        "term": {
                                                                                          "maybe": [
                                                                                            {
                                                                                              "application": {
                                                                                                "argument": {
                                                                                                  "application": {
                                                                                                    "argument": {"variable": "namespaces"},
                                                                                                    "function": {
                                                                                                      "typeApplication": {
                                                                                                        "body": {
                                                                                                          "function": {
                                                                                                            "elimination": {"record": {"field": "focus", "typeName": "hydra.module.Namespaces"}}}},
                                                                                                        "type": {"variable": "hydra.ext.haskell.ast.ModuleName"}}}}},
                                                                                                "function": {
                                                                                                  "typeApplication": {
                                                                                                    "body": {
                                                                                                      "typeApplication": {
                                                                                                        "body": {"function": {"primitive": "hydra.lib.pairs.first"}},
                                                                                                        "type": {"variable": "hydra.module.Namespace"}}},
                                                                                                    "type": {"variable": "hydra.ext.haskell.ast.ModuleName"}}}}}]}},
                                                                                      {"name": "local", "term": {"variable": "name"}}],
                                                                                    "typeName": "hydra.module.QualifiedName"}},
                                                                                "function": {"variable": "hydra.names.unqualifyName"}}},
                                                                            "type": [
                                                                              {
                                                                                "constraints": null,
                                                                                "type": {"variable": "hydra.core.Name"},
                                                                                "variables": []}]}],
                                                                        "body": {
                                                                          "application": {
                                                                            "argument": {"variable": "name"},
                                                                            "function": {
                                                                              "application": {
                                                                                "argument": {
                                                                                  "application": {
                                                                                    "argument": {
                                                                                      "application": {
                                                                                        "argument": {"literal": {"string": "_"}},
                                                                                        "function": {
                                                                                          "application": {
                                                                                            "argument": {"variable": "name"},
                                                                                            "function": {"function": {"primitive": "hydra.lib.strings.cat2"}}}}}},
                                                                                    "function": {"variable": "deconflict"}}},
                                                                                "function": {
                                                                                  "application": {
                                                                                    "argument": {
                                                                                      "application": {
                                                                                        "argument": {
                                                                                          "application": {
                                                                                            "argument": {
                                                                                              "application": {
                                                                                                "argument": {"variable": "g'"},
                                                                                                "function": {
                                                                                                  "function": {
                                                                                                    "elimination": {"record": {"field": "elements", "typeName": "hydra.graph.Graph"}}}}}},
                                                                                            "function": {
                                                                                              "application": {
                                                                                                "argument": {
                                                                                                  "function": {
                                                                                                    "lambda": {
                                                                                                      "body": {
                                                                                                        "application": {
                                                                                                          "argument": {"variable": "tname"},
                                                                                                          "function": {
                                                                                                            "application": {
                                                                                                              "argument": {
                                                                                                                "application": {
                                                                                                                  "argument": {"variable": "b"},
                                                                                                                  "function": {
                                                                                                                    "function": {
                                                                                                                      "elimination": {"record": {"field": "name", "typeName": "hydra.core.Binding"}}}}}},
                                                                                                              "function": {
                                                                                                                "typeApplication": {
                                                                                                                  "body": {"function": {"primitive": "hydra.lib.equality.equal"}},
                                                                                                                  "type": {"variable": "hydra.core.Name"}}}}}}},
                                                                                                      "domain": [{"variable": "hydra.core.Binding"}],
                                                                                                      "parameter": "b"}}},
                                                                                                "function": {
                                                                                                  "typeApplication": {
                                                                                                    "body": {"function": {"primitive": "hydra.lib.lists.find"}},
                                                                                                    "type": {"variable": "hydra.core.Binding"}}}}}}},
                                                                                        "function": {
                                                                                          "typeApplication": {
                                                                                            "body": {"function": {"primitive": "hydra.lib.maybes.isJust"}},
                                                                                            "type": {"variable": "hydra.core.Binding"}}}}},
                                                                                    "function": {
                                                                                      "typeApplication": {
                                                                                        "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                                                        "type": {"literal": {"string": {}}}}}}}}}}}}},
                                                                    "domain": [{"literal": {"string": {}}}],
                                                                    "parameter": "name"}}},
                                                              "type": [
                                                                {
                                                                  "constraints": null,
                                                                  "type": {
                                                                    "function": {
                                                                      "codomain": {"literal": {"string": {}}},
                                                                      "domain": {"literal": {"string": {}}}}},
                                                                  "variables": []}]}],
                                                          "body": {
                                                            "application": {
                                                              "argument": {
                                                                "function": {
                                                                  "lambda": {
                                                                    "body": {
                                                                      "let": {
                                                                        "bindings": [
                                                                          {
                                                                            "name": "nm",
                                                                            "term": {
                                                                              "application": {
                                                                                "argument": {
                                                                                  "application": {
                                                                                    "argument": {
                                                                                      "application": {
                                                                                        "argument": {
                                                                                          "application": {
                                                                                            "argument": {"variable": "fname"},
                                                                                            "function": {"function": {"elimination": {"wrap": "hydra.core.Name"}}}}},
                                                                                        "function": {"variable": "hydra.formatting.capitalize"}}},
                                                                                    "function": {
                                                                                      "application": {
                                                                                        "argument": {
                                                                                          "application": {
                                                                                            "argument": {"variable": "lname'"},
                                                                                            "function": {"variable": "hydra.formatting.capitalize"}}},
                                                                                        "function": {"function": {"primitive": "hydra.lib.strings.cat2"}}}}}},
                                                                                "function": {"variable": "deconflict"}}},
                                                                            "type": [
                                                                              {
                                                                                "constraints": null,
                                                                                "type": {"literal": {"string": {}}},
                                                                                "variables": []}]}],
                                                                        "body": {
                                                                          "application": {
                                                                            "argument": {
                                                                              "function": {
                                                                                "lambda": {
                                                                                  "body": {
                                                                                    "application": {
                                                                                      "argument": {
                                                                                        "record": {
                                                                                          "fields": [
                                                                                            {
                                                                                              "name": "body",
                                                                                              "term": {
                                                                                                "union": {
                                                                                                  "field": {
                                                                                                    "name": "ordinary",
                                                                                                    "term": {
                                                                                                      "record": {
                                                                                                        "fields": [
                                                                                                          {
                                                                                                            "name": "name",
                                                                                                            "term": {
                                                                                                              "application": {
                                                                                                                "argument": {"variable": "nm"},
                                                                                                                "function": {"variable": "hydra.ext.haskell.utils.simpleName"}}}},
                                                                                                          {"name": "fields", "term": {"variable": "typeList"}}],
                                                                                                        "typeName": "hydra.ext.haskell.ast.OrdinaryConstructor"}}},
                                                                                                  "typeName": "hydra.ext.haskell.ast.Constructor"}}},
                                                                                            {"name": "comments", "term": {"variable": "comments"}}],
                                                                                          "typeName": "hydra.ext.haskell.ast.ConstructorWithComments"}},
                                                                                      "function": {
                                                                                        "typeApplication": {
                                                                                          "body": {
                                                                                            "typeApplication": {
                                                                                              "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                              "type": {"variable": "hydra.graph.Graph"}}},
                                                                                          "type": {"variable": "hydra.ext.haskell.ast.ConstructorWithComments"}}}}},
                                                                                  "domain": [{"list": {"variable": "hydra.ext.haskell.ast.Type"}}],
                                                                                  "parameter": "typeList"}}},
                                                                            "function": {
                                                                              "application": {
                                                                                "argument": {
                                                                                  "application": {
                                                                                    "argument": {
                                                                                      "application": {
                                                                                        "argument": {
                                                                                          "function": {
                                                                                            "lambda": {
                                                                                              "body": {
                                                                                                "application": {
                                                                                                  "argument": {"list": [{"variable": "htype"}]},
                                                                                                  "function": {
                                                                                                    "typeApplication": {
                                                                                                      "body": {
                                                                                                        "typeApplication": {
                                                                                                          "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                          "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                      "type": {"list": {"variable": "hydra.ext.haskell.ast.Type"}}}}}},
                                                                                              "domain": [{"variable": "hydra.ext.haskell.ast.Type"}],
                                                                                              "parameter": "htype"}}},
                                                                                        "function": {
                                                                                          "application": {
                                                                                            "argument": {
                                                                                              "application": {
                                                                                                "argument": {"variable": "ftype"},
                                                                                                "function": {
                                                                                                  "application": {
                                                                                                    "argument": {"variable": "namespaces"},
                                                                                                    "function": {"variable": "hydra.ext.haskell.coder.adaptTypeToHaskellAndEncode"}}}}},
                                                                                            "function": {
                                                                                              "typeApplication": {
                                                                                                "body": {
                                                                                                  "typeApplication": {
                                                                                                    "body": {
                                                                                                      "typeApplication": {
                                                                                                        "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                    "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                                                                "type": {"list": {"variable": "hydra.ext.haskell.ast.Type"}}}}}}}},
                                                                                    "function": {
                                                                                      "application": {
                                                                                        "argument": {
                                                                                          "application": {
                                                                                            "argument": {
                                                                                              "typeApplication": {
                                                                                                "body": {"list": []},
                                                                                                "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                                                            "function": {
                                                                                              "typeApplication": {
                                                                                                "body": {
                                                                                                  "typeApplication": {
                                                                                                    "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                    "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                "type": {"list": {"variable": "hydra.ext.haskell.ast.Type"}}}}}},
                                                                                        "function": {
                                                                                          "application": {
                                                                                            "argument": {
                                                                                              "application": {
                                                                                                "argument": {
                                                                                                  "union": {
                                                                                                    "field": {"name": "unit", "term": {"unit": {}}},
                                                                                                    "typeName": "hydra.core.Type"}},
                                                                                                "function": {
                                                                                                  "application": {
                                                                                                    "argument": {
                                                                                                      "application": {
                                                                                                        "argument": {"variable": "ftype"},
                                                                                                        "function": {"variable": "hydra.rewriting.deannotateType"}}},
                                                                                                    "function": {
                                                                                                      "typeApplication": {
                                                                                                        "body": {"function": {"primitive": "hydra.lib.equality.equal"}},
                                                                                                        "type": {"variable": "hydra.core.Type"}}}}}}},
                                                                                            "function": {
                                                                                              "typeApplication": {
                                                                                                "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                                                                "type": {
                                                                                                  "application": {
                                                                                                    "argument": {"list": {"variable": "hydra.ext.haskell.ast.Type"}},
                                                                                                    "function": {
                                                                                                      "application": {
                                                                                                        "argument": {"variable": "hydra.graph.Graph"},
                                                                                                        "function": {"variable": "hydra.compute.Flow"}}}}}}}}}}}}},
                                                                                "function": {
                                                                                  "typeApplication": {
                                                                                    "body": {
                                                                                      "typeApplication": {
                                                                                        "body": {
                                                                                          "typeApplication": {
                                                                                            "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                            "type": {"variable": "hydra.graph.Graph"}}},
                                                                                        "type": {"list": {"variable": "hydra.ext.haskell.ast.Type"}}}},
                                                                                    "type": {"variable": "hydra.ext.haskell.ast.ConstructorWithComments"}}}}}}}}},
                                                                    "domain": [{"maybe": {"literal": {"string": {}}}}],
                                                                    "parameter": "comments"}}},
                                                              "function": {
                                                                "application": {
                                                                  "argument": {
                                                                    "application": {
                                                                      "argument": {"variable": "ftype"},
                                                                      "function": {"variable": "hydra.annotations.getTypeDescription"}}},
                                                                  "function": {
                                                                    "typeApplication": {
                                                                      "body": {
                                                                        "typeApplication": {
                                                                          "body": {
                                                                            "typeApplication": {
                                                                              "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                              "type": {"variable": "hydra.graph.Graph"}}},
                                                                          "type": {"maybe": {"literal": {"string": {}}}}}},
                                                                      "type": {"variable": "hydra.ext.haskell.ast.ConstructorWithComments"}}}}}}}}},
                                                      "domain": [{"variable": "hydra.core.FieldType"}],
                                                      "parameter": "fieldType"}}},
                                                "domain": [{"literal": {"string": {}}}],
                                                "parameter": "lname'"}}},
                                          "domain": [{"variable": "hydra.graph.Graph"}],
                                          "parameter": "g'"}}},
                                    "type": [
                                      {
                                        "constraints": null,
                                        "type": {
                                          "function": {
                                            "codomain": {
                                              "function": {
                                                "codomain": {
                                                  "function": {
                                                    "codomain": {
                                                      "application": {
                                                        "argument": {"variable": "hydra.ext.haskell.ast.ConstructorWithComments"},
                                                        "function": {
                                                          "application": {
                                                            "argument": {"variable": "hydra.graph.Graph"},
                                                            "function": {"variable": "hydra.compute.Flow"}}}}},
                                                    "domain": {"variable": "hydra.core.FieldType"}}},
                                                "domain": {"literal": {"string": {}}}}},
                                            "domain": {"variable": "hydra.graph.Graph"}}},
                                        "variables": []}]}],
                                "body": {
                                  "application": {
                                    "argument": {
                                      "application": {
                                        "argument": {
                                          "function": {
                                            "lambda": {
                                              "body": {
                                                "application": {
                                                  "argument": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "let": {
                                                            "bindings": [
                                                              {
                                                                "name": "deriv",
                                                                "term": {
                                                                  "wrap": {
                                                                    "body": {
                                                                      "application": {
                                                                        "argument": {
                                                                          "typeApplication": {
                                                                            "body": {"list": []},
                                                                            "type": {"variable": "hydra.ext.haskell.ast.Name"}}},
                                                                        "function": {
                                                                          "application": {
                                                                            "argument": {
                                                                              "application": {
                                                                                "argument": {
                                                                                  "list": [
                                                                                    {"literal": {"string": "Eq"}},
                                                                                    {"literal": {"string": "Ord"}},
                                                                                    {"literal": {"string": "Read"}},
                                                                                    {"literal": {"string": "Show"}}]},
                                                                                "function": {
                                                                                  "application": {
                                                                                    "argument": {"variable": "hydra.ext.haskell.utils.rawName"},
                                                                                    "function": {
                                                                                      "typeApplication": {
                                                                                        "body": {
                                                                                          "typeApplication": {
                                                                                            "body": {"function": {"primitive": "hydra.lib.lists.map"}},
                                                                                            "type": {"literal": {"string": {}}}}},
                                                                                        "type": {"variable": "hydra.ext.haskell.ast.Name"}}}}}}},
                                                                            "function": {
                                                                              "application": {
                                                                                "argument": {"variable": "isSer"},
                                                                                "function": {
                                                                                  "typeApplication": {
                                                                                    "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                                                    "type": {"list": {"variable": "hydra.ext.haskell.ast.Name"}}}}}}}}}},
                                                                    "typeName": "hydra.ext.haskell.ast.Deriving"}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.ext.haskell.ast.Deriving"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "unpackResult",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "typ"},
                                                                    "function": {
                                                                      "application": {
                                                                        "argument": {"variable": "g"},
                                                                        "function": {
                                                                          "typeApplication": {
                                                                            "body": {"variable": "hydra.ext.haskell.utils.unpackForallType"},
                                                                            "type": {"variable": "hydra.graph.Graph"}}}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {
                                                                      "pair": {
                                                                        "first": {"list": {"variable": "hydra.core.Name"}},
                                                                        "second": {"variable": "hydra.core.Type"}}},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "vars",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "unpackResult"},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.pairs.first"}},
                                                                            "type": {"list": {"variable": "hydra.core.Name"}}}},
                                                                        "type": {"variable": "hydra.core.Type"}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"list": {"variable": "hydra.core.Name"}},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "t'",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {"variable": "unpackResult"},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.pairs.second"}},
                                                                            "type": {"list": {"variable": "hydra.core.Name"}}}},
                                                                        "type": {"variable": "hydra.core.Type"}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.core.Type"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "hd",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {"variable": "vars"},
                                                                        "function": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.lists.reverse"}},
                                                                            "type": {"variable": "hydra.core.Name"}}}}},
                                                                    "function": {
                                                                      "application": {
                                                                        "argument": {"variable": "hname"},
                                                                        "function": {"variable": "declHead"}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.ext.haskell.ast.DeclarationHead"},
                                                                    "variables": []}]}],
                                                            "body": {
                                                              "application": {
                                                                "argument": {
                                                                  "function": {
                                                                    "lambda": {
                                                                      "body": {
                                                                        "application": {
                                                                          "argument": {
                                                                            "function": {
                                                                              "lambda": {
                                                                                "body": {
                                                                                  "application": {
                                                                                    "argument": {
                                                                                      "function": {
                                                                                        "lambda": {
                                                                                          "body": {
                                                                                            "let": {
                                                                                              "bindings": [
                                                                                                {
                                                                                                  "name": "mainDecl",
                                                                                                  "term": {
                                                                                                    "record": {
                                                                                                      "fields": [
                                                                                                        {"name": "body", "term": {"variable": "decl"}},
                                                                                                        {"name": "comments", "term": {"variable": "comments"}}],
                                                                                                      "typeName": "hydra.ext.haskell.ast.DeclarationWithComments"}},
                                                                                                  "type": [
                                                                                                    {
                                                                                                      "constraints": null,
                                                                                                      "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"},
                                                                                                      "variables": []}]},
                                                                                                {
                                                                                                  "name": "nameDecls'",
                                                                                                  "term": {
                                                                                                    "application": {
                                                                                                      "argument": {"variable": "typ"},
                                                                                                      "function": {
                                                                                                        "application": {
                                                                                                          "argument": {"variable": "elementName"},
                                                                                                          "function": {
                                                                                                            "application": {
                                                                                                              "argument": {"variable": "namespaces"},
                                                                                                              "function": {
                                                                                                                "application": {
                                                                                                                  "argument": {"variable": "g"},
                                                                                                                  "function": {
                                                                                                                    "typeApplication": {
                                                                                                                      "body": {"variable": "hydra.ext.haskell.coder.nameDecls"},
                                                                                                                      "type": {"variable": "hydra.graph.Graph"}}}}}}}}}}},
                                                                                                  "type": [
                                                                                                    {
                                                                                                      "constraints": null,
                                                                                                      "type": {
                                                                                                        "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}},
                                                                                                      "variables": []}]}],
                                                                                              "body": {
                                                                                                "application": {
                                                                                                  "argument": {
                                                                                                    "application": {
                                                                                                      "argument": {
                                                                                                        "list": [
                                                                                                          {"list": [{"variable": "mainDecl"}]},
                                                                                                          {"variable": "nameDecls'"},
                                                                                                          {"variable": "tdecls"}]},
                                                                                                      "function": {
                                                                                                        "typeApplication": {
                                                                                                          "body": {"function": {"primitive": "hydra.lib.lists.concat"}},
                                                                                                          "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}},
                                                                                                  "function": {
                                                                                                    "typeApplication": {
                                                                                                      "body": {
                                                                                                        "typeApplication": {
                                                                                                          "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                          "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                      "type": {
                                                                                                        "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}}},
                                                                                          "domain": [
                                                                                            {
                                                                                              "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}],
                                                                                          "parameter": "tdecls"}}},
                                                                                    "function": {
                                                                                      "application": {
                                                                                        "argument": {
                                                                                          "application": {
                                                                                            "argument": {
                                                                                              "application": {
                                                                                                "argument": {
                                                                                                  "typeApplication": {
                                                                                                    "body": {"list": []},
                                                                                                    "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}},
                                                                                                "function": {
                                                                                                  "typeApplication": {
                                                                                                    "body": {
                                                                                                      "typeApplication": {
                                                                                                        "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                    "type": {
                                                                                                      "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}},
                                                                                            "function": {
                                                                                              "application": {
                                                                                                "argument": {
                                                                                                  "application": {
                                                                                                    "argument": {
                                                                                                      "function": {
                                                                                                        "lambda": {
                                                                                                          "body": {
                                                                                                            "application": {
                                                                                                              "argument": {"list": [{"variable": "decl'"}]},
                                                                                                              "function": {
                                                                                                                "typeApplication": {
                                                                                                                  "body": {
                                                                                                                    "typeApplication": {
                                                                                                                      "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                      "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                  "type": {
                                                                                                                    "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}},
                                                                                                          "domain": [{"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}],
                                                                                                          "parameter": "decl'"}}},
                                                                                                    "function": {
                                                                                                      "application": {
                                                                                                        "argument": {
                                                                                                          "application": {
                                                                                                            "argument": {"variable": "typ"},
                                                                                                            "function": {
                                                                                                              "application": {
                                                                                                                "argument": {"variable": "elementName"},
                                                                                                                "function": {
                                                                                                                  "application": {
                                                                                                                    "argument": {"variable": "namespaces"},
                                                                                                                    "function": {"variable": "hydra.ext.haskell.coder.typeDecl"}}}}}}},
                                                                                                        "function": {
                                                                                                          "typeApplication": {
                                                                                                            "body": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {
                                                                                                                  "typeApplication": {
                                                                                                                    "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                                                    "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}},
                                                                                                            "type": {
                                                                                                              "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}}},
                                                                                                "function": {
                                                                                                  "application": {
                                                                                                    "argument": {"variable": "hydra.ext.haskell.coder.includeTypeDefinitions"},
                                                                                                    "function": {
                                                                                                      "typeApplication": {
                                                                                                        "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                                                                        "type": {
                                                                                                          "application": {
                                                                                                            "argument": {
                                                                                                              "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}},
                                                                                                            "function": {
                                                                                                              "application": {
                                                                                                                "argument": {"variable": "hydra.graph.Graph"},
                                                                                                                "function": {"variable": "hydra.compute.Flow"}}}}}}}}}}}}},
                                                                                        "function": {
                                                                                          "typeApplication": {
                                                                                            "body": {
                                                                                              "typeApplication": {
                                                                                                "body": {
                                                                                                  "typeApplication": {
                                                                                                    "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                                    "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                "type": {
                                                                                                  "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}},
                                                                                            "type": {
                                                                                              "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}}},
                                                                                "domain": [{"maybe": {"literal": {"string": {}}}}],
                                                                                "parameter": "comments"}}},
                                                                          "function": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "application": {
                                                                                  "argument": {"variable": "typ"},
                                                                                  "function": {"variable": "hydra.annotations.getTypeDescription"}}},
                                                                              "function": {
                                                                                "typeApplication": {
                                                                                  "body": {
                                                                                    "typeApplication": {
                                                                                      "body": {
                                                                                        "typeApplication": {
                                                                                          "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                          "type": {"variable": "hydra.graph.Graph"}}},
                                                                                      "type": {"maybe": {"literal": {"string": {}}}}}},
                                                                                  "type": {
                                                                                    "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}}},
                                                                      "domain": [{"variable": "hydra.ext.haskell.ast.Declaration"}],
                                                                      "parameter": "decl"}}},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {
                                                                          "application": {
                                                                            "argument": {"variable": "t'"},
                                                                            "function": {"variable": "hydra.rewriting.deannotateType"}}},
                                                                        "function": {
                                                                          "function": {
                                                                            "elimination": {
                                                                              "union": {
                                                                                "cases": [
                                                                                  {
                                                                                    "name": "record",
                                                                                    "term": {
                                                                                      "function": {
                                                                                        "lambda": {
                                                                                          "body": {
                                                                                            "application": {
                                                                                              "argument": {
                                                                                                "function": {
                                                                                                  "lambda": {
                                                                                                    "body": {
                                                                                                      "application": {
                                                                                                        "argument": {
                                                                                                          "union": {
                                                                                                            "field": {
                                                                                                              "name": "data",
                                                                                                              "term": {
                                                                                                                "record": {
                                                                                                                  "fields": [
                                                                                                                    {
                                                                                                                      "name": "keyword",
                                                                                                                      "term": {
                                                                                                                        "union": {
                                                                                                                          "field": {"name": "data", "term": {"unit": {}}},
                                                                                                                          "typeName": "hydra.ext.haskell.ast.DataOrNewtype"}}},
                                                                                                                    {
                                                                                                                      "name": "context",
                                                                                                                      "term": {
                                                                                                                        "typeApplication": {
                                                                                                                          "body": {"list": []},
                                                                                                                          "type": {"variable": "hydra.ext.haskell.ast.Assertion"}}}},
                                                                                                                    {"name": "head", "term": {"variable": "hd"}},
                                                                                                                    {"name": "constructors", "term": {"list": [{"variable": "cons"}]}},
                                                                                                                    {"name": "deriving", "term": {"list": [{"variable": "deriv"}]}}],
                                                                                                                  "typeName": "hydra.ext.haskell.ast.DataDeclaration"}}},
                                                                                                            "typeName": "hydra.ext.haskell.ast.Declaration"}},
                                                                                                        "function": {
                                                                                                          "typeApplication": {
                                                                                                            "body": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                            "type": {"variable": "hydra.ext.haskell.ast.Declaration"}}}}},
                                                                                                    "domain": [{"variable": "hydra.ext.haskell.ast.ConstructorWithComments"}],
                                                                                                    "parameter": "cons"}}},
                                                                                              "function": {
                                                                                                "application": {
                                                                                                  "argument": {
                                                                                                    "application": {
                                                                                                      "argument": {
                                                                                                        "application": {
                                                                                                          "argument": {"variable": "rt"},
                                                                                                          "function": {
                                                                                                            "function": {
                                                                                                              "elimination": {"record": {"field": "fields", "typeName": "hydra.core.RowType"}}}}}},
                                                                                                      "function": {
                                                                                                        "application": {
                                                                                                          "argument": {"variable": "lname"},
                                                                                                          "function": {"variable": "recordCons"}}}}},
                                                                                                  "function": {
                                                                                                    "typeApplication": {
                                                                                                      "body": {
                                                                                                        "typeApplication": {
                                                                                                          "body": {
                                                                                                            "typeApplication": {
                                                                                                              "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                                              "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                          "type": {"variable": "hydra.ext.haskell.ast.ConstructorWithComments"}}},
                                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Declaration"}}}}}}},
                                                                                          "domain": [{"variable": "hydra.core.RowType"}],
                                                                                          "parameter": "rt"}}}},
                                                                                  {
                                                                                    "name": "union",
                                                                                    "term": {
                                                                                      "function": {
                                                                                        "lambda": {
                                                                                          "body": {
                                                                                            "application": {
                                                                                              "argument": {
                                                                                                "function": {
                                                                                                  "lambda": {
                                                                                                    "body": {
                                                                                                      "application": {
                                                                                                        "argument": {
                                                                                                          "union": {
                                                                                                            "field": {
                                                                                                              "name": "data",
                                                                                                              "term": {
                                                                                                                "record": {
                                                                                                                  "fields": [
                                                                                                                    {
                                                                                                                      "name": "keyword",
                                                                                                                      "term": {
                                                                                                                        "union": {
                                                                                                                          "field": {"name": "data", "term": {"unit": {}}},
                                                                                                                          "typeName": "hydra.ext.haskell.ast.DataOrNewtype"}}},
                                                                                                                    {
                                                                                                                      "name": "context",
                                                                                                                      "term": {
                                                                                                                        "typeApplication": {
                                                                                                                          "body": {"list": []},
                                                                                                                          "type": {"variable": "hydra.ext.haskell.ast.Assertion"}}}},
                                                                                                                    {"name": "head", "term": {"variable": "hd"}},
                                                                                                                    {"name": "constructors", "term": {"variable": "cons"}},
                                                                                                                    {"name": "deriving", "term": {"list": [{"variable": "deriv"}]}}],
                                                                                                                  "typeName": "hydra.ext.haskell.ast.DataDeclaration"}}},
                                                                                                            "typeName": "hydra.ext.haskell.ast.Declaration"}},
                                                                                                        "function": {
                                                                                                          "typeApplication": {
                                                                                                            "body": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                            "type": {"variable": "hydra.ext.haskell.ast.Declaration"}}}}},
                                                                                                    "domain": [
                                                                                                      {
                                                                                                        "list": {"variable": "hydra.ext.haskell.ast.ConstructorWithComments"}}],
                                                                                                    "parameter": "cons"}}},
                                                                                              "function": {
                                                                                                "application": {
                                                                                                  "argument": {
                                                                                                    "application": {
                                                                                                      "argument": {
                                                                                                        "application": {
                                                                                                          "argument": {"variable": "rt"},
                                                                                                          "function": {
                                                                                                            "function": {
                                                                                                              "elimination": {"record": {"field": "fields", "typeName": "hydra.core.RowType"}}}}}},
                                                                                                      "function": {
                                                                                                        "application": {
                                                                                                          "argument": {
                                                                                                            "application": {
                                                                                                              "argument": {"variable": "lname"},
                                                                                                              "function": {
                                                                                                                "application": {"argument": {"variable": "g"}, "function": {"variable": "unionCons"}}}}},
                                                                                                          "function": {
                                                                                                            "typeApplication": {
                                                                                                              "body": {
                                                                                                                "typeApplication": {
                                                                                                                  "body": {
                                                                                                                    "typeApplication": {
                                                                                                                      "body": {"function": {"primitive": "hydra.lib.flows.mapList"}},
                                                                                                                      "type": {"variable": "hydra.core.FieldType"}}},
                                                                                                                  "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                              "type": {"variable": "hydra.ext.haskell.ast.ConstructorWithComments"}}}}}}},
                                                                                                  "function": {
                                                                                                    "typeApplication": {
                                                                                                      "body": {
                                                                                                        "typeApplication": {
                                                                                                          "body": {
                                                                                                            "typeApplication": {
                                                                                                              "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                                              "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                          "type": {
                                                                                                            "list": {"variable": "hydra.ext.haskell.ast.ConstructorWithComments"}}}},
                                                                                                      "type": {"variable": "hydra.ext.haskell.ast.Declaration"}}}}}}},
                                                                                          "domain": [{"variable": "hydra.core.RowType"}],
                                                                                          "parameter": "rt"}}}},
                                                                                  {
                                                                                    "name": "wrap",
                                                                                    "term": {
                                                                                      "function": {
                                                                                        "lambda": {
                                                                                          "body": {
                                                                                            "let": {
                                                                                              "bindings": [
                                                                                                {
                                                                                                  "name": "wt",
                                                                                                  "term": {
                                                                                                    "application": {
                                                                                                      "argument": {"variable": "wrapped"},
                                                                                                      "function": {
                                                                                                        "function": {
                                                                                                          "elimination": {"record": {"field": "body", "typeName": "hydra.core.WrappedType"}}}}}},
                                                                                                  "type": [
                                                                                                    {
                                                                                                      "constraints": null,
                                                                                                      "type": {"variable": "hydra.core.Type"},
                                                                                                      "variables": []}]}],
                                                                                              "body": {
                                                                                                "application": {
                                                                                                  "argument": {
                                                                                                    "function": {
                                                                                                      "lambda": {
                                                                                                        "body": {
                                                                                                          "application": {
                                                                                                            "argument": {
                                                                                                              "union": {
                                                                                                                "field": {
                                                                                                                  "name": "data",
                                                                                                                  "term": {
                                                                                                                    "record": {
                                                                                                                      "fields": [
                                                                                                                        {
                                                                                                                          "name": "keyword",
                                                                                                                          "term": {
                                                                                                                            "union": {
                                                                                                                              "field": {"name": "newtype", "term": {"unit": {}}},
                                                                                                                              "typeName": "hydra.ext.haskell.ast.DataOrNewtype"}}},
                                                                                                                        {
                                                                                                                          "name": "context",
                                                                                                                          "term": {
                                                                                                                            "typeApplication": {
                                                                                                                              "body": {"list": []},
                                                                                                                              "type": {"variable": "hydra.ext.haskell.ast.Assertion"}}}},
                                                                                                                        {"name": "head", "term": {"variable": "hd"}},
                                                                                                                        {"name": "constructors", "term": {"list": [{"variable": "cons"}]}},
                                                                                                                        {"name": "deriving", "term": {"list": [{"variable": "deriv"}]}}],
                                                                                                                      "typeName": "hydra.ext.haskell.ast.DataDeclaration"}}},
                                                                                                                "typeName": "hydra.ext.haskell.ast.Declaration"}},
                                                                                                            "function": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {
                                                                                                                  "typeApplication": {
                                                                                                                    "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                                    "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                                "type": {"variable": "hydra.ext.haskell.ast.Declaration"}}}}},
                                                                                                        "domain": [{"variable": "hydra.ext.haskell.ast.ConstructorWithComments"}],
                                                                                                        "parameter": "cons"}}},
                                                                                                  "function": {
                                                                                                    "application": {
                                                                                                      "argument": {
                                                                                                        "application": {
                                                                                                          "argument": {"variable": "wt"},
                                                                                                          "function": {
                                                                                                            "application": {
                                                                                                              "argument": {"variable": "elementName"},
                                                                                                              "function": {"variable": "newtypeCons"}}}}},
                                                                                                      "function": {
                                                                                                        "typeApplication": {
                                                                                                          "body": {
                                                                                                            "typeApplication": {
                                                                                                              "body": {
                                                                                                                "typeApplication": {
                                                                                                                  "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                                                  "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                              "type": {"variable": "hydra.ext.haskell.ast.ConstructorWithComments"}}},
                                                                                                          "type": {"variable": "hydra.ext.haskell.ast.Declaration"}}}}}}}}},
                                                                                          "domain": [{"variable": "hydra.core.WrappedType"}],
                                                                                          "parameter": "wrapped"}}}}],
                                                                                "default": [
                                                                                  {
                                                                                    "application": {
                                                                                      "argument": {
                                                                                        "function": {
                                                                                          "lambda": {
                                                                                            "body": {
                                                                                              "application": {
                                                                                                "argument": {
                                                                                                  "union": {
                                                                                                    "field": {
                                                                                                      "name": "type",
                                                                                                      "term": {
                                                                                                        "record": {
                                                                                                          "fields": [
                                                                                                            {"name": "name", "term": {"variable": "hd"}},
                                                                                                            {"name": "type", "term": {"variable": "htype"}}],
                                                                                                          "typeName": "hydra.ext.haskell.ast.TypeDeclaration"}}},
                                                                                                    "typeName": "hydra.ext.haskell.ast.Declaration"}},
                                                                                                "function": {
                                                                                                  "typeApplication": {
                                                                                                    "body": {
                                                                                                      "typeApplication": {
                                                                                                        "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                    "type": {"variable": "hydra.ext.haskell.ast.Declaration"}}}}},
                                                                                            "domain": [{"variable": "hydra.ext.haskell.ast.Type"}],
                                                                                            "parameter": "htype"}}},
                                                                                      "function": {
                                                                                        "application": {
                                                                                          "argument": {
                                                                                            "application": {
                                                                                              "argument": {"variable": "typ"},
                                                                                              "function": {
                                                                                                "application": {
                                                                                                  "argument": {"variable": "namespaces"},
                                                                                                  "function": {"variable": "hydra.ext.haskell.coder.adaptTypeToHaskellAndEncode"}}}}},
                                                                                          "function": {
                                                                                            "typeApplication": {
                                                                                              "body": {
                                                                                                "typeApplication": {
                                                                                                  "body": {
                                                                                                    "typeApplication": {
                                                                                                      "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                                      "type": {"variable": "hydra.graph.Graph"}}},
                                                                                                  "type": {"variable": "hydra.ext.haskell.ast.Type"}}},
                                                                                              "type": {"variable": "hydra.ext.haskell.ast.Declaration"}}}}}}}],
                                                                                "typeName": "hydra.core.Type"}}}}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {
                                                                              "typeApplication": {
                                                                                "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                                "type": {"variable": "hydra.graph.Graph"}}},
                                                                            "type": {"variable": "hydra.ext.haskell.ast.Declaration"}}},
                                                                        "type": {
                                                                          "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}}}}},
                                                        "domain": [{"literal": {"boolean": {}}}],
                                                        "parameter": "isSer"}}},
                                                  "function": {
                                                    "application": {
                                                      "argument": {
                                                        "application": {
                                                          "argument": {"variable": "elementName"},
                                                          "function": {"variable": "hydra.schemas.isSerializableByName"}}},
                                                      "function": {
                                                        "typeApplication": {
                                                          "body": {
                                                            "typeApplication": {
                                                              "body": {
                                                                "typeApplication": {
                                                                  "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                  "type": {"variable": "hydra.graph.Graph"}}},
                                                              "type": {"literal": {"boolean": {}}}}},
                                                          "type": {
                                                            "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}}},
                                              "domain": [{"variable": "hydra.graph.Graph"}],
                                              "parameter": "g"}}},
                                        "function": {
                                          "application": {
                                            "argument": {
                                              "typeApplication": {
                                                "body": {"variable": "hydra.monads.getState"},
                                                "type": {"variable": "hydra.graph.Graph"}}},
                                            "function": {
                                              "typeApplication": {
                                                "body": {
                                                  "typeApplication": {
                                                    "body": {
                                                      "typeApplication": {
                                                        "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                    "type": {"variable": "hydra.graph.Graph"}}},
                                                "type": {
                                                  "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}}},
                                    "function": {
                                      "application": {
                                        "argument": {
                                          "application": {
                                            "argument": {
                                              "application": {
                                                "argument": {"variable": "elementName"},
                                                "function": {"function": {"elimination": {"wrap": "hydra.core.Name"}}}}},
                                            "function": {
                                              "application": {
                                                "argument": {"literal": {"string": "type definition "}},
                                                "function": {"function": {"primitive": "hydra.lib.strings.cat2"}}}}}},
                                        "function": {
                                          "typeApplication": {
                                            "body": {
                                              "typeApplication": {
                                                "body": {"variable": "hydra.monads.withTrace"},
                                                "type": {"variable": "hydra.graph.Graph"}}},
                                            "type": {
                                              "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}}}}},
                            "domain": [{"variable": "hydra.core.Type"}],
                            "parameter": "typ"}}},
                      "domain": [{"variable": "hydra.core.Name"}],
                      "parameter": "elementName"}}},
                "domain": [
                  {
                    "application": {
                      "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                      "function": {"variable": "hydra.module.Namespaces"}}}],
                "parameter": "namespaces"}}}}},
      "type": [
        {
          "constraints": null,
          "type": {
            "function": {
              "codomain": {
                "function": {
                  "codomain": {
                    "function": {
                      "codomain": {
                        "application": {
                          "argument": {
                            "list": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}},
                          "function": {
                            "application": {
                              "argument": {"variable": "hydra.graph.Graph"},
                              "function": {"variable": "hydra.compute.Flow"}}}}},
                      "domain": {"variable": "hydra.core.Type"}}},
                  "domain": {"variable": "hydra.core.Name"}}},
              "domain": {
                "application": {
                  "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                  "function": {"variable": "hydra.module.Namespaces"}}}}},
          "variables": []}]},
    {
      "name": "hydra.ext.haskell.coder.typeDecl",
      "term": {
        "typeLambda": {
          "body": {
            "annotated": {
              "annotation": [
                {
                  "@key": "description",
                  "@value": {
                    "literal": {
                      "string": "Generate a Haskell declaration for a type definition constant"}}}],
              "body": {
                "function": {
                  "lambda": {
                    "body": {
                      "function": {
                        "lambda": {
                          "body": {
                            "function": {
                              "lambda": {
                                "body": {
                                  "let": {
                                    "bindings": [
                                      {
                                        "name": "typeName",
                                        "term": {
                                          "function": {
                                            "lambda": {
                                              "body": {
                                                "function": {
                                                  "lambda": {
                                                    "body": {
                                                      "application": {
                                                        "argument": {
                                                          "application": {
                                                            "argument": {"variable": "name'"},
                                                            "function": {"variable": "typeNameLocal"}}},
                                                        "function": {
                                                          "application": {
                                                            "argument": {"variable": "ns"},
                                                            "function": {"variable": "hydra.names.qname"}}}}},
                                                    "domain": [{"variable": "hydra.core.Name"}],
                                                    "parameter": "name'"}}},
                                              "domain": [{"variable": "hydra.module.Namespace"}],
                                              "parameter": "ns"}}},
                                        "type": [
                                          {
                                            "constraints": null,
                                            "type": {
                                              "function": {
                                                "codomain": {
                                                  "function": {
                                                    "codomain": {"variable": "hydra.core.Name"},
                                                    "domain": {"variable": "hydra.core.Name"}}},
                                                "domain": {"variable": "hydra.module.Namespace"}}},
                                            "variables": []}]},
                                      {
                                        "name": "typeNameLocal",
                                        "term": {
                                          "function": {
                                            "lambda": {
                                              "body": {
                                                "application": {
                                                  "argument": {
                                                    "list": [
                                                      {"literal": {"string": "_"}},
                                                      {
                                                        "application": {
                                                          "argument": {"variable": "name'"},
                                                          "function": {"variable": "hydra.names.localNameOf"}}},
                                                      {"literal": {"string": "_type_"}}]},
                                                  "function": {"function": {"primitive": "hydra.lib.strings.cat"}}}},
                                              "domain": [{"variable": "hydra.core.Name"}],
                                              "parameter": "name'"}}},
                                        "type": [
                                          {
                                            "constraints": null,
                                            "type": {
                                              "function": {
                                                "codomain": {"literal": {"string": {}}},
                                                "domain": {"variable": "hydra.core.Name"}}},
                                            "variables": []}]},
                                      {
                                        "name": "rawTerm",
                                        "term": {
                                          "application": {
                                            "argument": {"variable": "typ"},
                                            "function": {"variable": "hydra.encode.core.type"}}},
                                        "type": [
                                          {
                                            "constraints": null,
                                            "type": {"variable": "hydra.core.Term"},
                                            "variables": []}]},
                                      {
                                        "name": "rewrite",
                                        "term": {
                                          "function": {
                                            "lambda": {
                                              "body": {
                                                "function": {
                                                  "lambda": {
                                                    "body": {
                                                      "let": {
                                                        "bindings": [
                                                          {
                                                            "name": "variantResult",
                                                            "term": {
                                                              "application": {
                                                                "argument": {
                                                                  "application": {
                                                                    "argument": {"variable": "term"},
                                                                    "function": {"variable": "hydra.rewriting.deannotateTerm"}}},
                                                                "function": {
                                                                  "function": {
                                                                    "elimination": {
                                                                      "union": {
                                                                        "cases": [
                                                                          {
                                                                            "name": "union",
                                                                            "term": {
                                                                              "function": {
                                                                                "lambda": {
                                                                                  "body": {
                                                                                    "application": {
                                                                                      "argument": {
                                                                                        "typeApplication": {"body": {"maybe": null}, "type": {"variable": "hydra.core.Field"}}},
                                                                                      "function": {
                                                                                        "application": {
                                                                                          "argument": {
                                                                                            "maybe": [
                                                                                              {
                                                                                                "application": {
                                                                                                  "argument": {"variable": "inj"},
                                                                                                  "function": {
                                                                                                    "function": {
                                                                                                      "elimination": {"record": {"field": "field", "typeName": "hydra.core.Injection"}}}}}}]},
                                                                                          "function": {
                                                                                            "application": {
                                                                                              "argument": {
                                                                                                "application": {
                                                                                                  "argument": {
                                                                                                    "wrap": {
                                                                                                      "body": {"literal": {"string": "hydra.core.Type"}},
                                                                                                      "typeName": "hydra.core.Name"}},
                                                                                                  "function": {
                                                                                                    "application": {
                                                                                                      "argument": {
                                                                                                        "application": {
                                                                                                          "argument": {"variable": "inj"},
                                                                                                          "function": {
                                                                                                            "function": {
                                                                                                              "elimination": {"record": {"field": "typeName", "typeName": "hydra.core.Injection"}}}}}},
                                                                                                      "function": {
                                                                                                        "typeApplication": {
                                                                                                          "body": {"function": {"primitive": "hydra.lib.equality.equal"}},
                                                                                                          "type": {"variable": "hydra.core.Name"}}}}}}},
                                                                                              "function": {
                                                                                                "typeApplication": {
                                                                                                  "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                                                                  "type": {"maybe": {"variable": "hydra.core.Field"}}}}}}}}}},
                                                                                  "domain": [{"variable": "hydra.core.Injection"}],
                                                                                  "parameter": "inj"}}}}],
                                                                        "default": [
                                                                          {
                                                                            "typeApplication": {"body": {"maybe": null}, "type": {"variable": "hydra.core.Field"}}}],
                                                                        "typeName": "hydra.core.Term"}}}}}},
                                                            "type": [
                                                              {
                                                                "constraints": null,
                                                                "type": {"maybe": {"variable": "hydra.core.Field"}},
                                                                "variables": []}]},
                                                          {
                                                            "name": "decodeString",
                                                            "term": {
                                                              "function": {
                                                                "lambda": {
                                                                  "body": {
                                                                    "application": {
                                                                      "argument": {
                                                                        "application": {
                                                                          "argument": {"variable": "term"},
                                                                          "function": {"variable": "hydra.rewriting.deannotateTerm"}}},
                                                                      "function": {
                                                                        "function": {
                                                                          "elimination": {
                                                                            "union": {
                                                                              "cases": [
                                                                                {
                                                                                  "name": "literal",
                                                                                  "term": {
                                                                                    "function": {
                                                                                      "lambda": {
                                                                                        "body": {
                                                                                          "application": {
                                                                                            "argument": {"variable": "lit"},
                                                                                            "function": {
                                                                                              "function": {
                                                                                                "elimination": {
                                                                                                  "union": {
                                                                                                    "cases": [
                                                                                                      {
                                                                                                        "name": "string",
                                                                                                        "term": {
                                                                                                          "function": {
                                                                                                            "lambda": {
                                                                                                              "body": {"maybe": [{"variable": "s"}]},
                                                                                                              "domain": [{"literal": {"string": {}}}],
                                                                                                              "parameter": "s"}}}}],
                                                                                                    "default": [
                                                                                                      {
                                                                                                        "typeApplication": {"body": {"maybe": null}, "type": {"literal": {"string": {}}}}}],
                                                                                                    "typeName": "hydra.core.Literal"}}}}}},
                                                                                        "domain": [{"variable": "hydra.core.Literal"}],
                                                                                        "parameter": "lit"}}}}],
                                                                              "default": [
                                                                                {
                                                                                  "typeApplication": {"body": {"maybe": null}, "type": {"literal": {"string": {}}}}}],
                                                                              "typeName": "hydra.core.Term"}}}}}},
                                                                  "domain": [{"variable": "hydra.core.Term"}],
                                                                  "parameter": "term"}}},
                                                            "type": [
                                                              {
                                                                "constraints": null,
                                                                "type": {
                                                                  "function": {
                                                                    "codomain": {"maybe": {"literal": {"string": {}}}},
                                                                    "domain": {"variable": "hydra.core.Term"}}},
                                                                "variables": []}]},
                                                          {
                                                            "name": "decodeName",
                                                            "term": {
                                                              "function": {
                                                                "lambda": {
                                                                  "body": {
                                                                    "application": {
                                                                      "argument": {
                                                                        "application": {
                                                                          "argument": {"variable": "term"},
                                                                          "function": {"variable": "hydra.rewriting.deannotateTerm"}}},
                                                                      "function": {
                                                                        "function": {
                                                                          "elimination": {
                                                                            "union": {
                                                                              "cases": [
                                                                                {
                                                                                  "name": "wrap",
                                                                                  "term": {
                                                                                    "function": {
                                                                                      "lambda": {
                                                                                        "body": {
                                                                                          "application": {
                                                                                            "argument": {
                                                                                              "typeApplication": {"body": {"maybe": null}, "type": {"variable": "hydra.core.Name"}}},
                                                                                            "function": {
                                                                                              "application": {
                                                                                                "argument": {
                                                                                                  "application": {
                                                                                                    "argument": {
                                                                                                      "application": {
                                                                                                        "argument": {
                                                                                                          "application": {
                                                                                                            "argument": {"variable": "wt"},
                                                                                                            "function": {
                                                                                                              "function": {
                                                                                                                "elimination": {"record": {"field": "body", "typeName": "hydra.core.WrappedTerm"}}}}}},
                                                                                                        "function": {"variable": "decodeString"}}},
                                                                                                    "function": {
                                                                                                      "application": {
                                                                                                        "argument": {
                                                                                                          "function": {
                                                                                                            "lambda": {
                                                                                                              "body": {"wrap": {"body": {"variable": "x"}, "typeName": "hydra.core.Name"}},
                                                                                                              "domain": [{"literal": {"string": {}}}],
                                                                                                              "parameter": "x"}}},
                                                                                                        "function": {
                                                                                                          "typeApplication": {
                                                                                                            "body": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {"function": {"primitive": "hydra.lib.maybes.map"}},
                                                                                                                "type": {"literal": {"string": {}}}}},
                                                                                                            "type": {"variable": "hydra.core.Name"}}}}}}},
                                                                                                "function": {
                                                                                                  "application": {
                                                                                                    "argument": {
                                                                                                      "application": {
                                                                                                        "argument": {
                                                                                                          "wrap": {
                                                                                                            "body": {"literal": {"string": "hydra.core.Name"}},
                                                                                                            "typeName": "hydra.core.Name"}},
                                                                                                        "function": {
                                                                                                          "application": {
                                                                                                            "argument": {
                                                                                                              "application": {
                                                                                                                "argument": {"variable": "wt"},
                                                                                                                "function": {
                                                                                                                  "function": {
                                                                                                                    "elimination": {
                                                                                                                      "record": {"field": "typeName", "typeName": "hydra.core.WrappedTerm"}}}}}},
                                                                                                            "function": {
                                                                                                              "typeApplication": {
                                                                                                                "body": {"function": {"primitive": "hydra.lib.equality.equal"}},
                                                                                                                "type": {"variable": "hydra.core.Name"}}}}}}},
                                                                                                    "function": {
                                                                                                      "typeApplication": {
                                                                                                        "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                                                                        "type": {"maybe": {"variable": "hydra.core.Name"}}}}}}}}}},
                                                                                        "domain": [{"variable": "hydra.core.WrappedTerm"}],
                                                                                        "parameter": "wt"}}}}],
                                                                              "default": [
                                                                                {
                                                                                  "typeApplication": {"body": {"maybe": null}, "type": {"variable": "hydra.core.Name"}}}],
                                                                              "typeName": "hydra.core.Term"}}}}}},
                                                                  "domain": [{"variable": "hydra.core.Term"}],
                                                                  "parameter": "term"}}},
                                                            "type": [
                                                              {
                                                                "constraints": null,
                                                                "type": {
                                                                  "function": {
                                                                    "codomain": {"maybe": {"variable": "hydra.core.Name"}},
                                                                    "domain": {"variable": "hydra.core.Term"}}},
                                                                "variables": []}]},
                                                          {
                                                            "name": "forType",
                                                            "term": {
                                                              "function": {
                                                                "lambda": {
                                                                  "body": {
                                                                    "let": {
                                                                      "bindings": [
                                                                        {
                                                                          "name": "fname",
                                                                          "term": {
                                                                            "application": {
                                                                              "argument": {"variable": "field"},
                                                                              "function": {
                                                                                "function": {
                                                                                  "elimination": {"record": {"field": "name", "typeName": "hydra.core.Field"}}}}}},
                                                                          "type": [
                                                                            {
                                                                              "constraints": null,
                                                                              "type": {"variable": "hydra.core.Name"},
                                                                              "variables": []}]},
                                                                        {
                                                                          "name": "fterm",
                                                                          "term": {
                                                                            "application": {
                                                                              "argument": {"variable": "field"},
                                                                              "function": {
                                                                                "function": {
                                                                                  "elimination": {"record": {"field": "term", "typeName": "hydra.core.Field"}}}}}},
                                                                          "type": [
                                                                            {
                                                                              "constraints": null,
                                                                              "type": {"variable": "hydra.core.Term"},
                                                                              "variables": []}]}],
                                                                      "body": {
                                                                        "application": {
                                                                          "argument": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "typeApplication": {"body": {"maybe": null}, "type": {"variable": "hydra.core.Term"}}},
                                                                              "function": {
                                                                                "application": {
                                                                                  "argument": {
                                                                                    "application": {
                                                                                      "argument": {"variable": "forVariableType"},
                                                                                      "function": {
                                                                                        "application": {
                                                                                          "argument": {
                                                                                            "application": {
                                                                                              "argument": {"variable": "fterm"},
                                                                                              "function": {"variable": "decodeName"}}},
                                                                                          "function": {
                                                                                            "typeApplication": {
                                                                                              "body": {
                                                                                                "typeApplication": {
                                                                                                  "body": {"function": {"primitive": "hydra.lib.maybes.bind"}},
                                                                                                  "type": {"variable": "hydra.core.Name"}}},
                                                                                              "type": {"variable": "hydra.core.Term"}}}}}}},
                                                                                  "function": {
                                                                                    "application": {
                                                                                      "argument": {
                                                                                        "application": {
                                                                                          "argument": {
                                                                                            "wrap": {
                                                                                              "body": {"literal": {"string": "variable"}},
                                                                                              "typeName": "hydra.core.Name"}},
                                                                                          "function": {
                                                                                            "application": {
                                                                                              "argument": {"variable": "fname"},
                                                                                              "function": {
                                                                                                "typeApplication": {
                                                                                                  "body": {"function": {"primitive": "hydra.lib.equality.equal"}},
                                                                                                  "type": {"variable": "hydra.core.Name"}}}}}}},
                                                                                      "function": {
                                                                                        "typeApplication": {
                                                                                          "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                                                          "type": {"maybe": {"variable": "hydra.core.Term"}}}}}}}}}},
                                                                          "function": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "typeApplication": {"body": {"maybe": null}, "type": {"variable": "hydra.core.Term"}}},
                                                                              "function": {
                                                                                "application": {
                                                                                  "argument": {
                                                                                    "application": {
                                                                                      "argument": {
                                                                                        "wrap": {
                                                                                          "body": {"literal": {"string": "record"}},
                                                                                          "typeName": "hydra.core.Name"}},
                                                                                      "function": {
                                                                                        "application": {
                                                                                          "argument": {"variable": "fname"},
                                                                                          "function": {
                                                                                            "typeApplication": {
                                                                                              "body": {"function": {"primitive": "hydra.lib.equality.equal"}},
                                                                                              "type": {"variable": "hydra.core.Name"}}}}}}},
                                                                                  "function": {
                                                                                    "typeApplication": {
                                                                                      "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                                                      "type": {"maybe": {"variable": "hydra.core.Term"}}}}}}}}}}}},
                                                                  "domain": [{"variable": "hydra.core.Field"}],
                                                                  "parameter": "field"}}},
                                                            "type": [
                                                              {
                                                                "constraints": null,
                                                                "type": {
                                                                  "function": {
                                                                    "codomain": {"maybe": {"variable": "hydra.core.Term"}},
                                                                    "domain": {"variable": "hydra.core.Field"}}},
                                                                "variables": []}]},
                                                          {
                                                            "name": "forVariableType",
                                                            "term": {
                                                              "function": {
                                                                "lambda": {
                                                                  "body": {
                                                                    "let": {
                                                                      "bindings": [
                                                                        {
                                                                          "name": "qname",
                                                                          "term": {
                                                                            "application": {
                                                                              "argument": {"variable": "vname"},
                                                                              "function": {"variable": "hydra.names.qualifyName"}}},
                                                                          "type": [
                                                                            {
                                                                              "constraints": null,
                                                                              "type": {"variable": "hydra.module.QualifiedName"},
                                                                              "variables": []}]},
                                                                        {
                                                                          "name": "mns",
                                                                          "term": {
                                                                            "application": {
                                                                              "argument": {"variable": "qname"},
                                                                              "function": {
                                                                                "function": {
                                                                                  "elimination": {
                                                                                    "record": {"field": "namespace", "typeName": "hydra.module.QualifiedName"}}}}}},
                                                                          "type": [
                                                                            {
                                                                              "constraints": null,
                                                                              "type": {"maybe": {"variable": "hydra.module.Namespace"}},
                                                                              "variables": []}]},
                                                                        {
                                                                          "name": "local",
                                                                          "term": {
                                                                            "application": {
                                                                              "argument": {"variable": "qname"},
                                                                              "function": {
                                                                                "function": {
                                                                                  "elimination": {
                                                                                    "record": {"field": "local", "typeName": "hydra.module.QualifiedName"}}}}}},
                                                                          "type": [
                                                                            {
                                                                              "constraints": null,
                                                                              "type": {"literal": {"string": {}}},
                                                                              "variables": []}]}],
                                                                      "body": {
                                                                        "application": {
                                                                          "argument": {"variable": "mns"},
                                                                          "function": {
                                                                            "application": {
                                                                              "argument": {
                                                                                "function": {
                                                                                  "lambda": {
                                                                                    "body": {
                                                                                      "union": {
                                                                                        "field": {
                                                                                          "name": "variable",
                                                                                          "term": {
                                                                                            "application": {
                                                                                              "argument": {
                                                                                                "application": {
                                                                                                  "argument": {
                                                                                                    "list": [
                                                                                                      {"literal": {"string": "_"}},
                                                                                                      {"variable": "local"},
                                                                                                      {"literal": {"string": "_type_"}}]},
                                                                                                  "function": {"function": {"primitive": "hydra.lib.strings.cat"}}}},
                                                                                              "function": {
                                                                                                "application": {
                                                                                                  "argument": {"variable": "ns"},
                                                                                                  "function": {"variable": "hydra.names.qname"}}}}}},
                                                                                        "typeName": "hydra.core.Term"}},
                                                                                    "domain": [{"variable": "hydra.module.Namespace"}],
                                                                                    "parameter": "ns"}}},
                                                                              "function": {
                                                                                "typeApplication": {
                                                                                  "body": {
                                                                                    "typeApplication": {
                                                                                      "body": {"function": {"primitive": "hydra.lib.maybes.map"}},
                                                                                      "type": {"variable": "hydra.module.Namespace"}}},
                                                                                  "type": {"variable": "hydra.core.Term"}}}}}}}}},
                                                                  "domain": [{"variable": "hydra.core.Name"}],
                                                                  "parameter": "vname"}}},
                                                            "type": [
                                                              {
                                                                "constraints": null,
                                                                "type": {
                                                                  "function": {
                                                                    "codomain": {"maybe": {"variable": "hydra.core.Term"}},
                                                                    "domain": {"variable": "hydra.core.Name"}}},
                                                                "variables": []}]}],
                                                        "body": {
                                                          "application": {
                                                            "argument": {
                                                              "application": {
                                                                "argument": {"variable": "forType"},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {"variable": "variantResult"},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.maybes.bind"}},
                                                                            "type": {"variable": "hydra.core.Field"}}},
                                                                        "type": {"variable": "hydra.core.Term"}}}}}}},
                                                            "function": {
                                                              "application": {
                                                                "argument": {
                                                                  "application": {
                                                                    "argument": {"variable": "term"},
                                                                    "function": {"variable": "recurse"}}},
                                                                "function": {
                                                                  "typeApplication": {
                                                                    "body": {"function": {"primitive": "hydra.lib.maybes.fromMaybe"}},
                                                                    "type": {"variable": "hydra.core.Term"}}}}}}}}},
                                                    "domain": [{"variable": "hydra.core.Term"}],
                                                    "parameter": "term"}}},
                                              "domain": [
                                                {
                                                  "function": {
                                                    "codomain": {"variable": "hydra.core.Term"},
                                                    "domain": {"variable": "hydra.core.Term"}}}],
                                              "parameter": "recurse"}}},
                                        "type": [
                                          {
                                            "constraints": null,
                                            "type": {
                                              "function": {
                                                "codomain": {
                                                  "function": {
                                                    "codomain": {"variable": "hydra.core.Term"},
                                                    "domain": {"variable": "hydra.core.Term"}}},
                                                "domain": {
                                                  "function": {
                                                    "codomain": {"variable": "hydra.core.Term"},
                                                    "domain": {"variable": "hydra.core.Term"}}}}},
                                            "variables": []}]},
                                      {
                                        "name": "finalTerm",
                                        "term": {
                                          "application": {
                                            "argument": {"variable": "rawTerm"},
                                            "function": {
                                              "application": {
                                                "argument": {"variable": "rewrite"},
                                                "function": {"variable": "hydra.rewriting.rewriteTerm"}}}}},
                                        "type": [
                                          {
                                            "constraints": null,
                                            "type": {"variable": "hydra.core.Term"},
                                            "variables": []}]}],
                                    "body": {
                                      "application": {
                                        "argument": {
                                          "function": {
                                            "lambda": {
                                              "body": {
                                                "application": {
                                                  "argument": {
                                                    "function": {
                                                      "lambda": {
                                                        "body": {
                                                          "let": {
                                                            "bindings": [
                                                              {
                                                                "name": "rhs",
                                                                "term": {
                                                                  "wrap": {
                                                                    "body": {"variable": "expr"},
                                                                    "typeName": "hydra.ext.haskell.ast.RightHandSide"}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.ext.haskell.ast.RightHandSide"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "hname",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {"variable": "name"},
                                                                        "function": {"variable": "typeNameLocal"}}},
                                                                    "function": {"variable": "hydra.ext.haskell.utils.simpleName"}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.ext.haskell.ast.Name"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "pat",
                                                                "term": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "typeApplication": {
                                                                        "body": {"list": []},
                                                                        "type": {"variable": "hydra.ext.haskell.ast.Pattern"}}},
                                                                    "function": {
                                                                      "application": {
                                                                        "argument": {"variable": "hname"},
                                                                        "function": {"variable": "hydra.ext.haskell.utils.applicationPattern"}}}}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.ext.haskell.ast.Pattern"},
                                                                    "variables": []}]},
                                                              {
                                                                "name": "decl",
                                                                "term": {
                                                                  "union": {
                                                                    "field": {
                                                                      "name": "valueBinding",
                                                                      "term": {
                                                                        "union": {
                                                                          "field": {
                                                                            "name": "simple",
                                                                            "term": {
                                                                              "record": {
                                                                                "fields": [
                                                                                  {"name": "pattern", "term": {"variable": "pat"}},
                                                                                  {"name": "rhs", "term": {"variable": "rhs"}},
                                                                                  {
                                                                                    "name": "localBindings",
                                                                                    "term": {
                                                                                      "typeApplication": {
                                                                                        "body": {"maybe": null},
                                                                                        "type": {"variable": "hydra.ext.haskell.ast.LocalBindings"}}}}],
                                                                                "typeName": "hydra.ext.haskell.ast.SimpleValueBinding"}}},
                                                                          "typeName": "hydra.ext.haskell.ast.ValueBinding"}}},
                                                                    "typeName": "hydra.ext.haskell.ast.Declaration"}},
                                                                "type": [
                                                                  {
                                                                    "constraints": null,
                                                                    "type": {"variable": "hydra.ext.haskell.ast.Declaration"},
                                                                    "variables": []}]}],
                                                            "body": {
                                                              "application": {
                                                                "argument": {
                                                                  "record": {
                                                                    "fields": [
                                                                      {"name": "body", "term": {"variable": "decl"}},
                                                                      {
                                                                        "name": "comments",
                                                                        "term": {
                                                                          "typeApplication": {"body": {"maybe": null}, "type": {"literal": {"string": {}}}}}}],
                                                                    "typeName": "hydra.ext.haskell.ast.DeclarationWithComments"}},
                                                                "function": {
                                                                  "typeApplication": {
                                                                    "body": {
                                                                      "typeApplication": {
                                                                        "body": {"function": {"primitive": "hydra.lib.flows.pure"}},
                                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                                    "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}},
                                                        "domain": [{"variable": "hydra.ext.haskell.ast.Expression"}],
                                                        "parameter": "expr"}}},
                                                  "function": {
                                                    "application": {
                                                      "argument": {
                                                        "application": {
                                                          "argument": {"variable": "finalTerm"},
                                                          "function": {
                                                            "application": {
                                                              "argument": {"variable": "coder"},
                                                              "function": {
                                                                "typeApplication": {
                                                                  "body": {
                                                                    "typeApplication": {
                                                                      "body": {
                                                                        "typeApplication": {
                                                                          "body": {
                                                                            "typeApplication": {
                                                                              "body": {
                                                                                "function": {
                                                                                  "elimination": {"record": {"field": "encode", "typeName": "hydra.compute.Coder"}}}},
                                                                              "type": {"variable": "hydra.graph.Graph"}}},
                                                                          "type": {"variable": "t0"}}},
                                                                      "type": {"variable": "hydra.core.Term"}}},
                                                                  "type": {"variable": "hydra.ext.haskell.ast.Expression"}}}}}}},
                                                      "function": {
                                                        "typeApplication": {
                                                          "body": {
                                                            "typeApplication": {
                                                              "body": {
                                                                "typeApplication": {
                                                                  "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                                  "type": {"variable": "hydra.graph.Graph"}}},
                                                              "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                          "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}},
                                              "domain": [
                                                {
                                                  "application": {
                                                    "argument": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                    "function": {
                                                      "application": {
                                                        "argument": {"variable": "hydra.core.Term"},
                                                        "function": {
                                                          "application": {
                                                            "argument": {"variable": "t0"},
                                                            "function": {
                                                              "application": {
                                                                "argument": {"variable": "hydra.graph.Graph"},
                                                                "function": {"variable": "hydra.compute.Coder"}}}}}}}}}],
                                              "parameter": "coder"}}},
                                        "function": {
                                          "application": {
                                            "argument": {
                                              "application": {
                                                "argument": {
                                                  "union": {
                                                    "field": {
                                                      "name": "variable",
                                                      "term": {
                                                        "wrap": {
                                                          "body": {"literal": {"string": "hydra.core.Type"}},
                                                          "typeName": "hydra.core.Name"}}},
                                                    "typeName": "hydra.core.Type"}},
                                                "function": {
                                                  "application": {
                                                    "argument": {
                                                      "application": {
                                                        "argument": {"variable": "namespaces"},
                                                        "function": {"variable": "hydra.ext.haskell.coder.encodeTerm"}}},
                                                    "function": {
                                                      "application": {
                                                        "argument": {"variable": "hydra.ext.haskell.language.haskellLanguage"},
                                                        "function": {
                                                          "typeApplication": {
                                                            "body": {
                                                              "typeApplication": {
                                                                "body": {
                                                                  "typeApplication": {
                                                                    "body": {"variable": "hydra.adapt.modules.constructCoder"},
                                                                    "type": {"variable": "hydra.graph.Graph"}}},
                                                                "type": {"variable": "hydra.ext.haskell.ast.Expression"}}},
                                                            "type": {"variable": "t0"}}}}}}}}},
                                            "function": {
                                              "typeApplication": {
                                                "body": {
                                                  "typeApplication": {
                                                    "body": {
                                                      "typeApplication": {
                                                        "body": {"function": {"primitive": "hydra.lib.flows.bind"}},
                                                        "type": {"variable": "hydra.graph.Graph"}}},
                                                    "type": {
                                                      "application": {
                                                        "argument": {"variable": "hydra.ext.haskell.ast.Expression"},
                                                        "function": {
                                                          "application": {
                                                            "argument": {"variable": "hydra.core.Term"},
                                                            "function": {
                                                              "application": {
                                                                "argument": {"variable": "t0"},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {"variable": "hydra.graph.Graph"},
                                                                    "function": {"variable": "hydra.compute.Coder"}}}}}}}}}}},
                                                "type": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"}}}}}}}}},
                                "domain": [{"variable": "hydra.core.Type"}],
                                "parameter": "typ"}}},
                          "domain": [{"variable": "hydra.core.Name"}],
                          "parameter": "name"}}},
                    "domain": [
                      {
                        "application": {
                          "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                          "function": {"variable": "hydra.module.Namespaces"}}}],
                    "parameter": "namespaces"}}}}},
          "parameter": "t0"}},
      "type": [
        {
          "constraints": null,
          "type": {
            "function": {
              "codomain": {
                "function": {
                  "codomain": {
                    "function": {
                      "codomain": {
                        "application": {
                          "argument": {"variable": "hydra.ext.haskell.ast.DeclarationWithComments"},
                          "function": {
                            "application": {
                              "argument": {"variable": "hydra.graph.Graph"},
                              "function": {"variable": "hydra.compute.Flow"}}}}},
                      "domain": {"variable": "hydra.core.Type"}}},
                  "domain": {"variable": "hydra.core.Name"}}},
              "domain": {
                "application": {
                  "argument": {"variable": "hydra.ext.haskell.ast.ModuleName"},
                  "function": {"variable": "hydra.module.Namespaces"}}}}},
          "variables": ["t0"]}]},
    {
      "name": "hydra.ext.haskell.coder.typeSchemeConstraintsToClassMap",
      "term": {
        "typeLambda": {
          "body": {
            "annotated": {
              "annotation": [
                {
                  "@key": "description",
                  "@value": {
                    "literal": {
                      "string": "Convert type scheme constraints to a map of type variables to typeclasses"}}}],
              "body": {
                "function": {
                  "lambda": {
                    "body": {
                      "let": {
                        "bindings": [
                          {
                            "name": "nameToTypeClass",
                            "term": {
                              "function": {
                                "lambda": {
                                  "body": {
                                    "let": {
                                      "bindings": [
                                        {
                                          "name": "classNameStr",
                                          "term": {
                                            "application": {
                                              "argument": {"variable": "className"},
                                              "function": {"function": {"elimination": {"wrap": "hydra.core.Name"}}}}},
                                          "type": [
                                            {
                                              "constraints": null,
                                              "type": {"literal": {"string": {}}},
                                              "variables": []}]},
                                        {
                                          "name": "isEq",
                                          "term": {
                                            "application": {
                                              "argument": {
                                                "application": {
                                                  "argument": {
                                                    "wrap": {
                                                      "body": {"literal": {"string": "equality"}},
                                                      "typeName": "hydra.core.Name"}},
                                                  "function": {"function": {"elimination": {"wrap": "hydra.core.Name"}}}}},
                                              "function": {
                                                "application": {
                                                  "argument": {"variable": "classNameStr"},
                                                  "function": {
                                                    "typeApplication": {
                                                      "body": {"function": {"primitive": "hydra.lib.equality.equal"}},
                                                      "type": {"literal": {"string": {}}}}}}}}},
                                          "type": [
                                            {
                                              "constraints": null,
                                              "type": {"literal": {"boolean": {}}},
                                              "variables": []}]},
                                        {
                                          "name": "isOrd",
                                          "term": {
                                            "application": {
                                              "argument": {
                                                "application": {
                                                  "argument": {
                                                    "wrap": {
                                                      "body": {"literal": {"string": "ordering"}},
                                                      "typeName": "hydra.core.Name"}},
                                                  "function": {"function": {"elimination": {"wrap": "hydra.core.Name"}}}}},
                                              "function": {
                                                "application": {
                                                  "argument": {"variable": "classNameStr"},
                                                  "function": {
                                                    "typeApplication": {
                                                      "body": {"function": {"primitive": "hydra.lib.equality.equal"}},
                                                      "type": {"literal": {"string": {}}}}}}}}},
                                          "type": [
                                            {
                                              "constraints": null,
                                              "type": {"literal": {"boolean": {}}},
                                              "variables": []}]}],
                                      "body": {
                                        "application": {
                                          "argument": {
                                            "application": {
                                              "argument": {
                                                "typeApplication": {
                                                  "body": {"maybe": null},
                                                  "type": {"variable": "hydra.classes.TypeClass"}}},
                                              "function": {
                                                "application": {
                                                  "argument": {
                                                    "maybe": [
                                                      {
                                                        "union": {
                                                          "field": {"name": "ordering", "term": {"unit": {}}},
                                                          "typeName": "hydra.classes.TypeClass"}}]},
                                                  "function": {
                                                    "application": {
                                                      "argument": {"variable": "isOrd"},
                                                      "function": {
                                                        "typeApplication": {
                                                          "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                          "type": {"maybe": {"variable": "hydra.classes.TypeClass"}}}}}}}}}},
                                          "function": {
                                            "application": {
                                              "argument": {
                                                "maybe": [
                                                  {
                                                    "union": {
                                                      "field": {"name": "equality", "term": {"unit": {}}},
                                                      "typeName": "hydra.classes.TypeClass"}}]},
                                              "function": {
                                                "application": {
                                                  "argument": {"variable": "isEq"},
                                                  "function": {
                                                    "typeApplication": {
                                                      "body": {"function": {"primitive": "hydra.lib.logic.ifElse"}},
                                                      "type": {"maybe": {"variable": "hydra.classes.TypeClass"}}}}}}}}}}}},
                                  "domain": [{"variable": "hydra.core.Name"}],
                                  "parameter": "className"}}},
                            "type": [
                              {
                                "constraints": null,
                                "type": {
                                  "function": {
                                    "codomain": {"maybe": {"variable": "hydra.classes.TypeClass"}},
                                    "domain": {"variable": "hydra.core.Name"}}},
                                "variables": []}]}],
                        "body": {
                          "application": {
                            "argument": {"variable": "maybeConstraints"},
                            "function": {
                              "application": {
                                "argument": {
                                  "function": {
                                    "lambda": {
                                      "body": {
                                        "application": {
                                          "argument": {"variable": "constraints"},
                                          "function": {
                                            "application": {
                                              "argument": {
                                                "function": {
                                                  "lambda": {
                                                    "body": {
                                                      "application": {
                                                        "argument": {
                                                          "application": {
                                                            "argument": {
                                                              "application": {
                                                                "argument": {
                                                                  "application": {
                                                                    "argument": {
                                                                      "application": {
                                                                        "argument": {"variable": "meta"},
                                                                        "function": {
                                                                          "function": {
                                                                            "elimination": {
                                                                              "record": {"field": "classes", "typeName": "hydra.core.TypeVariableMetadata"}}}}}},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {"function": {"primitive": "hydra.lib.sets.toList"}},
                                                                        "type": {"variable": "hydra.core.Name"}}}}},
                                                                "function": {
                                                                  "application": {
                                                                    "argument": {"variable": "nameToTypeClass"},
                                                                    "function": {
                                                                      "typeApplication": {
                                                                        "body": {
                                                                          "typeApplication": {
                                                                            "body": {"function": {"primitive": "hydra.lib.lists.map"}},
                                                                            "type": {"variable": "hydra.core.Name"}}},
                                                                        "type": {"maybe": {"variable": "hydra.classes.TypeClass"}}}}}}}},
                                                            "function": {
                                                              "typeApplication": {
                                                                "body": {"function": {"primitive": "hydra.lib.maybes.cat"}},
                                                                "type": {"variable": "hydra.classes.TypeClass"}}}}},
                                                        "function": {
                                                          "typeApplication": {
                                                            "body": {"function": {"primitive": "hydra.lib.sets.fromList"}},
                                                            "type": {"variable": "hydra.classes.TypeClass"}}}}},
                                                    "domain": [{"variable": "hydra.core.TypeVariableMetadata"}],
                                                    "parameter": "meta"}}},
                                              "function": {
                                                "typeApplication": {
                                                  "body": {
                                                    "typeApplication": {
                                                      "body": {
                                                        "typeApplication": {
                                                          "body": {"function": {"primitive": "hydra.lib.maps.map"}},
                                                          "type": {"variable": "hydra.core.TypeVariableMetadata"}}},
                                                      "type": {"set": {"variable": "hydra.classes.TypeClass"}}}},
                                                  "type": {"variable": "t0"}}}}}}},
                                      "domain": [
                                        {
                                          "map": {
                                            "keys": {"variable": "t0"},
                                            "values": {"variable": "hydra.core.TypeVariableMetadata"}}}],
                                      "parameter": "constraints"}}},
                                "function": {
                                  "application": {
                                    "argument": {
                                      "typeApplication": {
                                        "body": {
                                          "typeApplication": {
                                            "body": {"function": {"primitive": "hydra.lib.maps.empty"}},
                                            "type": {"variable": "t0"}}},
                                        "type": {"set": {"variable": "hydra.classes.TypeClass"}}}},
                                    "function": {
                                      "typeApplication": {
                                        "body": {
                                          "typeApplication": {
                                            "body": {"function": {"primitive": "hydra.lib.maybes.maybe"}},
                                            "type": {
                                              "map": {
                                                "keys": {"variable": "t0"},
                                                "values": {"set": {"variable": "hydra.classes.TypeClass"}}}}}},
                                        "type": {
                                          "map": {
                                            "keys": {"variable": "t0"},
                                            "values": {"variable": "hydra.core.TypeVariableMetadata"}}}}}}}}}}}}},
                    "domain": [
                      {
                        "maybe": {
                          "map": {
                            "keys": {"variable": "t0"},
                            "values": {"variable": "hydra.core.TypeVariableMetadata"}}}}],
                    "parameter": "maybeConstraints"}}}}},
          "parameter": "t0"}},
      "type": [
        {
          "constraints": [[{"@key": "t0", "@value": {"classes": ["ordering"]}}]],
          "type": {
            "function": {
              "codomain": {
                "map": {
                  "keys": {"variable": "t0"},
                  "values": {"set": {"variable": "hydra.classes.TypeClass"}}}},
              "domain": {
                "maybe": {
                  "map": {
                    "keys": {"variable": "t0"},
                    "values": {"variable": "hydra.core.TypeVariableMetadata"}}}}}},
          "variables": ["t0"]}]}],
  "namespace": "hydra.ext.haskell.coder",
  "termDependencies": [
    "hydra.ext.haskell.serde",
    "hydra.ext.haskell.utils",
    "hydra.adapt.modules",
    "hydra.rewriting",
    "hydra.serialization"],
  "typeDependencies": [
    "hydra.ext.haskell.ast",
    "hydra.accessors",
    "hydra.ast",
    "hydra.classes",
    "hydra.coders",
    "hydra.compute",
    "hydra.constraints",
    "hydra.core",
    "hydra.grammar",
    "hydra.graph",
    "hydra.json.model",
    "hydra.module",
    "hydra.parsing",
    "hydra.phantoms",
    "hydra.query",
    "hydra.relational",
    "hydra.tabular",
    "hydra.testing",
    "hydra.topology",
    "hydra.typing",
    "hydra.util",
    "hydra.variants",
    "hydra.workflow"]}
