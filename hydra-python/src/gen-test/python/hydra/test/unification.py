# Note: this is an automatically generated file. Do not edit.

r"""Test cases for type unification operations."""

from __future__ import annotations
from functools import lru_cache
from hydra.dsl.python import FrozenDict, Left, Nothing, Right
from typing import cast
import hydra.core
import hydra.testing
import hydra.typing

@lru_cache(1)
def all_tests() -> hydra.testing.TestGroup:
    r"""Test cases for type unification operations."""
    
    return hydra.testing.TestGroup("unification", Nothing(), (hydra.testing.TestGroup("variableOccursInType", Nothing(), (), (hydra.testing.TestCaseWithMetadata("variable occurs in itself", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), True))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable does not occur in different variable", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("b"))), False))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable does not occur in int32", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), False))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable does not occur in string", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), False))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable occurs in list element type", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))))), True))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable does not occur in list of different type", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("b"))))), False))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable occurs in function domain", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), True))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable occurs in function codomain", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a")))))), True))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable does not occur in function with different vars", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("b"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("c")))))), False))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable occurs in optional type", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeMaybe(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))))), True))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable occurs in pair first", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), True))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable occurs in pair second", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a")))))), True))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable occurs in either left", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeEither(hydra.core.EitherType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), True))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable occurs in either right", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeEither(hydra.core.EitherType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a")))))), True))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable occurs in map key type", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeMap(hydra.core.MapType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), True))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable occurs in map value type", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeMap(hydra.core.MapType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a")))))), True))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable occurs in set type", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeSet(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))))), True))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable occurs in nested list", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))))))), True))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable occurs in list of functions", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a")))))))), True))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable does not occur in complex type without it", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), cast(hydra.core.Type, hydra.core.TypeMaybe(cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("b"))))))))))), False))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable occurs deep in complex type", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), cast(hydra.core.Type, hydra.core.TypeMaybe(cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))))))))))), True))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable occurs in forAll body", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeForall(hydra.core.ForallType(hydra.core.Name("b"), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("b"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))))))))), True))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("variable occurs in forAll bound position", cast(hydra.testing.TestCase, hydra.testing.TestCaseVariableOccursInType(hydra.testing.VariableOccursInTypeTestCase(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeForall(hydra.core.ForallType(hydra.core.Name("a"), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))))))))), True))), Nothing(), ()))), hydra.testing.TestGroup("unifyTypes", Nothing(), (), (hydra.testing.TestCaseWithMetadata("unify identical int32 types", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), Right(hydra.typing.TypeSubst(FrozenDict({})))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("unify identical string types", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), Right(hydra.typing.TypeSubst(FrozenDict({})))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("unify identical variable types", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), Right(hydra.typing.TypeSubst(FrozenDict({})))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("unify variable with int32", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), Right(hydra.typing.TypeSubst(FrozenDict({
      hydra.core.Name("a"): cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))})))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("unify int32 with variable", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), Right(hydra.typing.TypeSubst(FrozenDict({
      hydra.core.Name("a"): cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))})))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("unify two different variables", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("b"))), Right(hydra.typing.TypeSubst(FrozenDict({
      hydra.core.Name("a"): cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("b")))})))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("unify list of variables with list of int32", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))))), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), Right(hydra.typing.TypeSubst(FrozenDict({
      hydra.core.Name("a"): cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))})))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("unify identical list types", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))))), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))))), Right(hydra.typing.TypeSubst(FrozenDict({})))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("unify function types with variables", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("b")))))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), Right(hydra.typing.TypeSubst(FrozenDict({
      hydra.core.Name("a"): cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))),
      hydra.core.Name("b"): cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))})))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("unify identical function types", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), Right(hydra.typing.TypeSubst(FrozenDict({})))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("unify optional types", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeMaybe(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))))), cast(hydra.core.Type, hydra.core.TypeMaybe(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), Right(hydra.typing.TypeSubst(FrozenDict({
      hydra.core.Name("a"): cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))})))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("unify pair types", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("b")))))), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), Right(hydra.typing.TypeSubst(FrozenDict({
      hydra.core.Name("a"): cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))),
      hydra.core.Name("b"): cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))})))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("unify either types", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeEither(hydra.core.EitherType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("b")))))), cast(hydra.core.Type, hydra.core.TypeEither(hydra.core.EitherType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), Right(hydra.typing.TypeSubst(FrozenDict({
      hydra.core.Name("a"): cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))),
      hydra.core.Name("b"): cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))})))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("unify map types", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeMap(hydra.core.MapType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("k"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("v")))))), cast(hydra.core.Type, hydra.core.TypeMap(hydra.core.MapType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), Right(hydra.typing.TypeSubst(FrozenDict({
      hydra.core.Name("k"): cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))),
      hydra.core.Name("v"): cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))})))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("unify set types", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeSet(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))))), cast(hydra.core.Type, hydra.core.TypeSet(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), Right(hydra.typing.TypeSubst(FrozenDict({
      hydra.core.Name("a"): cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))})))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("unify unit types", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeUnit()), cast(hydra.core.Type, hydra.core.TypeUnit()), Right(hydra.typing.TypeSubst(FrozenDict({})))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("fail to unify int32 with string", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), Left("cannot unify")))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("fail to unify list with function", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), Left("cannot unify")))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("occur check: variable with list containing it", cast(hydra.testing.TestCase, hydra.testing.TestCaseUnifyTypes(hydra.testing.UnifyTypesTestCase((), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))))), Left("appears free")))), Nothing(), ()))), hydra.testing.TestGroup("joinTypes", Nothing(), (), (hydra.testing.TestCaseWithMetadata("join identical int32", cast(hydra.testing.TestCase, hydra.testing.TestCaseJoinTypes(hydra.testing.JoinTypesTestCase(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), Right(())))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("join identical string", cast(hydra.testing.TestCase, hydra.testing.TestCaseJoinTypes(hydra.testing.JoinTypesTestCase(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), Right(())))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("join list types", cast(hydra.testing.TestCase, hydra.testing.TestCaseJoinTypes(hydra.testing.JoinTypesTestCase(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))))), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), Right((hydra.typing.TypeConstraint(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), "join types; test"),))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("join function types", cast(hydra.testing.TestCase, hydra.testing.TestCaseJoinTypes(hydra.testing.JoinTypesTestCase(cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("b")))))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), Right((hydra.typing.TypeConstraint(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), "join types; test"), hydra.typing.TypeConstraint(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("b"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), "join types; test")))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("join optional types", cast(hydra.testing.TestCase, hydra.testing.TestCaseJoinTypes(hydra.testing.JoinTypesTestCase(cast(hydra.core.Type, hydra.core.TypeMaybe(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))))), cast(hydra.core.Type, hydra.core.TypeMaybe(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), Right((hydra.typing.TypeConstraint(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), "join types; test"),))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("join pair types", cast(hydra.testing.TestCase, hydra.testing.TestCaseJoinTypes(hydra.testing.JoinTypesTestCase(cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("b")))))), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), Right((hydra.typing.TypeConstraint(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), "join types; test"), hydra.typing.TypeConstraint(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("b"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), "join types; test")))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("join either types", cast(hydra.testing.TestCase, hydra.testing.TestCaseJoinTypes(hydra.testing.JoinTypesTestCase(cast(hydra.core.Type, hydra.core.TypeEither(hydra.core.EitherType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("b")))))), cast(hydra.core.Type, hydra.core.TypeEither(hydra.core.EitherType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), Right((hydra.typing.TypeConstraint(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), "join types; test"), hydra.typing.TypeConstraint(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("b"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), "join types; test")))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("join map types", cast(hydra.testing.TestCase, hydra.testing.TestCaseJoinTypes(hydra.testing.JoinTypesTestCase(cast(hydra.core.Type, hydra.core.TypeMap(hydra.core.MapType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("k"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("v")))))), cast(hydra.core.Type, hydra.core.TypeMap(hydra.core.MapType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), Right((hydra.typing.TypeConstraint(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("k"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), "join types; test"), hydra.typing.TypeConstraint(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("v"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), "join types; test")))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("join set types", cast(hydra.testing.TestCase, hydra.testing.TestCaseJoinTypes(hydra.testing.JoinTypesTestCase(cast(hydra.core.Type, hydra.core.TypeSet(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))))), cast(hydra.core.Type, hydra.core.TypeSet(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), Right((hydra.typing.TypeConstraint(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("a"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), "join types; test"),))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("join unit types", cast(hydra.testing.TestCase, hydra.testing.TestCaseJoinTypes(hydra.testing.JoinTypesTestCase(cast(hydra.core.Type, hydra.core.TypeUnit()), cast(hydra.core.Type, hydra.core.TypeUnit()), Right(())))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("fail to join int32 with string", cast(hydra.testing.TestCase, hydra.testing.TestCaseJoinTypes(hydra.testing.JoinTypesTestCase(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), Left(None)))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("fail to join list with function", cast(hydra.testing.TestCase, hydra.testing.TestCaseJoinTypes(hydra.testing.JoinTypesTestCase(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), Left(None)))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("fail to join pair with either", cast(hydra.testing.TestCase, hydra.testing.TestCaseJoinTypes(hydra.testing.JoinTypesTestCase(cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), cast(hydra.core.Type, hydra.core.TypeEither(hydra.core.EitherType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), Left(None)))), Nothing(), ())))), ())
