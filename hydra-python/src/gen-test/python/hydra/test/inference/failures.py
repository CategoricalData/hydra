# Note: this is an automatically generated file. Do not edit.

r"""Inference tests for expected failures."""

from __future__ import annotations
from hydra.dsl.python import Nothing
from typing import cast
import hydra.core
import hydra.testing

def arity_mismatch_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Arity mismatch", Nothing(), (hydra.testing.TestGroup("Too many arguments", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(999)))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), Nothing(), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True)))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137)))))),)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("extra")))))))))), Nothing(), ()))), hydra.testing.TestGroup("Wrong argument types with extra args", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.length"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("extra")))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.not"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True)))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("arg"))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True)))))))))), Nothing(), ())))), ())

def complex_constraint_failure_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Complex constraint failures", Nothing(), (hydra.testing.TestGroup("Multi-level constraint conflicts", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), Nothing(), cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y")))))))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("a"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a"))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("h"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("z"), Nothing(), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z"))))))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("h"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("weird"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("weird"))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), Nothing(), cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))))))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("nested"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("g"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))))))))))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("int_f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("n"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("n")))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1)))))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("str_g"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("s"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.cat"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("s"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("!"))))))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("nested"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("int_f")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("str_g")))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), Nothing(), ()))), hydra.testing.TestGroup("Function composition failures", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("triple"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("increment"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("n"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("n")))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1)))))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("stringify"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("s"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.cat"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("s"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("!"))))))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("triple"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("increment")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("stringify")))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("compose"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("g"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("reverse_compose"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("g"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("compose"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("reverse_compose")))))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add")))))))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.length")))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), Nothing(), ())))), ())

def constraint_solver_edge_case_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Constraint solver edge cases", Nothing(), (hydra.testing.TestGroup("Complex constraint propagation", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("complex"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("g"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))))))))))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("complex"))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("a"), Nothing(), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("b"), Nothing(), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), Nothing(), ()),)), hydra.testing.TestGroup("Fixed point combinators", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("fix"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("fix"))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("y"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("rec"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("n"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("rec"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("rec"))))))))))))))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("omega"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("omega"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("omega")))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), Nothing(), ()))), hydra.testing.TestGroup("Constraint cycles", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("a"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("c")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("b"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("c"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("c"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("z"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z"))))))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("circular"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("circular")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("circular"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("circular")))))))))))), Nothing(), ())))), ())

def invalid_application_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Invalid application", Nothing(), (hydra.testing.TestGroup("Non-function application", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137)))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True)))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(False)))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralFloat(cast(hydra.core.FloatValue, hydra.core.FloatValueFloat64(3.14)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), Nothing(), ()))), hydra.testing.TestGroup("Collection application", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("bar")))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True)))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermList(())), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1)))))), cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(2)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(3)))))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("index")))))))))), Nothing(), ()))), hydra.testing.TestGroup("Primitive misapplication", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.maps.empty"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.sets.empty"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermMaybe(Nothing())), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("value")))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermList(())), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True)))))))))), Nothing(), ())))), ())

def let_binding_mismatch_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Let binding type mismatches", Nothing(), (hydra.testing.TestGroup("Application type mismatches", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), Nothing()), hydra.core.Binding(hydra.core.Name("y"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("result"))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("extra"))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("num"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), Nothing()), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("num"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("num")))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), Nothing(), ()))), hydra.testing.TestGroup("Collection type mismatches", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("list1"), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),))), Nothing()), hydra.core.Binding(hydra.core.Name("list2"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("list1")))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("list2"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("nums"), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(2))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("mixed"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("bad"))))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("nums")))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("mixed"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("pair1"), cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))), Nothing()), hydra.core.Binding(hydra.core.Name("pair2"), cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("bar")))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("pair1")))))), Nothing())), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.pairs.first"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("pair2"))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1))))))))))))))), Nothing(), ()))), hydra.testing.TestGroup("Function binding mismatches", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("add"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), Nothing()), hydra.core.Binding(hydra.core.Name("badCall"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("add"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a number"))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("badCall"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), Nothing(), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), Nothing(), ())))), ())

def occur_check_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Occur check failures", Nothing(), (hydra.testing.TestGroup("Function occur checks", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("h"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("h"))))))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))))))))), Nothing(), ()),)), hydra.testing.TestGroup("Mutual occur checks", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))))))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("a"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("b"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b"))))))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("cycle1"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cycle2"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cycle1")))))), Nothing()), hydra.core.Binding(hydra.core.Name("cycle2"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cycle1"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cycle1"))))))))), Nothing(), ()))), hydra.testing.TestGroup("Complex occur checks", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("omega"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("omega"))))))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("omega"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("loop"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("loop"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("loop"))))))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y")))))))))))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("loop"))))))))), Nothing(), ())))), ())

def polymorphism_violation_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Polymorphism violations", Nothing(), (hydra.testing.TestGroup("Identity function violations", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))))))))), Nothing(), ()))), hydra.testing.TestGroup("Constrained polymorphism violations", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("constant")))))))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.pairs.first"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.pairs.first"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("bad"))))))))))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("h"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(0)))))),))))))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("h"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("incompatible"))))))))))))), Nothing(), ()))), hydra.testing.TestGroup("Higher-order polymorphism violations", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), Nothing(), cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("g"), Nothing(), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("bad")))))))))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("h"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("h"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("h"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("error")))))))))))))))))), Nothing(), ())))), ())

def primitive_type_error_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Primitive function type errors", Nothing(), (hydra.testing.TestGroup("Logic primitive errors", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.ifElse"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(False)))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.ifElse"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(False)))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.and"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True)))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.or"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not boolean")))))))))), Nothing(), ()))), hydra.testing.TestGroup("Collection primitive errors", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.maps.lookup"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a map")))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.sets.member"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.head"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a list")))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.maybes.fromMaybe"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not optional")))))))))), Nothing(), ()))), hydra.testing.TestGroup("Math primitive errors", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a number"))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.mul"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(False)))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.div"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(2)))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.mod"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a number")))))))))), Nothing(), ())))), ())

def recursive_type_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Recursive type construction", Nothing(), (hydra.testing.TestGroup("Direct recursive types", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))),))), Nothing()),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), Nothing(), ()))), hydra.testing.TestGroup("Recursive function types", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f")))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f")))))))))))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))),)))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))), Nothing(), ()))), hydra.testing.TestGroup("Mutually recursive types", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))),))), Nothing()), hydra.core.Binding(hydra.core.Name("y"), cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("a"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b")))))))), Nothing()), hydra.core.Binding(hydra.core.Name("b"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a"))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))),))), Nothing()), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f")))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))), Nothing(), ())))), ())

def self_application_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Self-application", Nothing(), (hydra.testing.TestGroup("Direct self-application", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f")))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))), Nothing(), ()))), hydra.testing.TestGroup("Indirect self-application", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("a"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a")))))), Nothing()), hydra.core.Binding(hydra.core.Name("b"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("cycle"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cycle"))))))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cycle"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cycle")))))))))))), Nothing(), ())))), ())

def type_constructor_misuse_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Type constructor misuse", Nothing(), (hydra.testing.TestGroup("List constructor errors", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137)))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.length"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.head"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a list")))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.tail"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), Nothing(), ()))), hydra.testing.TestGroup("String constructor errors", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.length"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))),))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.cat"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.fromList"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a list")))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.toList"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), Nothing(), ()))), hydra.testing.TestGroup("Math constructor errors", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137)))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.sub"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a number"))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.mul"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a number")))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.div"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(False)))))))))), Nothing(), ())))), ())

def undefined_variable_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Undefined variable", Nothing(), (hydra.testing.TestGroup("Basic unbound variables", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))), Nothing(), ()))), hydra.testing.TestGroup("Unbound in let expressions", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))), Nothing()),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))), Nothing()), hydra.core.Binding(hydra.core.Name("z"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), Nothing()), hydra.core.Binding(hydra.core.Name("y"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z"))), Nothing())), cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y")))))))))))), Nothing(), ()))), hydra.testing.TestGroup("Shadowing scope errors", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("y"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), Nothing()),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z")))))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("y"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), Nothing()),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z")))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), Nothing(), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z")))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), Nothing(), ())))), ())

def unification_failure_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Unification failure", Nothing(), (hydra.testing.TestGroup("Basic type mismatches", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("bar")))))))))), Nothing(), ()))), hydra.testing.TestGroup("Collection type mismatches", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a list")))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))),))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))),)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137)))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.concat"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))),)))))))))))), Nothing(), ()))), hydra.testing.TestGroup("Conditional type mismatches", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.ifElse"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.ifElse"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.ifElse"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), Nothing(), ()))), hydra.testing.TestGroup("Polymorphic instantiation conflicts", Nothing(), (), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("cons"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), Nothing()),), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cons"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cons"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))))))))), Nothing(), ())))), ())

def all_tests() -> hydra.testing.TestGroup:
    r"""Expected failure tests."""
    
    return hydra.testing.TestGroup("Expected failures", Nothing(), (undefined_variable_tests(), unification_failure_tests(), invalid_application_tests(), self_application_tests(), arity_mismatch_tests(), recursive_type_tests(), occur_check_tests(), type_constructor_misuse_tests(), polymorphism_violation_tests(), let_binding_mismatch_tests(), constraint_solver_edge_case_tests(), primitive_type_error_tests(), complex_constraint_failure_tests()), ())
