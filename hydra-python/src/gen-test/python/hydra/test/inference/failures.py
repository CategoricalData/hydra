# Note: this is an automatically generated file. Do not edit.

r"""Inference tests for expected failures."""

from __future__ import annotations
from hydra.dsl.python import Maybe, Nothing, frozenlist
from typing import cast
import hydra.core
import hydra.testing

arity_mismatch_tests = hydra.testing.TestGroup("Arity mismatch", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("Too many arguments", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(999)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True)))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137)))))),)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("extra")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Wrong argument types with extra args", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.length"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("extra")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.not"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True)))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("arg"))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True)))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ()))))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

complex_constraint_failure_tests = hydra.testing.TestGroup("Complex constraint failures", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("Multi-level constraint conflicts", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("a"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("h"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("z"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("h"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("weird"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("weird"))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("nested"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("g"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))))))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("int_f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("n"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("n")))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1)))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("str_g"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("s"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.cat"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("s"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("!"))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("nested"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("int_f")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("str_g")))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Function composition failures", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("triple"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("increment"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("n"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("n")))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1)))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("stringify"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("s"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.cat"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("s"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("!"))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("triple"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("increment")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("stringify")))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("compose"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("g"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("reverse_compose"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("g"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("compose"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("reverse_compose")))))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add")))))))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.length")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ()))))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

constraint_solver_edge_case_tests = hydra.testing.TestGroup("Constraint solver edge cases", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("Complex constraint propagation", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("complex"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("g"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))))))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("complex"))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("a"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("b"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())),)), hydra.testing.TestGroup("Fixed point combinators", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("fix"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("fix"))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("y"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("rec"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("n"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("rec"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("rec"))))))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("omega"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("omega"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("omega")))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Constraint cycles", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("a"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("c")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("b"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("c"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("c"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("z"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("circular"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("circular")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("circular"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("circular")))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ()))))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

invalid_application_tests = hydra.testing.TestGroup("Invalid application", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("Non-function application", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True)))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(False)))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralFloat(cast(hydra.core.FloatValue, hydra.core.FloatValueFloat64(3.14)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Collection application", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("bar")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True)))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermList(cast(frozenlist[hydra.core.Term], ()))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1)))))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(2)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(3)))))))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("index")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Primitive misapplication", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.maps.empty"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.sets.empty"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermMaybe(cast(Maybe[hydra.core.Term], Nothing()))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("value")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermList(cast(frozenlist[hydra.core.Term], ()))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True)))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ()))))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

let_binding_mismatch_tests = hydra.testing.TestGroup("Let binding type mismatches", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("Application type mismatches", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("y"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("result"))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("extra"))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("num"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("num"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("num")))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Collection type mismatches", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("list1"), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("list2"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("list1")))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("list2"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("nums"), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(2))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("mixed"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("bad"))))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("nums")))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("mixed"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("pair1"), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("pair2"), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("bar")))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("pair1"))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.pairs.first"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("pair2"))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1))))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Function binding mismatches", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("add"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("badCall"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("add"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a number"))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("badCall"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("bad"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bad"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ()))))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

occur_check_tests = hydra.testing.TestGroup("Occur check failures", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("Function occur checks", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("h"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("h"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())),)), hydra.testing.TestGroup("Mutual occur checks", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("a"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("b"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("cycle1"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cycle2"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cycle1")))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("cycle2"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cycle1"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cycle1"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Complex occur checks", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("omega"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("omega"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("omega"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("loop"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("loop"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("loop"))))))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y")))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("loop"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ()))))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

polymorphism_violation_tests = hydra.testing.TestGroup("Polymorphism violations", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("Identity function violations", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Constrained polymorphism violations", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("constant"))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.pairs.first"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.pairs.first"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("bad"))))))))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("h"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(0)))))),))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("h"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("incompatible"))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Higher-order polymorphism violations", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("g"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("bad")))))))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("h"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("h"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("h"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("error")))))))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ()))))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

primitive_type_error_tests = hydra.testing.TestGroup("Primitive function type errors", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("Logic primitive errors", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.ifElse"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(False)))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.ifElse"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(False)))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.and"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True)))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.or"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not boolean")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Collection primitive errors", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.maps.lookup"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a map")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.sets.member"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.head"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a list")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.maybes.fromMaybe"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not optional")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Math primitive errors", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a number"))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.mul"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(False)))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.div"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(2)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.mod"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a number")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ()))))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

recursive_type_tests = hydra.testing.TestGroup("Recursive type construction", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("Direct recursive types", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))),))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Recursive function types", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f")))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))),)))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Mutually recursive types", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))),))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("y"), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("a"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("b"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a"))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))),))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ()))))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

self_application_tests = hydra.testing.TestGroup("Self-application", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("Direct self-application", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f")))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Indirect self-application", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("a"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a")))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("b"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("a"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("cycle"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cycle"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cycle"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cycle")))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ()))))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

type_constructor_misuse_tests = hydra.testing.TestGroup("Type constructor misuse", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("List constructor errors", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.length"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.head"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a list")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.tail"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("String constructor errors", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.length"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))),))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.cat"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.fromList"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a list")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.toList"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Math constructor errors", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.sub"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a number"))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.mul"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a number")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.div"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(False)))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ()))))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

undefined_variable_tests = hydra.testing.TestGroup("Undefined variable", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("Basic unbound variables", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Unbound in let expressions", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("z"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("y"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z"))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Shadowing scope errors", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("y"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z")))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("y"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z")))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ()))))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

unification_failure_tests = hydra.testing.TestGroup("Unification failure", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("Basic type mismatches", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("bar")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Collection type mismatches", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("not a list")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))),))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))),))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.concat"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))),)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Conditional type mismatches", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.ifElse"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.ifElse"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),)))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.ifElse"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Polymorphic instantiation conflicts", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(True))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInferenceFailure(hydra.testing.InferenceFailureTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("cons"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cons"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("cons"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))))))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ()))))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

# Expected failure tests.
all_tests = hydra.testing.TestGroup("Expected failures", cast(Maybe[str], Nothing()), (undefined_variable_tests, unification_failure_tests, invalid_application_tests, self_application_tests, arity_mismatch_tests, recursive_type_tests, occur_check_tests, type_constructor_misuse_tests, polymorphism_violation_tests, let_binding_mismatch_tests, constraint_solver_edge_case_tests, primitive_type_error_tests, complex_constraint_failure_tests), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))
