# Note: this is an automatically generated file. Do not edit.

r"""Inference tests for fundamental language features."""

from __future__ import annotations
from hydra.dsl.python import FrozenDict, Just, Maybe, Nothing, frozenlist
from typing import cast
import hydra.core
import hydra.testing

def test_group_for_lambdas() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Lambdas", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("Simple lambdas", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt16(137))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT16))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Nested lambdas", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y")))))))))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))))),)))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Nested lambdas with shadowing", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())),))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

def test_group_for_let() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Let terms", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("Simple", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralFloat(cast(hydra.core.FloatValue, hydra.core.FloatValueFloat32(42.0)))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("z"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"), hydra.core.Name("t1")), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t1"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeFloat(hydra.core.FloatType.FLOAT32)))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())),)), hydra.testing.TestGroup("Empty let", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let(cast(frozenlist[hydra.core.Binding], ()), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let(cast(frozenlist[hydra.core.Binding], ()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Trivial let", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("foo"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("foo")))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("foo"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("foo")))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Multiple references to a let-bound term", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("foo"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("bar"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137)))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("foo"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bar"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("foo"))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())),)), hydra.testing.TestGroup("Nested let", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("foo"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("bar"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137)))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("foo"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bar")))))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("foo"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("bar"), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("foo"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137)))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bar"))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("sng"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))),)))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("foo"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("sng"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("bar"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("sng"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("bar"))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("quux"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("sng"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("foo"))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bar"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("quux"))), cast(hydra.core.Term, hydra.core.TermList(cast(frozenlist[hydra.core.Term], ())))))))))))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))))), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))))))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), (hydra.testing.Tag("disabledForPython"),)))), hydra.testing.TestGroup("Nested let with shadowing", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("foo"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("foo"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137)))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("foo"))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("foo"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("bar"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("foo"))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("foo"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(137)))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bar"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("foo"))))))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Let-polymorphism", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralFloat(cast(hydra.core.FloatValue, hydra.core.FloatValueFloat32(42.0)))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("z"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"), hydra.core.Name("t1")), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t1"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeFloat(hydra.core.FloatType.FLOAT32)))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("square"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("z"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.mul"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.ifElse"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("square"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y")))))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))))))))))))))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeBoolean()))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeBoolean()))))))))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeBoolean()))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeBoolean())))))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), (hydra.testing.Tag("disabledForPython"),)), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))),))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#5", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))),)))))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#6", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#7", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("list"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))),)))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("list"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("list"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))))))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#8", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("singleton"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))),)))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("singleton"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("singleton"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y")))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f")))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), (hydra.testing.Tag("disabled"),)), hydra.testing.TestCaseWithMetadata("#9", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("fortytwo"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("foo"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("fortytwo"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("foo")))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), (hydra.testing.Tag("disabledForMinimalInference"),)), hydra.testing.TestCaseWithMetadata("#10", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("fortytwo"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("foo"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("fortytwo"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("foo")))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), (hydra.testing.Tag("disabledForMinimalInference"),)))), hydra.testing.TestGroup("Recursive and mutually recursive let (@wisnesky's test cases)", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(0))))))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f")))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("y"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y")))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"), hydra.core.Name("t1")), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t1")))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(0))))))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("u"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("v"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("v")))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(0))))))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g")))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"), hydra.core.Name("t1")), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t1"))))))))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("v0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t1")))))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), (hydra.testing.Tag("disabled"),)), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("plus"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.negate"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("plus"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.negate"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("plus"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.negate"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.negate"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(0))))))))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.negate"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(0))))))))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#5", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("z"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("p0"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("p0")))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("p0"))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(0))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#6", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("z"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z")))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"), hydra.core.Name("t1")), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t1"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t1"))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#7", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("z"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("w"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z"))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("w"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("z")))))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"), hydra.core.Name("t1"), hydra.core.Name("t2")), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t1"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t1")))))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t2"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t2")))))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Recursive and mutually recursive let with polymorphism", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.length"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g")))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.fromList"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))),)))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g")))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.length"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.fromList"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))),))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g")))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), (hydra.testing.Tag("disabledForMinimalInference"),)), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.length"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.fromList"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))),))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g")))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), (hydra.testing.Tag("disabledForMinimalInference"),)))), hydra.testing.TestGroup("Recursion involving polymorphic functions", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("b"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.ifElse"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b")))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))),))),)))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("b"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.ifElse"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b")))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))),))),)))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f")))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeBoolean()))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))))))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), (hydra.testing.Tag("disabledForPython"),)), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("inst"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("rec"))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(False)))))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(False))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("rec"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("b0"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("rec"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b0"))))))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("inst"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("rec")))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"), hydra.core.Name("t1")), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeBoolean()))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t1"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), (hydra.testing.Tag("disabledForMinimalInference"),)), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("inst"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("rec"))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(False)))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("rec"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("rec"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f")))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("inst"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("rec")))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeBoolean()))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), (hydra.testing.Tag("disabledForMinimalInference"),)), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("inst1"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("rec"))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(False)))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("inst2"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("rec"))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("rec"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("rec"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f")))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("inst1"))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("inst2"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("rec")))))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeBoolean()))), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), (hydra.testing.Tag("disabledForMinimalInference"),)), hydra.testing.TestCaseWithMetadata("#5", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("foo"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bar"))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("bar"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("foo"))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("foo"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("bar")))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"), hydra.core.Name("t1")), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t1")))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), (hydra.testing.Tag("disabledForMinimalInference"),))))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

def test_group_for_literals() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Literals", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo")))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralBoolean(False)))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeBoolean()))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralFloat(cast(hydra.core.FloatValue, hydra.core.FloatValueFloat64(42.0)))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeFloat(hydra.core.FloatType.FLOAT64)))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ()))))

def test_group_for_pathological_terms() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Pathological terms", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("Recursion", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("id"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("weird"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("id")))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("weird")))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), (hydra.testing.Tag("disabledForMinimalInference"),)), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f")))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), hydra.core.TypeScheme((hydra.core.Name("t0"), hydra.core.Name("t1")), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t1")))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#5", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("paradox"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("f"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("paradox"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f")))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("paradox")))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#6", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("f"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())), hydra.core.Binding(hydra.core.Name("g"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y")))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing()))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("f"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("g"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Infinite lists", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("self"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42))))))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("self")))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("self")))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("self"), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("self")))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("self"))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("self"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("e"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("e")))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("self"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("e")))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("self"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), (hydra.testing.Tag("disabled"),)), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("build"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.cons"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("build"))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1)))))))))))))))))))), cast(Maybe[hydra.core.TypeScheme], Nothing())),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("build"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(0)))))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ()))))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

def test_group_for_polymorphism() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Polymorphism", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("Simple lists and optionals", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermList(cast(frozenlist[hydra.core.Term], ()))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermMaybe(cast(Maybe[hydra.core.Term], Nothing()))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeMaybe(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), (hydra.testing.Tag("disabledForMinimalInference"),)), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermMaybe(cast(Maybe[hydra.core.Term], Just(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeMaybe(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), (hydra.testing.Tag("disabledForMinimalInference"),)))), hydra.testing.TestGroup("Lambdas, lists, and products", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))),)))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#5", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("y"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermPair(cast(tuple[hydra.core.Term, hydra.core.Term], (cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))))))))),))), hydra.core.TypeScheme((hydra.core.Name("t0"), hydra.core.Name("t1")), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t1"))), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t1"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Lambdas and application", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())),)), hydra.testing.TestGroup("Primitives and application", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.concat"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))),))), cast(hydra.core.Term, hydra.core.TermList(cast(frozenlist[hydra.core.Term], ()))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())),)), hydra.testing.TestGroup("Lambdas and primitives", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Mixed expressions with lambdas, constants, and primitive functions", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.sub"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1)))))))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())),)), hydra.testing.TestGroup("Application terms", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("foo"))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.sub"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1)))))))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ()))))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

def test_group_for_primitives() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Primitives", cast(Maybe[str], Nothing()), (hydra.testing.TestGroup("Monomorphic primitive functions", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.strings.length"))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.sub"))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())))), hydra.testing.TestGroup("Polymorphic primitive functions", cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.TestGroup], ()), (hydra.testing.TestCaseWithMetadata("#1", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("el"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.length"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("el"))),))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#2", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("el"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.length"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("el")))))))))))))), hydra.core.TypeScheme(cast(frozenlist[hydra.core.Name], ()), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#3", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.concat"))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))))))), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#4", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("lists"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.concat"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("lists"))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))))))), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#5", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("lists"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.length"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.concat"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("lists")))))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))))))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#6", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("list"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.length"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.concat"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("list"))), cast(hydra.core.Term, hydra.core.TermList(cast(frozenlist[hydra.core.Term], ()))))))))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#7", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("list"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.length"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.concat"))))), cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("list"))), cast(hydra.core.Term, hydra.core.TermList(cast(frozenlist[hydra.core.Term], ())))))))))))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ())), hydra.testing.TestCaseWithMetadata("#8", cast(hydra.testing.TestCase, hydra.testing.TestCaseInference(hydra.testing.InferenceTestCase(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("lists"), cast(Maybe[hydra.core.Type], Nothing()), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.length"))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.lists.concat"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("lists")))))))))))))), hydra.core.TypeScheme((hydra.core.Name("t0"),), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))))))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), cast(Maybe[FrozenDict[hydra.core.Name, hydra.core.TypeVariableMetadata]], Nothing()))))), cast(Maybe[str], Nothing()), cast(frozenlist[hydra.testing.Tag], ()))))), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))

def all_tests() -> hydra.testing.TestGroup:
    r"""Fundamental language feature tests."""
    
    return hydra.testing.TestGroup("Fundamentals", cast(Maybe[str], Nothing()), (test_group_for_lambdas(), test_group_for_let(), test_group_for_literals(), test_group_for_pathological_terms(), test_group_for_polymorphism(), test_group_for_primitives()), cast(frozenlist[hydra.testing.TestCaseWithMetadata], ()))
