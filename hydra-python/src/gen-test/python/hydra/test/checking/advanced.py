# Note: this is an automatically generated file. Do not edit.

r"""Advanced type checking test cases: annotated terms and flows."""

from __future__ import annotations
from hydra.dsl.python import FrozenDict, Just, Nothing
from typing import cast
import hydra.core
import hydra.test.test_types
import hydra.testing

def annotations_in_complex_contexts_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Annotations in complex contexts", Nothing(), (), (hydra.testing.TestCaseWithMetadata("annotated let binding", cast(hydra.testing.TestCase, hydra.testing.TestCaseTypeChecking(hydra.testing.TypeCheckingTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(5)))))), FrozenDict({})))), Nothing()), hydra.core.Binding(hydra.core.Name("y"), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("world")))), FrozenDict({})))), Nothing())), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y")))))), FrozenDict({}))))))), cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("x"), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(5)))))), FrozenDict({})))), Just(hydra.core.TypeScheme((), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), Nothing()))), hydra.core.Binding(hydra.core.Name("y"), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("world")))), FrozenDict({})))), Just(hydra.core.TypeScheme((), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), Nothing())))), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermTypeApplication(hydra.core.TypeApplicationTerm(cast(hydra.core.Term, hydra.core.TermTypeApplication(hydra.core.TypeApplicationTerm(cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("y")))))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), FrozenDict({}))))))), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("annotated record fields", cast(hydra.testing.TestCase, hydra.testing.TestCaseTypeChecking(hydra.testing.TypeCheckingTestCase(cast(hydra.core.Term, hydra.core.TermRecord(hydra.core.Record(hydra.test.test_types.test_type_person_name, (hydra.core.Field(hydra.core.Name("firstName"), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("Alice")))), FrozenDict({}))))), hydra.core.Field(hydra.core.Name("lastName"), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("Smith")))), FrozenDict({}))))), hydra.core.Field(hydra.core.Name("age"), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(30)))))), FrozenDict({}))))))))), cast(hydra.core.Term, hydra.core.TermRecord(hydra.core.Record(hydra.test.test_types.test_type_person_name, (hydra.core.Field(hydra.core.Name("firstName"), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("Alice")))), FrozenDict({}))))), hydra.core.Field(hydra.core.Name("lastName"), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("Smith")))), FrozenDict({}))))), hydra.core.Field(hydra.core.Name("age"), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(30)))))), FrozenDict({}))))))))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.test.test_types.test_type_person_name))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("annotated function in application", cast(hydra.testing.TestCase, hydra.testing.TestCaseTypeChecking(hydra.testing.TypeCheckingTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("add"), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), FrozenDict({})))), Nothing()),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("add"))), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(10)))))), FrozenDict({}))))))), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(20)))))), FrozenDict({})))))))))), cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("add"), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.math.add"))))), FrozenDict({})))), Just(hydra.core.TypeScheme((), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))))))))), Nothing()))),), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("add"))), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(10)))))), FrozenDict({}))))))), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(20)))))), FrozenDict({})))))))))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), Nothing(), ())))

def nested_annotations_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Nested annotations", Nothing(), (), (hydra.testing.TestCaseWithMetadata("annotation within annotation", cast(hydra.testing.TestCase, hydra.testing.TestCaseTypeChecking(hydra.testing.TypeCheckingTestCase(cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(100)))))), FrozenDict({})))), FrozenDict({})))), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(100)))))), FrozenDict({})))), FrozenDict({})))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("annotated terms in tuple", cast(hydra.testing.TestCase, hydra.testing.TestCaseTypeChecking(hydra.testing.TypeCheckingTestCase(cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1)))))), FrozenDict({})))), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("hello")))), FrozenDict({}))))))), cast(hydra.core.Term, hydra.core.TermTypeApplication(hydra.core.TypeApplicationTerm(cast(hydra.core.Term, hydra.core.TermTypeApplication(hydra.core.TypeApplicationTerm(cast(hydra.core.Term, hydra.core.TermPair((cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(1)))))), FrozenDict({})))), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("hello")))), FrozenDict({}))))))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))), cast(hydra.core.Type, hydra.core.TypePair(hydra.core.PairType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32)))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("annotated term in function application", cast(hydra.testing.TestCase, hydra.testing.TestCaseTypeChecking(hydra.testing.TypeCheckingTestCase(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), FrozenDict({})))), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), FrozenDict({}))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Just(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), FrozenDict({})))), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), FrozenDict({}))))))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), Nothing(), ())))

def top_level_annotations_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Top-level annotations", Nothing(), (), (hydra.testing.TestCaseWithMetadata("annotated literal", cast(hydra.testing.TestCase, hydra.testing.TestCaseTypeChecking(hydra.testing.TypeCheckingTestCase(cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), FrozenDict({})))), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(42)))))), FrozenDict({})))), cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeInteger(hydra.core.IntegerType.INT32))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("annotated list", cast(hydra.testing.TestCase, hydra.testing.TestCaseTypeChecking(hydra.testing.TypeCheckingTestCase(cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("a")))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("b"))))))), FrozenDict({})))), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermList((cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("a")))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("b"))))))), FrozenDict({})))), cast(hydra.core.Type, hydra.core.TypeList(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("annotated record", cast(hydra.testing.TestCase, hydra.testing.TestCaseTypeChecking(hydra.testing.TypeCheckingTestCase(cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermRecord(hydra.core.Record(hydra.test.test_types.test_type_person_name, (hydra.core.Field(hydra.core.Name("firstName"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("John"))))), hydra.core.Field(hydra.core.Name("lastName"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("Doe"))))), hydra.core.Field(hydra.core.Name("age"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(25))))))))))), FrozenDict({})))), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermRecord(hydra.core.Record(hydra.test.test_types.test_type_person_name, (hydra.core.Field(hydra.core.Name("firstName"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("John"))))), hydra.core.Field(hydra.core.Name("lastName"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("Doe"))))), hydra.core.Field(hydra.core.Name("age"), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralInteger(cast(hydra.core.IntegerValue, hydra.core.IntegerValueInt32(25))))))))))), FrozenDict({})))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.test.test_types.test_type_person_name))))), Nothing(), ()), hydra.testing.TestCaseWithMetadata("annotated lambda", cast(hydra.testing.TestCase, hydra.testing.TestCaseTypeChecking(hydra.testing.TypeCheckingTestCase(cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Nothing(), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x")))))))), FrozenDict({})))), cast(hydra.core.Term, hydra.core.TermAnnotated(hydra.core.AnnotatedTerm(cast(hydra.core.Term, hydra.core.TermTypeLambda(hydra.core.TypeLambda(hydra.core.Name("t0"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("x"), Just(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("x"))))))))))), FrozenDict({})))), cast(hydra.core.Type, hydra.core.TypeForall(hydra.core.ForallType(hydra.core.Name("t0"), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))))))))), Nothing(), ())))

def annotated_terms_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Annotated terms", Nothing(), (top_level_annotations_tests(), nested_annotations_tests(), annotations_in_complex_contexts_tests()), ())

def flows_with_failure_across_let_bindings_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Flows with failure across let bindings", Nothing(), (), (hydra.testing.TestCaseWithMetadata("mutually referential failure functions with Flow monad", cast(hydra.testing.TestCase, hydra.testing.TestCaseTypeChecking(hydra.testing.TypeCheckingTestCase(cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("conditionalUnexpected"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("s"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("b"), Nothing(), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("ignored"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.ifElse"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b")))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("unexpected"))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("oops")))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("unexpected"))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("s")))))))))))))))))))))))), Nothing()), hydra.core.Binding(hydra.core.Name("unexpected"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("s"), Nothing(), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.flows.fail"))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("s"))))))))))), Nothing())), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("conditionalUnexpected")))))), cast(hydra.core.Term, hydra.core.TermTypeLambda(hydra.core.TypeLambda(hydra.core.Name("t0"), cast(hydra.core.Term, hydra.core.TermTypeLambda(hydra.core.TypeLambda(hydra.core.Name("t1"), cast(hydra.core.Term, hydra.core.TermTypeLambda(hydra.core.TypeLambda(hydra.core.Name("t2"), cast(hydra.core.Term, hydra.core.TermLet(hydra.core.Let((hydra.core.Binding(hydra.core.Name("conditionalUnexpected"), cast(hydra.core.Term, hydra.core.TermTypeLambda(hydra.core.TypeLambda(hydra.core.Name("t3"), cast(hydra.core.Term, hydra.core.TermTypeLambda(hydra.core.TypeLambda(hydra.core.Name("t4"), cast(hydra.core.Term, hydra.core.TermTypeLambda(hydra.core.TypeLambda(hydra.core.Name("t5"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("s"), Just(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("b"), Just(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeBoolean())))), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("ignored"), Just(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t3")))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermTypeApplication(hydra.core.TypeApplicationTerm(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.logic.ifElse"))))), cast(hydra.core.Type, hydra.core.TypeApplication(hydra.core.ApplicationType(cast(hydra.core.Type, hydra.core.TypeApplication(hydra.core.ApplicationType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("hydra.compute.Flow"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t4")))))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t5"))))))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("b")))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermTypeApplication(hydra.core.TypeApplicationTerm(cast(hydra.core.Term, hydra.core.TermTypeApplication(hydra.core.TypeApplicationTerm(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("unexpected"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t4")))))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t5")))))), cast(hydra.core.Term, hydra.core.TermLiteral(cast(hydra.core.Literal, hydra.core.LiteralString("oops")))))))))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermTypeApplication(hydra.core.TypeApplicationTerm(cast(hydra.core.Term, hydra.core.TermTypeApplication(hydra.core.TypeApplicationTerm(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("unexpected"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t4")))))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t5")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("s"))))))))))))))))))))))))))))))))), Just(hydra.core.TypeScheme((hydra.core.Name("t3"), hydra.core.Name("t4"), hydra.core.Name("t5")), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeBoolean()))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t3"))), cast(hydra.core.Type, hydra.core.TypeApplication(hydra.core.ApplicationType(cast(hydra.core.Type, hydra.core.TypeApplication(hydra.core.ApplicationType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("hydra.compute.Flow"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t4")))))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t5"))))))))))))))), Nothing()))), hydra.core.Binding(hydra.core.Name("unexpected"), cast(hydra.core.Term, hydra.core.TermTypeLambda(hydra.core.TypeLambda(hydra.core.Name("t3"), cast(hydra.core.Term, hydra.core.TermTypeLambda(hydra.core.TypeLambda(hydra.core.Name("t4"), cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionLambda(hydra.core.Lambda(hydra.core.Name("s"), Just(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString())))), cast(hydra.core.Term, hydra.core.TermApplication(hydra.core.Application(cast(hydra.core.Term, hydra.core.TermTypeApplication(hydra.core.TypeApplicationTerm(cast(hydra.core.Term, hydra.core.TermTypeApplication(hydra.core.TypeApplicationTerm(cast(hydra.core.Term, hydra.core.TermFunction(cast(hydra.core.Function, hydra.core.FunctionPrimitive(hydra.core.Name("hydra.lib.flows.fail"))))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t3")))))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t4")))))), cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("s"))))))))))))))))), Just(hydra.core.TypeScheme((hydra.core.Name("t3"), hydra.core.Name("t4")), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), cast(hydra.core.Type, hydra.core.TypeApplication(hydra.core.ApplicationType(cast(hydra.core.Type, hydra.core.TypeApplication(hydra.core.ApplicationType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("hydra.compute.Flow"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t3")))))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t4"))))))))), Nothing())))), cast(hydra.core.Term, hydra.core.TermTypeApplication(hydra.core.TypeApplicationTerm(cast(hydra.core.Term, hydra.core.TermTypeApplication(hydra.core.TypeApplicationTerm(cast(hydra.core.Term, hydra.core.TermTypeApplication(hydra.core.TypeApplicationTerm(cast(hydra.core.Term, hydra.core.TermVariable(hydra.core.Name("conditionalUnexpected"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0")))))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t1")))))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t2")))))))))))))))))), cast(hydra.core.Type, hydra.core.TypeForall(hydra.core.ForallType(hydra.core.Name("t0"), cast(hydra.core.Type, hydra.core.TypeForall(hydra.core.ForallType(hydra.core.Name("t1"), cast(hydra.core.Type, hydra.core.TypeForall(hydra.core.ForallType(hydra.core.Name("t2"), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeString()))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeLiteral(cast(hydra.core.LiteralType, hydra.core.LiteralTypeBoolean()))), cast(hydra.core.Type, hydra.core.TypeFunction(hydra.core.FunctionType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t0"))), cast(hydra.core.Type, hydra.core.TypeApplication(hydra.core.ApplicationType(cast(hydra.core.Type, hydra.core.TypeApplication(hydra.core.ApplicationType(cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("hydra.compute.Flow"))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t1")))))), cast(hydra.core.Type, hydra.core.TypeVariable(hydra.core.Name("t2"))))))))))))))))))))))))))), Nothing(), (hydra.testing.Tag("disabledForPython"),)),))

def flows_tests() -> hydra.testing.TestGroup:
    return hydra.testing.TestGroup("Flows", Nothing(), (flows_with_failure_across_let_bindings_tests(),), ())

def all_tests() -> hydra.testing.TestGroup:
    r"""Advanced type checking test cases."""
    
    return hydra.testing.TestGroup("Advanced", Nothing(), (annotated_terms_tests(), flows_tests()), ())
